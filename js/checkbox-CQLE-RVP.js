var Q=Object.defineProperty,V=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var M=(e,t,r)=>t in e?Q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t)=>{for(var r in t||(t={}))T.call(t,r)&&M(e,r,t[r]);if(I)for(var r of I(t))q.call(t,r)&&M(e,r,t[r]);return e},v=(e,t)=>V(e,W(t));var R=(e,t)=>{var r={};for(var o in e)T.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&I)for(var o of I(e))t.indexOf(o)<0&&q.call(e,o)&&(r[o]=e[o]);return r};import{r as l,j as d,i as Y,n as Z,P as N,h as ee,k as F,l as A,o as te,R as re,b as D}from"./main-B2Z1A0fl.js";import{u as oe}from"./index-DENeMT3x.js";import{C as ne}from"./check-DuTiAf7C.js";var j="Checkbox",[se,he]=Y(j),[ce,w]=se(j);function ae(e){const{__scopeCheckbox:t,checked:r,children:o,defaultChecked:n,disabled:u,form:c,name:s,onCheckedChange:b,required:k,value:f="on",internal_do_not_use_render:C}=e,[x,h]=ee({prop:r,defaultProp:n!=null?n:!1,onChange:b,caller:j}),[m,E]=l.useState(null),[_,y]=l.useState(null),P=l.useRef(!1),a=m?!!c||!!m.closest("form"):!0,i={checked:x,disabled:u,setChecked:h,control:m,setControl:E,name:s,form:c,value:f,hasConsumerStoppedPropagationRef:P,required:k,defaultChecked:g(n)?!1:n,isFormControl:a,bubbleInput:_,setBubbleInput:y};return d.jsx(ce,v(p({scope:t},i),{children:ie(C)?C(i):o}))}var L="CheckboxTrigger",O=l.forwardRef((u,n)=>{var c=u,{__scopeCheckbox:e,onKeyDown:t,onClick:r}=c,o=R(c,["__scopeCheckbox","onKeyDown","onClick"]);const{control:s,value:b,disabled:k,checked:f,required:C,setControl:x,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:E,bubbleInput:_}=w(L,e),y=F(n,x),P=l.useRef(f);return l.useEffect(()=>{const a=s==null?void 0:s.form;if(a){const i=()=>h(P.current);return a.addEventListener("reset",i),()=>a.removeEventListener("reset",i)}},[s,h]),d.jsx(N.button,v(p({type:"button",role:"checkbox","aria-checked":g(f)?"mixed":f,"aria-required":C,"data-state":U(f),"data-disabled":k?"":void 0,disabled:k,value:b},o),{ref:y,onKeyDown:A(t,a=>{a.key==="Enter"&&a.preventDefault()}),onClick:A(r,a=>{h(i=>g(i)?!0:!i),_&&E&&(m.current=a.isPropagationStopped(),m.current||a.stopPropagation())})}))});O.displayName=L;var S=l.forwardRef((e,t)=>{const x=e,{__scopeCheckbox:r,name:o,checked:n,defaultChecked:u,required:c,disabled:s,value:b,onCheckedChange:k,form:f}=x,C=R(x,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]);return d.jsx(ae,{__scopeCheckbox:r,checked:n,defaultChecked:u,disabled:s,required:c,onCheckedChange:k,name:o,form:f,value:b,internal_do_not_use_render:({isFormControl:h})=>d.jsxs(d.Fragment,{children:[d.jsx(O,v(p({},C),{ref:t,__scopeCheckbox:r})),h&&d.jsx(K,{__scopeCheckbox:r})]})})});S.displayName=j;var H="CheckboxIndicator",z=l.forwardRef((e,t)=>{const c=e,{__scopeCheckbox:r,forceMount:o}=c,n=R(c,["__scopeCheckbox","forceMount"]),u=w(H,r);return d.jsx(Z,{present:o||g(u.checked)||u.checked===!0,children:d.jsx(N.span,v(p({"data-state":U(u.checked),"data-disabled":u.disabled?"":void 0},n),{ref:t,style:p({pointerEvents:"none"},e.style)}))})});z.displayName=H;var G="CheckboxBubbleInput",K=l.forwardRef((o,r)=>{var n=o,{__scopeCheckbox:e}=n,t=R(n,["__scopeCheckbox"]);const{control:u,hasConsumerStoppedPropagationRef:c,checked:s,defaultChecked:b,required:k,disabled:f,name:C,value:x,form:h,bubbleInput:m,setBubbleInput:E}=w(G,e),_=F(r,E),y=oe(s),P=te(u);l.useEffect(()=>{const i=m;if(!i)return;const X=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(X,"checked").set,$=!c.current;if(y!==s&&B){const J=new Event("click",{bubbles:$});i.indeterminate=g(s),B.call(i,g(s)?!1:s),i.dispatchEvent(J)}},[m,y,s,c]);const a=l.useRef(g(s)?!1:s);return d.jsx(N.input,v(p({type:"checkbox","aria-hidden":!0,defaultChecked:b!=null?b:a.current,required:k,disabled:f,name:C,value:x,form:h},t),{tabIndex:-1,ref:_,style:v(p(p({},t.style),P),{position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"})}))});K.displayName=G;function ie(e){return typeof e=="function"}function g(e){return e==="indeterminate"}function U(e){return g(e)?"indeterminate":e?"checked":"unchecked"}const de=re.forwardRef((o,r)=>{var n=o,{className:e}=n,t=R(n,["className"]);return d.jsx(S,v(p({ref:r,className:D("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e)},t),{children:d.jsx(z,{className:D("flex items-center justify-center text-current"),children:d.jsx(ne,{className:"h-4 w-4"})})}))});de.displayName=S.displayName;export{de as C};
