import{j as s}from"./chunk-V8Tq47hD.js";import{C,B as r,a as z}from"./main-nj8_qmr1.js";import{B as o}from"./chunk-BqqQDpKD.js";import{A as k,a as _,b as y}from"./chunk-CJL1E-Mt.js";import{p as E}from"./chunk-aOfXXddH.js";import{j as P,g as h,h as M,C as A,z as O,M as $,U as g,$ as D,i as U,aq as B}from"./chunk-BD2ShIYc.js";import{a as F}from"./chunk-jOF7Mqj2.js";const K=({event:e,onAttend:t,onBook:i,onLike:l,onChat:c,showOrganizer:p=!0,verified:u=!1})=>{const n=E(),j=a=>{try{return F(new Date(a),"MMM dd, yyyy")}catch(V){return a}},f=a=>a===0?"Free":`$${a}`,m=()=>e.organizer_name||"Event Organizer",N=()=>e.organizer_avatar||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&",d=()=>{n(`/event/${e.id}`)},w=a=>{a.stopPropagation(),n(`/profile/${e.user_id}`)},v=a=>{a.stopPropagation(),t==null||t(e.id)},b=a=>{a.stopPropagation(),i==null||i(e.id)},x=a=>{a.stopPropagation(),l==null||l(e.id)};return s.jsxs(C,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer group",onClick:d,children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=400&fit=crop",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(o,{className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold",children:f(e.price)})}),u&&s.jsx("div",{className:"absolute top-3 left-20",children:s.jsxs(o,{className:"bg-blue-500 hover:bg-blue-600 text-white",children:[s.jsx(P,{className:"w-3 h-3 mr-1"}),"Verified"]})}),s.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.jsx(r,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/20 hover:bg-white/30 text-white",onClick:x,children:s.jsx(h,{className:"w-4 h-4"})}),s.jsx(r,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/20 hover:bg-white/30 text-white",onClick:a=>{a.stopPropagation(),c==null||c(e.id,e.user_id)},children:s.jsx(M,{className:"w-4 h-4"})})]})]})}),s.jsxs(z,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:e.title}),e.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:e.description}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(A,{className:"w-4 h-4"}),s.jsx("span",{children:j(e.event_date)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(O,{className:"w-4 h-4"}),s.jsx("span",{children:e.event_time})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx($,{className:"w-4 h-4"}),s.jsx("span",{children:e.location_name})]})]}),e.category&&s.jsx("div",{className:"mb-3",children:s.jsx(o,{variant:"secondary",className:"text-xs",children:e.category})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[s.jsx(g,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.attendees_count," / ",e.max_attendees||"âˆž"," attending"]})]}),p&&s.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 rounded-lg hover:bg-muted transition-colors cursor-pointer",onClick:w,children:[s.jsxs(k,{className:"w-8 h-8",children:[s.jsx(_,{src:N()}),s.jsx(y,{className:"text-xs",children:m().charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:m()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Event Organizer"})]}),s.jsx(D,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(r,{variant:e.user_attending?"default":"outline",size:"sm",className:"flex-1",onClick:v,children:[s.jsx(g,{className:"w-4 h-4 mr-1"}),e.user_attending?"Attending":"Attend"]}),s.jsxs(r,{variant:"outline",size:"sm",className:"flex-1",onClick:b,children:[s.jsx(U,{className:"w-4 h-4 mr-1"}),"Book"]}),s.jsxs(r,{variant:"outline",size:"sm",className:"flex-1",onClick:x,children:[s.jsx(h,{className:"w-4 h-4 mr-1"}),"Like"]})]}),s.jsx("div",{className:"mt-3 text-center",children:s.jsxs(r,{variant:"ghost",size:"sm",className:"text-xs text-muted-foreground hover:text-primary",onClick:d,children:[s.jsx(B,{className:"w-3 h-3 mr-1"}),"View Details"]})})]})]})};export{K as E};
