var V=Object.defineProperty,B=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var L=(c,r,n)=>r in c?V(c,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[r]=n,T=(c,r)=>{for(var n in r||(r={}))H.call(r,n)&&L(c,n,r[n]);if(M)for(var n of M(r))J.call(r,n)&&L(c,n,r[n]);return c},q=(c,r)=>B(c,G(r));var P=(c,r,n)=>new Promise((S,b)=>{var v=u=>{try{f(n.next(u))}catch(y){b(y)}},F=u=>{try{f(n.throw(u))}catch(y){b(y)}},f=u=>u.done?S(u.value):Promise.resolve(u.value).then(v,F);f((n=n.apply(c,r)).next())});import{c as Z,r as g,j as e,C as d,p as m,q as h,t as x,v as j,S as O,B as E,e as U}from"./main-B2Z1A0fl.js";import{I as l}from"./index-yZSPA8A-.js";import{L as i}from"./label-naFpKG2V.js";import{S as o}from"./switch-CXwgEgoS.js";import{T as R}from"./textarea-DgIPQeWX.js";import{S as W,a as Y,b as K,c as Q,d as w}from"./select-BMFlvWAC.js";import{A as z,a as D,U as X}from"./alert-DX9hSffn.js";import{T as $,a as ee,b as N,c as C}from"./tabs-WXu0DGF3.js";import{u as se,A as ae,a as te,b as ie}from"./AdminLayout-Bu9tNW8d.js";import{A as ne}from"./alert-triangle-bKrHasvT.js";import{G as re}from"./globe-hh-GoiRn.js";import{P as le,Z as ce}from"./zap-BDCYOuKc.js";import{S as oe}from"./shield-CZrQFOJQ.js";import{L as de}from"./lock-Cg1e7wtp.js";import{F as me}from"./file-text-j6vKfLib.js";import{B as he}from"./bell-BrPt3aXG.js";import{M as xe}from"./mail-UfkYQHv-.js";import{S as je}from"./save-tE0FVUOF.js";import"./index-DENeMT3x.js";import"./index-DJ86sh13.js";import"./chevron-up-CetLqit9.js";import"./check-DuTiAf7C.js";import"./eye-off-B3dPSqT9.js";import"./eye-DKsWSINO.js";import"./loader-2-BKFknEq3.js";import"./scroll-area-BhRuPQbm.js";import"./bar-chart-3-BOeHrMz9.js";import"./log-out-wiSeNNbg.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=Z("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Je=()=>{se();const[c,r]=g.useState(!0),[n,S]=g.useState(!1),[b,v]=g.useState(null),[F,f]=g.useState(null),[u,y]=g.useState({}),k=g.useMemo(()=>new ae,[]);g.useEffect(()=>{A()},[A]);const A=g.useCallback(()=>P(void 0,null,function*(){try{r(!0),v(null);const s=yield k.getSystemSettings(),p={};s.forEach(_=>{p[_.setting_key]=_}),y(p)}catch(s){v(s instanceof Error?s.message:"Failed to load settings")}finally{r(!1)}}),[k]),a=(s,p)=>{y(_=>q(T({},_),{[s]:q(T({},_[s]),{setting_value:p.toString()})}))},I=()=>P(void 0,null,function*(){try{S(!0),v(null),f(null);const s=Object.values(u).filter(p=>p.is_public);yield k.updateSystemSettings(s),f("Settings saved successfully")}catch(s){v(s instanceof Error?s.message:"Failed to save settings")}finally{S(!1)}}),t=(s,p="")=>{var _;return((_=u[s])==null?void 0:_.setting_value)||p};return c?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):e.jsx(te,{requiredPermission:"settings:manage",children:e.jsx(ie,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Settings"}),e.jsx("p",{className:"text-gray-600",children:"Configure platform settings and system preferences"})]}),b&&e.jsxs(z,{className:"mb-6",children:[e.jsx(ne,{className:"h-4 w-4"}),e.jsx(D,{children:b})]}),F&&e.jsx(z,{className:"mb-6",children:e.jsx(D,{className:"text-green-800",children:F})}),e.jsxs($,{defaultValue:"general",className:"space-y-6",children:[e.jsxs(ee,{children:[e.jsx(N,{value:"general",children:"General"}),e.jsx(N,{value:"security",children:"Security"}),e.jsx(N,{value:"users",children:"Users"}),e.jsx(N,{value:"content",children:"Content"}),e.jsx(N,{value:"notifications",children:"Notifications"}),e.jsx(N,{value:"advanced",children:"Advanced"})]}),e.jsxs(C,{value:"general",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-5 w-5"}),"Platform Information"]}),e.jsx(x,{children:"Basic platform configuration"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"platform_name",children:"Platform Name"}),e.jsx(l,{id:"platform_name",value:t("platform_name","Glocal"),onChange:s=>a("platform_name",s.target.value),placeholder:"Enter platform name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"platform_description",children:"Platform Description"}),e.jsx(l,{id:"platform_description",value:t("platform_description"),onChange:s=>a("platform_description",s.target.value),placeholder:"Enter platform description"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"contact_email",children:"Contact Email"}),e.jsx(l,{id:"contact_email",type:"email",value:t("contact_email"),onChange:s=>a("contact_email",s.target.value),placeholder:"admin@example.com"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"timezone",children:"Default Timezone"}),e.jsxs(W,{value:t("timezone","UTC"),onValueChange:s=>a("timezone",s),children:[e.jsx(Y,{children:e.jsx(K,{})}),e.jsxs(Q,{children:[e.jsx(w,{value:"UTC",children:"UTC"}),e.jsx(w,{value:"America/New_York",children:"Eastern Time"}),e.jsx(w,{value:"America/Chicago",children:"Central Time"}),e.jsx(w,{value:"America/Denver",children:"Mountain Time"}),e.jsx(w,{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Appearance"]}),e.jsx(x,{children:"Platform appearance settings"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"logo_url",children:"Logo URL"}),e.jsx(l,{id:"logo_url",value:t("logo_url"),onChange:s=>a("logo_url",s.target.value),placeholder:"https://example.com/logo.png"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"favicon_url",children:"Favicon URL"}),e.jsx(l,{id:"favicon_url",value:t("favicon_url"),onChange:s=>a("favicon_url",s.target.value),placeholder:"https://example.com/favicon.ico"})]})]})})]})]}),e.jsxs(C,{value:"security",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-5 w-5"}),"Security Settings"]}),e.jsx(x,{children:"Platform security configuration"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"maintenance_mode",children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable maintenance mode to restrict access"})]}),e.jsx(o,{id:"maintenance_mode",checked:t("maintenance_mode")==="true",onCheckedChange:s=>a("maintenance_mode",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"registration_enabled",children:"User Registration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Allow new users to register"})]}),e.jsx(o,{id:"registration_enabled",checked:t("registration_enabled","true")==="true",onCheckedChange:s=>a("registration_enabled",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email_verification_required",children:"Email Verification Required"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require email verification for new accounts"})]}),e.jsx(o,{id:"email_verification_required",checked:t("email_verification_required","true")==="true",onCheckedChange:s=>a("email_verification_required",s)})]})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-5 w-5"}),"Authentication"]}),e.jsx(x,{children:"Authentication and session settings"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"session_timeout",children:"Session Timeout (minutes)"}),e.jsx(l,{id:"session_timeout",type:"number",value:t("session_timeout","60"),onChange:s=>a("session_timeout",s.target.value),min:"15",max:"1440"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_login_attempts",children:"Max Login Attempts"}),e.jsx(l,{id:"max_login_attempts",type:"number",value:t("max_login_attempts","5"),onChange:s=>a("max_login_attempts",s.target.value),min:"3",max:"10"})]})]})})]})]}),e.jsxs(C,{value:"users",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"User Management"]}),e.jsx(x,{children:"User account and profile settings"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"allow_profile_editing",children:"Allow Profile Editing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Users can edit their profiles"})]}),e.jsx(o,{id:"allow_profile_editing",checked:t("allow_profile_editing","true")==="true",onCheckedChange:s=>a("allow_profile_editing",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"require_location",children:"Require Location"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Users must provide location information"})]}),e.jsx(o,{id:"require_location",checked:t("require_location","false")==="true",onCheckedChange:s=>a("require_location",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"auto_approve_users",children:"Auto-approve New Users"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically approve new user registrations"})]}),e.jsx(o,{id:"auto_approve_users",checked:t("auto_approve_users","true")==="true",onCheckedChange:s=>a("auto_approve_users",s)})]})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"User Limits"]}),e.jsx(x,{children:"User activity and content limits"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_posts_per_day",children:"Max Posts Per Day"}),e.jsx(l,{id:"max_posts_per_day",type:"number",value:t("max_posts_per_day","10"),onChange:s=>a("max_posts_per_day",s.target.value),min:"1",max:"100"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_events_per_month",children:"Max Events Per Month"}),e.jsx(l,{id:"max_events_per_month",type:"number",value:t("max_events_per_month","5"),onChange:s=>a("max_events_per_month",s.target.value),min:"1",max:"50"})]})]})})]})]}),e.jsxs(C,{value:"content",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-5 w-5"}),"Content Moderation"]}),e.jsx(x,{children:"Content moderation and filtering settings"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"auto_moderate_content",children:"Auto-moderate Content"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automatically filter inappropriate content"})]}),e.jsx(o,{id:"auto_moderate_content",checked:t("auto_moderate_content","false")==="true",onCheckedChange:s=>a("auto_moderate_content",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"require_content_approval",children:"Require Content Approval"}),e.jsx("p",{className:"text-sm text-gray-500",children:"All content must be approved before publishing"})]}),e.jsx(o,{id:"require_content_approval",checked:t("require_content_approval","false")==="true",onCheckedChange:s=>a("require_content_approval",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"allow_anonymous_posts",children:"Allow Anonymous Posts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Users can post without revealing their identity"})]}),e.jsx(o,{id:"allow_anonymous_posts",checked:t("allow_anonymous_posts","false")==="true",onCheckedChange:s=>a("allow_anonymous_posts",s)})]})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"Content Storage"]}),e.jsx(x,{children:"Content storage and retention settings"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"max_file_size_mb",children:"Max File Size (MB)"}),e.jsx(l,{id:"max_file_size_mb",type:"number",value:t("max_file_size_mb","10"),onChange:s=>a("max_file_size_mb",s.target.value),min:"1",max:"100"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"content_retention_days",children:"Content Retention (days)"}),e.jsx(l,{id:"content_retention_days",type:"number",value:t("content_retention_days","365"),onChange:s=>a("content_retention_days",s.target.value),min:"30",max:"3650"})]})]})})]})]}),e.jsxs(C,{value:"notifications",className:"space-y-6",children:[e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Notification Settings"]}),e.jsx(x,{children:"Platform notification configuration"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email_notifications_enabled",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable email notifications for users"})]}),e.jsx(o,{id:"email_notifications_enabled",checked:t("email_notifications_enabled","true")==="true",onCheckedChange:s=>a("email_notifications_enabled",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"push_notifications_enabled",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable push notifications"})]}),e.jsx(o,{id:"push_notifications_enabled",checked:t("push_notifications_enabled","true")==="true",onCheckedChange:s=>a("push_notifications_enabled",s)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"welcome_email_enabled",children:"Welcome Email"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Send welcome email to new users"})]}),e.jsx(o,{id:"welcome_email_enabled",checked:t("welcome_email_enabled","true")==="true",onCheckedChange:s=>a("welcome_email_enabled",s)})]})]})})]}),e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5"}),"Email Configuration"]}),e.jsx(x,{children:"Email service configuration"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"smtp_host",children:"SMTP Host"}),e.jsx(l,{id:"smtp_host",value:t("smtp_host"),onChange:s=>a("smtp_host",s.target.value),placeholder:"smtp.gmail.com"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"smtp_port",children:"SMTP Port"}),e.jsx(l,{id:"smtp_port",type:"number",value:t("smtp_port","587"),onChange:s=>a("smtp_port",s.target.value),placeholder:"587"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"smtp_username",children:"SMTP Username"}),e.jsx(l,{id:"smtp_username",value:t("smtp_username"),onChange:s=>a("smtp_username",s.target.value),placeholder:"your-email@gmail.com"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"smtp_password",children:"SMTP Password"}),e.jsx(l,{id:"smtp_password",type:"password",value:t("smtp_password"),onChange:s=>a("smtp_password",s.target.value),placeholder:"Enter SMTP password"})]})]})})]})]}),e.jsx(C,{value:"advanced",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(m,{children:[e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),"Advanced Settings"]}),e.jsx(x,{children:"Advanced platform configuration"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"cache_ttl",children:"Cache TTL (seconds)"}),e.jsx(l,{id:"cache_ttl",type:"number",value:t("cache_ttl","3600"),onChange:s=>a("cache_ttl",s.target.value),min:"60",max:"86400"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"rate_limit_requests",children:"Rate Limit (requests/min)"}),e.jsx(l,{id:"rate_limit_requests",type:"number",value:t("rate_limit_requests","100"),onChange:s=>a("rate_limit_requests",s.target.value),min:"10",max:"1000"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"custom_css",children:"Custom CSS"}),e.jsx(R,{id:"custom_css",value:t("custom_css"),onChange:s=>a("custom_css",s.target.value),placeholder:"/* Custom CSS styles */",rows:6})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"custom_js",children:"Custom JavaScript"}),e.jsx(R,{id:"custom_js",value:t("custom_js"),onChange:s=>a("custom_js",s.target.value),placeholder:"// Custom JavaScript code",rows:6})]})]})]})})]}),e.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[e.jsxs(E,{variant:"outline",onClick:A,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reset to Defaults"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{variant:"outline",onClick:A,children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reload"]}),e.jsxs(E,{onClick:I,disabled:n,children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),n?"Saving...":"Save Settings"]})]})]})]})})})};export{Je as default};
