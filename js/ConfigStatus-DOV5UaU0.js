import{R as React,K as e,aC as s,j as a,C as t,v as i,w as l,x as n,y as r,aD as c,i as d,B as o,k as m}from"./main-u5iDOJMZ.js";import{B as x}from"./badge-k0SsuPwB.js";import{C as u}from"./check-circle-Unk97XuD.js";import{X as h}from"./x-circle-Dz5LHxry.js";const v=()=>{const[v,j]=React.useState(e()),[p,f]=React.useState(!1),b=s(),N=c.url,y=c.anonKey,g=(()=>N.includes("your_supabase")?{valid:!1,message:"Invalid or placeholder URL"}:N.startsWith("https://")&&N.includes(".supabase.co")?{valid:!0,message:"Valid Supabase URL"}:{valid:!1,message:"Invalid URL format"})(),I=(()=>y.includes("your_supabase")?{valid:!1,message:"Invalid or placeholder key"}:y.startsWith("eyJ")&&y.length>100?{valid:!0,message:"Valid JWT key format"}:{valid:!1,message:"Invalid key format"})();return a.jsxs(t,{className:"w-full max-w-2xl mx-auto",children:[a.jsxs(i,{children:[a.jsxs(l,{className:"flex items-center gap-2",children:[(()=>b?a.jsx(u,{className:"h-5 w-5 text-green-500"}):a.jsx(h,{className:"h-5 w-5 text-red-500"}))(),"Configuration Status"]}),a.jsx(n,{children:"Current status of your environment variables and Supabase connection"})]}),a.jsxs(r,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Overall Status:"}),(()=>b?a.jsx(x,{variant:"default",className:"bg-green-100 text-green-800",children:"Configured"}):a.jsx(x,{variant:"destructive",children:"Not Configured"}))()]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"VITE_SUPABASE_URL:"}),a.jsx(x,{variant:g.valid?"default":"destructive",children:g.valid?"Valid":"Invalid"})]}),a.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded",children:N}),!g.valid&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-600",children:[a.jsx(d,{className:"h-4 w-4"}),g.message]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"VITE_SUPABASE_ANON_KEY:"}),a.jsx(x,{variant:I.valid?"default":"destructive",children:I.valid?"Valid":"Invalid"})]}),a.jsx("div",{className:"text-xs text-gray-600 bg-gray-50 p-2 rounded font-mono",children:`${y.substring(0,20)}...`}),!I.valid&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-600",children:[a.jsx(d,{className:"h-4 w-4"}),I.message]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Connection Status:"}),a.jsx(x,{variant:v.connected?"default":"destructive",children:v.connected?"Connected":"Disconnected"})]}),v.error&&a.jsx("div",{className:"text-xs text-red-600 bg-red-50 p-2 rounded",children:v.error})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs(o,{onClick:()=>((e,s,a)=>new Promise((t,i)=>{var l=e=>{try{r(a.next(e))}catch(s){i(s)}},n=e=>{try{r(a.throw(e))}catch(s){i(s)}},r=e=>e.done?t(e.value):Promise.resolve(e.value).then(l,n);r((a=a.apply(e,s)).next())}))(void 0,null,function*(){f(!0),yield new Promise(e=>setTimeout(e,1e3)),j(e()),f(!1)}),disabled:p,variant:"outline",size:"sm",children:[a.jsx(m,{className:"h-4 w-4 mr-2 "+(p?"animate-spin":"")}),"Refresh Status"]}),!b&&a.jsx(o,{onClick:()=>{const e=new Blob(["# Supabase Configuration (Required)\nVITE_SUPABASE_URL=https://tepvzhbgobckybyhryuj.supabase.co\nVITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlcHZ6aGJnb2Jja3lieWhyeXVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzODIzNzQsImV4cCI6MjA2OTk1ODM3NH0.RBtDkdzRu-rgRs-kYHj9zlChhqO7lLvrnnVR2vBwji4\n\n# Copy this to your .env file\n# Never commit .env files to version control"],{type:"text/plain"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=".env.example",a.click(),URL.revokeObjectURL(s)},variant:"default",size:"sm",children:"Download .env Template"})]}),!b&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"How to Fix:"}),a.jsxs("ol",{className:"text-sm text-blue-800 space-y-1 list-decimal list-inside",children:[a.jsxs("li",{children:["Create a ",a.jsx("code",{className:"bg-blue-100 px-1 rounded",children:".env"})," file in your project root"]}),a.jsx("li",{children:"Add your Supabase credentials (see template above)"}),a.jsx("li",{children:"Restart your development server"}),a.jsx("li",{children:"Refresh this page to verify the configuration"})]})]})]})]})};export{v as ConfigStatus,v as default};
