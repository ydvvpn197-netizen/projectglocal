var xe=Object.defineProperty,pe=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ge=Object.prototype.hasOwnProperty,fe=Object.prototype.propertyIsEnumerable;var z=(c,t,s)=>t in c?xe(c,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):c[t]=s,h=(c,t)=>{for(var s in t||(t={}))ge.call(t,s)&&z(c,s,t[s]);if(ee)for(var s of ee(t))fe.call(t,s)&&z(c,s,t[s]);return c},p=(c,t)=>pe(c,ue(t));var K=(c,t,s)=>z(c,typeof t!="symbol"?t+"":t,s);var y=(c,t,s)=>new Promise((l,d)=>{var x=j=>{try{v(s.next(j))}catch(r){d(r)}},b=j=>{try{v(s.throw(j))}catch(r){d(r)}},v=j=>j.done?l(j.value):Promise.resolve(j.value).then(x,b);v((s=s.apply(c,t)).next())});import{c as je,s as N,Q as g,r as w,af as ye,j as e,B as _,C,v as F,p as k,q as O,f as ve}from"./main-jfCIwKxb.js";import{u as U,a as P,B as se}from"./useMutation-BSOql2Py.js";import{T as Ne,a as _e,b as H,c as Q}from"./tabs-Bho2AISw.js";import{B as E}from"./badge-Cxniq3nT.js";import{S as ae}from"./separator-CQeeh5sy.js";import{A as ie,a as ne}from"./alert-f_BC70aV.js";import{I as f}from"./index-DGobKVbi.js";import{S as re}from"./scroll-area-Bsyy6uVd.js";import{T as I}from"./textarea-Dm2RgXBl.js";import{D as we,e as Se,a as be,b as De,c as Te}from"./dialog-Db9VuKsi.js";import{P as Ee}from"./plus-Bi3vU8QF.js";import{L as M}from"./loader-2-iBg9Stez.js";import{S as W}from"./shield-C-Scp_5m.js";import{C as le}from"./clock-CT2ky6hG.js";import{T as Ce}from"./index-DCmZQWeX.js";import{A as oe}from"./alert-triangle-DO8UyvKH.js";import{S as Fe}from"./send-DzW_Bs8U.js";import{M as ce}from"./message-square-oWFCH1Pi.js";import{u as qe,a as Ae,d as Pe,o as V,s as m,l as B}from"./schemas-DYxMo0bf.js";import{S as Me,a as Re,b as Le,c as $e,d as Ie}from"./select-BK9ujtwJ.js";import{L as u}from"./label-BhjyL16S.js";import{P as ke}from"./pen-square-Ciuy6KYM.js";import{S as te}from"./save-CTzb2421.js";import{F as q}from"./file-text-C_1z4c-s.js";import{I as Oe}from"./info-Dpn6SoC0.js";import{E as Ue}from"./eye-CYa_iGA4.js";import{R as Ve,e as Be}from"./ResponsiveLayout-Dd-U-XTf.js";import{D as X}from"./download-N2wYwcou.js";import"./index-D6sgUugm.js";import"./index-CaL9moq2.js";import"./check-CWeqS_MX.js";import"./index-BqrjOP3n.js";import"./chevron-up-DhaGujCg.js";import"./databaseUtils-Cc-GydU0.js";import"./useNotifications-DlynYvan.js";import"./notificationService-DPR46Nx3.js";import"./bell-CXNc_0l5.js";import"./user-cZSM4iEh.js";import"./search-DIpOLffQ.js";import"./calendar-CXbnSY_4.js";import"./zap-C2TAeX5H.js";import"./map-pin-B5hnRU36.js";import"./wifi-Ue5kLFZw.js";import"./log-out-CxjypOOW.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=je("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),D=class D{constructor(){K(this,"documentTypes",[{id:"rental_agreement",name:"Rental Agreement",description:"Standard residential rental agreement",required_fields:["landlord_name","tenant_name","property_address","rent_amount","lease_term"]},{id:"employment_contract",name:"Employment Contract",description:"Employment agreement between employer and employee",required_fields:["employer_name","employee_name","position","salary","start_date"]},{id:"nda",name:"Non-Disclosure Agreement",description:"Confidentiality agreement",required_fields:["disclosing_party","receiving_party","confidential_information","term"]},{id:"service_agreement",name:"Service Agreement",description:"Service provider agreement",required_fields:["service_provider","client","services","payment_terms"]}])}static getInstance(){return D.instance||(D.instance=new D),D.instance}getDocumentTypes(){return y(this,null,function*(){return this.documentTypes})}createChatSession(t){return y(this,null,function*(){var s;try{const{data:l,error:d}=yield N.from("legal_chat_sessions").insert({session_name:t,user_id:(s=(yield N.auth.getUser()).data.user)==null?void 0:s.id}).select().single();if(d)throw d;return l}catch(l){throw console.error("Error creating chat session:",l),g.error("Failed to create chat session"),l}})}getChatSessions(){return y(this,null,function*(){try{const{data:t,error:s}=yield N.from("legal_chat_sessions").select("*").order("updated_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching chat sessions:",t),g.error("Failed to fetch chat sessions"),t}})}getChatMessages(t){return y(this,null,function*(){try{const{data:s,error:l}=yield N.from("legal_chat_messages").select("*").eq("session_id",t).order("created_at",{ascending:!0});if(l)throw l;return s||[]}catch(s){throw console.error("Error fetching chat messages:",s),g.error("Failed to fetch chat messages"),s}})}sendMessage(t,s){return y(this,null,function*(){try{const{data:l,error:d}=yield N.from("legal_chat_messages").insert({session_id:t,message_type:"user",content:s}).select().single();if(d)throw d;const x=yield this.generateAIResponse(s,t),{data:b,error:v}=yield N.from("legal_chat_messages").insert({session_id:t,message_type:"assistant",content:x,metadata:{disclaimer:"This is not a substitute for licensed legal advice. Please consult with a qualified attorney for your specific legal needs."}}).select().single();if(v)throw v;return yield N.from("legal_chat_sessions").update({updated_at:new Date().toISOString()}).eq("id",t),l}catch(l){throw console.error("Error sending message:",l),g.error("Failed to send message"),l}})}generateAIResponse(t,s){return y(this,null,function*(){const l=["Based on your question, I can provide some general guidance. However, please note that this is not legal advice and you should consult with a qualified attorney for your specific situation.","I understand your concern. Here are some general points to consider, but remember to seek professional legal counsel for your particular case.","This is a complex legal matter that requires careful consideration. While I can offer some general information, I strongly recommend consulting with a licensed attorney.","Thank you for your question. Here's some general information that might be helpful, but please consult with a legal professional for specific advice."];return yield new Promise(x=>setTimeout(x,1e3+Math.random()*2e3)),`${l[Math.floor(Math.random()*l.length)]}

**Important Disclaimer**: This response is generated by an AI assistant and is not a substitute for professional legal advice. Always consult with a qualified attorney for your specific legal needs.`})}createDraft(t){return y(this,null,function*(){var s;try{const{data:l,error:d}=yield N.from("legal_drafts").insert(p(h({},t),{user_id:(s=(yield N.auth.getUser()).data.user)==null?void 0:s.id})).select().single();if(d)throw d;return l}catch(l){throw console.error("Error creating draft:",l),g.error("Failed to create draft"),l}})}getDrafts(){return y(this,null,function*(){try{const{data:t,error:s}=yield N.from("legal_drafts").select("*").order("updated_at",{ascending:!1});if(s)throw s;return t||[]}catch(t){throw console.error("Error fetching drafts:",t),g.error("Failed to fetch drafts"),t}})}updateDraft(t,s){return y(this,null,function*(){try{const{data:l,error:d}=yield N.from("legal_drafts").update(s).eq("id",t).select().single();if(d)throw d;return l}catch(l){throw console.error("Error updating draft:",l),g.error("Failed to update draft"),l}})}generateDocument(t){return y(this,null,function*(){try{const{data:s,error:l}=yield N.from("legal_drafts").select("*").eq("id",t).single();if(l)throw l;const d=yield this.generatePDF(s),x=yield this.generateDOCX(s);return yield this.updateDraft(t,{file_urls:{pdf:d,docx:x},status:"final"}),{pdfUrl:d,docxUrl:x}}catch(s){throw console.error("Error generating document:",s),g.error("Failed to generate document"),s}})}generatePDF(t){return y(this,null,function*(){return yield new Promise(s=>setTimeout(s,2e3)),`https://example.com/documents/${t.id}.pdf`})}generateDOCX(t){return y(this,null,function*(){return yield new Promise(s=>setTimeout(s,1500)),`https://example.com/documents/${t.id}.docx`})}deleteChatSession(t){return y(this,null,function*(){try{const{error:s}=yield N.from("legal_chat_sessions").delete().eq("id",t);if(s)throw s;g.success("Chat session deleted successfully")}catch(s){throw console.error("Error deleting chat session:",s),g.error("Failed to delete chat session"),s}})}deleteDraft(t){return y(this,null,function*(){try{const{error:s}=yield N.from("legal_drafts").delete().eq("id",t);if(s)throw s;g.success("Draft deleted successfully")}catch(s){throw console.error("Error deleting draft:",s),g.error("Failed to delete draft"),s}})}};K(D,"instance");let Y=D;const S=Y.getInstance(),ze=({sessionId:c,onSessionChange:t})=>{const[s,l]=w.useState(""),[d,x]=w.useState(!1),[b,v]=w.useState(!1),[j,r]=w.useState(""),o=w.useRef(null);ye();const{data:R=[],refetch:A}=U({queryKey:["legal-chat-sessions"],queryFn:()=>S.getChatSessions()}),{data:L=[],refetch:$}=U({queryKey:["legal-chat-messages",c],queryFn:()=>c?S.getChatMessages(c):Promise.resolve([]),enabled:!!c}),G=P({mutationFn:({sessionId:n,content:T})=>S.sendMessage(n,T),onSuccess:()=>{$(),A(),l("")},onError:n=>{console.error("Error sending message:",n),g.error("Failed to send message")}}),a=P({mutationFn:n=>S.createChatSession(n),onSuccess:n=>{v(!1),r(""),A(),t&&t(n.id),g.success("New chat session created")},onError:n=>{console.error("Error creating session:",n),g.error("Failed to create chat session")}}),i=P({mutationFn:n=>S.deleteChatSession(n),onSuccess:()=>{A(),t&&t(""),g.success("Chat session deleted")},onError:n=>{console.error("Error deleting session:",n),g.error("Failed to delete chat session")}});w.useEffect(()=>{var n;(n=o.current)==null||n.scrollIntoView({behavior:"smooth"})},[L]);const J=()=>y(void 0,null,function*(){if(!(!s.trim()||!c)){x(!0);try{yield G.mutateAsync({sessionId:c,content:s.trim()})}finally{x(!1)}}}),Z=()=>{j.trim()&&a.mutate(j.trim())},de=n=>{confirm("Are you sure you want to delete this chat session? This action cannot be undone.")&&i.mutate(n)},me=n=>new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),he=n=>new Date(n).toLocaleDateString();return e.jsxs("div",{className:"flex h-full",children:[e.jsxs("div",{className:"w-80 border-r bg-muted/30",children:[e.jsxs("div",{className:"p-4 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Legal Assistant"}),e.jsxs(we,{open:b,onOpenChange:v,children:[e.jsx(Se,{asChild:!0,children:e.jsxs(_,{size:"sm",variant:"outline",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"New Chat"]})}),e.jsxs(be,{children:[e.jsx(De,{children:e.jsx(Te,{children:"Create New Chat Session"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Session Name"}),e.jsx(f,{value:j,onChange:n=>r(n.target.value),placeholder:"Enter session name...",onKeyPress:n=>n.key==="Enter"&&Z()})]}),e.jsxs(_,{onClick:Z,disabled:!j.trim()||a.isPending,className:"w-full",children:[a.isPending&&e.jsx(M,{className:"w-4 h-4 mr-2 animate-spin"}),"Create Session"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"Your conversations are private and secure"})]})]}),e.jsx(re,{className:"h-[calc(100vh-200px)]",children:e.jsx("div",{className:"p-2 space-y-2",children:R.map(n=>e.jsx(C,{className:`cursor-pointer transition-colors ${c===n.id?"bg-primary/10 border-primary":"hover:bg-muted/50"}`,onClick:()=>t==null?void 0:t(n.id),children:e.jsx(F,{className:"p-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-sm truncate",children:n.session_name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-1",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:he(n.updated_at)})]})]}),e.jsx(_,{size:"sm",variant:"ghost",onClick:T=>{T.stopPropagation(),de(n.id)},className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(Ce,{className:"w-3 h-3"})})]})})},n.id))})})]}),e.jsx("div",{className:"flex-1 flex flex-col",children:c?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-4",children:[L.map(n=>{var T;return e.jsx("div",{className:`flex ${n.message_type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-lg p-3 ${n.message_type==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.message_type==="assistant"&&e.jsx(E,{variant:"secondary",className:"text-xs",children:"AI Assistant"}),e.jsx("span",{className:"text-xs opacity-70",children:me(n.created_at)})]}),e.jsx("div",{className:"whitespace-pre-wrap text-sm",children:n.content}),((T=n.metadata)==null?void 0:T.disclaimer)&&e.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"w-3 h-3"}),e.jsx("strong",{children:"Disclaimer:"})]}),e.jsx("p",{className:"mt-1",children:n.metadata.disclaimer})]})]})},n.id)}),d&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-muted rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4 animate-spin"}),e.jsx("span",{className:"text-sm",children:"AI is thinking..."})]})})}),e.jsx("div",{ref:o})]})}),e.jsxs("div",{className:"border-t p-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(I,{value:s,onChange:n=>l(n.target.value),placeholder:"Ask your legal question...",className:"min-h-[60px] resize-none",onKeyPress:n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),J())},disabled:d}),e.jsx(_,{onClick:J,disabled:!s.trim()||d,size:"icon",className:"self-end",children:d?e.jsx(M,{className:"w-4 h-4 animate-spin"}):e.jsx(Fe,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:"Press Enter to send, Shift+Enter for new line"})]})]}):e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:e.jsx(ce,{className:"w-8 h-8 text-primary"})}),e.jsx("h3",{className:"text-xl font-semibold",children:"Welcome to Legal Assistant"}),e.jsx("p",{className:"text-muted-foreground",children:"Get professional legal guidance and document assistance. Start a new conversation or select an existing session."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[e.jsx(W,{className:"w-4 h-4"}),e.jsx("span",{children:"All conversations are private and secure"})]})]})})})]})},Ke=V({document_type:B("rental_agreement"),title:m().min(1,"Title is required"),landlord_name:m().min(1,"Landlord name is required"),tenant_name:m().min(1,"Tenant name is required"),property_address:m().min(1,"Property address is required"),rent_amount:m().min(1,"Rent amount is required"),lease_term:m().min(1,"Lease term is required"),additional_terms:m().optional()}),He=V({document_type:B("employment_contract"),title:m().min(1,"Title is required"),employer_name:m().min(1,"Employer name is required"),employee_name:m().min(1,"Employee name is required"),position:m().min(1,"Position is required"),salary:m().min(1,"Salary is required"),start_date:m().min(1,"Start date is required"),additional_terms:m().optional()}),Qe=V({document_type:B("nda"),title:m().min(1,"Title is required"),disclosing_party:m().min(1,"Disclosing party is required"),receiving_party:m().min(1,"Receiving party is required"),confidential_information:m().min(1,"Confidential information description is required"),term:m().min(1,"Term is required"),additional_terms:m().optional()}),Xe=V({document_type:B("service_agreement"),title:m().min(1,"Title is required"),service_provider:m().min(1,"Service provider is required"),client:m().min(1,"Client is required"),services:m().min(1,"Services description is required"),payment_terms:m().min(1,"Payment terms are required"),additional_terms:m().optional()}),We=Pe("document_type",[Ke,He,Qe,Xe]),Ye=({onDraftCreated:c,initialData:t})=>{const[s,l]=w.useState(""),[d,x]=w.useState(!1),[b,v]=w.useState(""),{data:j=[]}=U({queryKey:["legal-document-types"],queryFn:()=>S.getDocumentTypes()}),r=qe({resolver:Ae(We),defaultValues:h({document_type:"rental_agreement",title:"",additional_terms:""},t)}),o=P({mutationFn:a=>{const i=R(a);return S.createDraft({title:a.title,content:i,document_type:a.document_type,status:"draft"})},onSuccess:a=>{g.success("Document draft created successfully"),c==null||c(a)},onError:a=>{console.error("Error creating draft:",a),g.error("Failed to create document draft")}});P({mutationFn:a=>S.generateDocument(a),onSuccess:({pdfUrl:a,docxUrl:i})=>{g.success("Document generated successfully"),console.log("PDF URL:",a),console.log("DOCX URL:",i)},onError:a=>{console.error("Error generating document:",a),g.error("Failed to generate document")}});const R=a=>{let i=`# ${a.title}

`;switch(i+=`**Generated on:** ${new Date().toLocaleDateString()}

`,a.document_type){case"rental_agreement":i+=`## RENTAL AGREEMENT

`,i+=`**Landlord:** ${a.landlord_name}
`,i+=`**Tenant:** ${a.tenant_name}
`,i+=`**Property Address:** ${a.property_address}
`,i+=`**Monthly Rent:** ${a.rent_amount}
`,i+=`**Lease Term:** ${a.lease_term}

`,i+=`### TERMS AND CONDITIONS

`,i+=`1. **Rent Payment:** Tenant agrees to pay ${a.rent_amount} monthly on or before the first day of each month.
`,i+=`2. **Property Use:** Tenant shall use the property solely for residential purposes.
`,i+=`3. **Maintenance:** Landlord is responsible for major repairs; tenant for minor maintenance.
`,i+=`4. **Utilities:** [To be specified based on agreement]
`,i+=`5. **Security Deposit:** [Amount to be specified]

`;break;case"employment_contract":i+=`## EMPLOYMENT CONTRACT

`,i+=`**Employer:** ${a.employer_name}
`,i+=`**Employee:** ${a.employee_name}
`,i+=`**Position:** ${a.position}
`,i+=`**Salary:** ${a.salary}
`,i+=`**Start Date:** ${a.start_date}

`,i+=`### TERMS OF EMPLOYMENT

`,i+=`1. **Position and Duties:** Employee shall serve as ${a.position}.
`,i+=`2. **Compensation:** Employee shall receive ${a.salary} as compensation.
`,i+=`3. **Work Schedule:** [To be specified]
`,i+=`4. **Benefits:** [To be specified]
`,i+=`5. **Termination:** Either party may terminate with [notice period] notice.

`;break;case"nda":i+=`## NON-DISCLOSURE AGREEMENT

`,i+=`**Disclosing Party:** ${a.disclosing_party}
`,i+=`**Receiving Party:** ${a.receiving_party}
`,i+=`**Term:** ${a.term}

`,i+=`### CONFIDENTIAL INFORMATION

`,i+=`${a.confidential_information}

`,i+=`### OBLIGATIONS

`,i+=`1. **Confidentiality:** Receiving party shall maintain strict confidentiality.
`,i+=`2. **Use Restrictions:** Information may only be used for [specified purpose].
`,i+=`3. **Return of Materials:** All confidential materials must be returned upon termination.
`,i+=`4. **Duration:** This agreement remains in effect for ${a.term}.

`;break;case"service_agreement":i+=`## SERVICE AGREEMENT

`,i+=`**Service Provider:** ${a.service_provider}
`,i+=`**Client:** ${a.client}
`,i+=`**Services:** ${a.services}
`,i+=`**Payment Terms:** ${a.payment_terms}

`,i+=`### SERVICE TERMS

`,i+=`1. **Services:** Provider shall deliver the following services: ${a.services}
`,i+=`2. **Payment:** Client agrees to pay according to: ${a.payment_terms}
`,i+=`3. **Timeline:** [To be specified]
`,i+=`4. **Quality Standards:** [To be specified]
`,i+=`5. **Termination:** Either party may terminate with [notice period] notice.

`;break}return a.additional_terms&&(i+=`### ADDITIONAL TERMS

${a.additional_terms}

`),i+=`### DISCLAIMER

`,i+="This document is generated by an AI assistant and is not a substitute for professional legal advice. ",i+=`Please consult with a qualified attorney to review and customize this document for your specific needs.

`,i+=`**Generated on:** ${new Date().toLocaleDateString()}
`,i+=`**Document Type:** ${a.document_type.replace("_"," ").toUpperCase()}
`,i},A=a=>{l(a),r.reset({document_type:a,title:"",additional_terms:""})},L=()=>{const a=r.getValues();if(r.formState.isValid){const i=R(a);v(i),x(!0)}else r.trigger()},$=a=>{o.mutate(a)},G=()=>{switch(r.watch("document_type")){case"rental_agreement":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"landlord_name",children:"Landlord Name"}),e.jsx(f,p(h({id:"landlord_name"},r.register("landlord_name")),{placeholder:"Enter landlord's full name"})),r.formState.errors.landlord_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.landlord_name.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"tenant_name",children:"Tenant Name"}),e.jsx(f,p(h({id:"tenant_name"},r.register("tenant_name")),{placeholder:"Enter tenant's full name"})),r.formState.errors.tenant_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.tenant_name.message})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"property_address",children:"Property Address"}),e.jsx(f,p(h({id:"property_address"},r.register("property_address")),{placeholder:"Enter complete property address"})),r.formState.errors.property_address&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.property_address.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"rent_amount",children:"Monthly Rent"}),e.jsx(f,p(h({id:"rent_amount"},r.register("rent_amount")),{placeholder:"e.g., $1,500"})),r.formState.errors.rent_amount&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.rent_amount.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"lease_term",children:"Lease Term"}),e.jsx(f,p(h({id:"lease_term"},r.register("lease_term")),{placeholder:"e.g., 12 months"})),r.formState.errors.lease_term&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.lease_term.message})]})]})]});case"employment_contract":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"employer_name",children:"Employer Name"}),e.jsx(f,p(h({id:"employer_name"},r.register("employer_name")),{placeholder:"Enter employer's name"})),r.formState.errors.employer_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.employer_name.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"employee_name",children:"Employee Name"}),e.jsx(f,p(h({id:"employee_name"},r.register("employee_name")),{placeholder:"Enter employee's name"})),r.formState.errors.employee_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.employee_name.message})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"position",children:"Position"}),e.jsx(f,p(h({id:"position"},r.register("position")),{placeholder:"Enter job position"})),r.formState.errors.position&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.position.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"salary",children:"Salary"}),e.jsx(f,p(h({id:"salary"},r.register("salary")),{placeholder:"e.g., $50,000 annually"})),r.formState.errors.salary&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.salary.message})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"start_date",children:"Start Date"}),e.jsx(f,p(h({id:"start_date"},r.register("start_date")),{placeholder:"e.g., January 1, 2024"})),r.formState.errors.start_date&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.start_date.message})]})]});case"nda":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"disclosing_party",children:"Disclosing Party"}),e.jsx(f,p(h({id:"disclosing_party"},r.register("disclosing_party")),{placeholder:"Enter disclosing party name"})),r.formState.errors.disclosing_party&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.disclosing_party.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"receiving_party",children:"Receiving Party"}),e.jsx(f,p(h({id:"receiving_party"},r.register("receiving_party")),{placeholder:"Enter receiving party name"})),r.formState.errors.receiving_party&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.receiving_party.message})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"confidential_information",children:"Confidential Information"}),e.jsx(I,p(h({id:"confidential_information"},r.register("confidential_information")),{placeholder:"Describe the confidential information to be protected",rows:3})),r.formState.errors.confidential_information&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.confidential_information.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"term",children:"Agreement Term"}),e.jsx(f,p(h({id:"term"},r.register("term")),{placeholder:"e.g., 2 years"})),r.formState.errors.term&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.term.message})]})]});case"service_agreement":return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"service_provider",children:"Service Provider"}),e.jsx(f,p(h({id:"service_provider"},r.register("service_provider")),{placeholder:"Enter service provider name"})),r.formState.errors.service_provider&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.service_provider.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"client",children:"Client"}),e.jsx(f,p(h({id:"client"},r.register("client")),{placeholder:"Enter client name"})),r.formState.errors.client&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.client.message})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"services",children:"Services Description"}),e.jsx(I,p(h({id:"services"},r.register("services")),{placeholder:"Describe the services to be provided",rows:3})),r.formState.errors.services&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.services.message})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"payment_terms",children:"Payment Terms"}),e.jsx(f,p(h({id:"payment_terms"},r.register("payment_terms")),{placeholder:"e.g., $100/hour, net 30 days"})),r.formState.errors.payment_terms&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.payment_terms.message})]})]});default:return null}};return d?e.jsxs(C,{children:[e.jsx(k,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{children:"Document Preview"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(_,{variant:"outline",onClick:()=>x(!1),children:[e.jsx(ke,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(_,{onClick:()=>{const a=r.getValues();$(a),x(!1)},disabled:o.isPending,children:[o.isPending?e.jsx(M,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(te,{className:"w-4 h-4 mr-2"}),"Create Draft"]})]})]})}),e.jsx(F,{children:e.jsx("div",{className:"prose max-w-none",children:e.jsx("pre",{className:"whitespace-pre-wrap text-sm bg-muted p-4 rounded-lg",children:b})})})]}):e.jsxs(C,{children:[e.jsxs(k,{children:[e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-5 h-5"}),"Create Legal Document"]}),e.jsxs(ie,{children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx(ne,{children:"This tool generates legal document drafts. Please review with a qualified attorney before use."})]})]}),e.jsx(F,{children:e.jsxs("form",{onSubmit:r.handleSubmit($),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(u,{children:"Document Type"}),e.jsxs(Me,{value:s,onValueChange:A,children:[e.jsx(Re,{children:e.jsx(Le,{placeholder:"Select document type"})}),e.jsx($e,{children:j.map(a=>e.jsx(Ie,{value:a.id,children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.description})]})},a.id))})]})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"title",children:"Document Title"}),e.jsx(f,p(h({id:"title"},r.register("title")),{placeholder:"Enter document title"})),r.formState.errors.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.formState.errors.title.message})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),G()]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"additional_terms",children:"Additional Terms (Optional)"}),e.jsx(I,p(h({id:"additional_terms"},r.register("additional_terms")),{placeholder:"Add any additional terms or conditions...",rows:4}))]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs(_,{type:"button",variant:"outline",onClick:L,disabled:!s,children:[e.jsx(Ue,{className:"w-4 h-4 mr-2"}),"Preview"]}),e.jsxs(_,{type:"submit",disabled:o.isPending||!s,children:[o.isPending?e.jsx(M,{className:"w-4 h-4 mr-2 animate-spin"}):e.jsx(te,{className:"w-4 h-4 mr-2"}),"Create Draft"]})]})]})})]})},Je=[{title:"Rental Agreement",url:"/rental-agreement",icon:q,description:"Create rental and lease agreements"},{title:"Employment Contract",url:"/employment-contract",icon:Ge,description:"Generate employment contracts"},{title:"NDA",url:"/nda",icon:W,description:"Non-disclosure agreements"},{title:"Service Agreement",url:"/service-agreement",icon:q,description:"Service provider contracts"}],Gs=()=>{const c=ve(),[t,s]=w.useState("documents"),[l,d]=w.useState(""),{data:x=[],refetch:b}=U({queryKey:["legal-drafts"],queryFn:()=>S.getDrafts()}),v=o=>{b(),s("drafts")},j=o=>{d(o)},r=o=>{switch(o){case"draft":return"bg-yellow-100 text-yellow-700";case"review":return"bg-blue-100 text-blue-700";case"final":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return e.jsx(Ve,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(Be,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Legal Assistant"}),e.jsx("p",{className:"text-gray-600",children:"Get professional legal guidance and create documents"})]})]}),e.jsxs(ie,{className:"bg-blue-50 border-blue-200",children:[e.jsx(oe,{className:"h-4 w-4 text-blue-600"}),e.jsxs(ne,{className:"text-blue-800",children:[e.jsx("strong",{children:"Important:"})," This AI assistant provides general legal information and document templates. It is not a substitute for professional legal advice. Always consult with a qualified attorney for your specific legal needs."]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Legal Documents"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Je.map(o=>e.jsx(C,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>c(o.url),children:e.jsx(F,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(o.icon,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:o.title}),e.jsx("p",{className:"text-sm text-gray-500",children:o.description})]})]})})},o.title))})]}),e.jsxs(Ne,{value:t,onValueChange:s,className:"space-y-6",children:[e.jsxs(_e,{className:"grid w-full grid-cols-3",children:[e.jsxs(H,{value:"chat",className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Chat Assistant"]}),e.jsxs(H,{value:"documents",className:"flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Create Documents"]}),e.jsxs(H,{value:"drafts",className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"My Drafts"]})]}),e.jsx(Q,{value:"chat",className:"space-y-6",children:e.jsx(ze,{onDraftCreated:v,onSessionChange:j})}),e.jsx(Q,{value:"documents",className:"space-y-6",children:e.jsx(Ye,{onDraftCreated:v,sessionId:l})}),e.jsx(Q,{value:"drafts",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(C,{children:[e.jsx(k,{children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"w-5 h-5"}),"Drafts Overview"]})}),e.jsxs(F,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Total Drafts"}),e.jsx(E,{variant:"outline",children:x.length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"In Progress"}),e.jsx(E,{variant:"outline",className:"bg-yellow-100 text-yellow-700",children:x.filter(o=>o.status==="draft").length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Under Review"}),e.jsx(E,{variant:"outline",className:"bg-blue-100 text-blue-700",children:x.filter(o=>o.status==="review").length})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Finalized"}),e.jsx(E,{variant:"outline",className:"bg-green-100 text-green-700",children:x.filter(o=>o.status==="final").length})]})]}),e.jsx(ae,{}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"w-3 h-3"}),e.jsx("span",{children:"Drafts are saved automatically"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-3 h-3"}),e.jsx("span",{children:"Generate final documents"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(C,{children:[e.jsx(k,{children:e.jsx(O,{children:"My Legal Drafts"})}),e.jsx(F,{children:x.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(q,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No drafts yet"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Create your first legal document to get started"}),e.jsx(_,{onClick:()=>s("documents"),children:"Create Document"})]}):e.jsx("div",{className:"space-y-4",children:x.map(o=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:o.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(E,{className:r(o.status),children:o.status}),e.jsx("span",{className:"text-sm text-gray-500",children:o.document_type.replace("_"," ")}),e.jsxs("span",{className:"text-sm text-gray-500",children:["• ",new Date(o.updated_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[o.status==="final"&&o.file_urls&&e.jsxs(e.Fragment,{children:[e.jsxs(_,{size:"sm",variant:"outline",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"PDF"]}),e.jsxs(_,{size:"sm",variant:"outline",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"DOCX"]})]}),e.jsxs(_,{size:"sm",variant:"outline",children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"View"]})]})]},o.id))})})]})})]})})]})]})})};export{Gs as LegalAssistant,Gs as default};
