var ya=Object.defineProperty,ka=Object.defineProperties;var Sa=Object.getOwnPropertyDescriptors;var X=Object.getOwnPropertySymbols;var Te=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var de=(n,a,t)=>a in n?ya(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t,m=(n,a)=>{for(var t in a||(a={}))Te.call(a,t)&&de(n,t,a[t]);if(X)for(var t of X(a))ze.call(a,t)&&de(n,t,a[t]);return n},E=(n,a)=>ka(n,Sa(a));var g=(n,a)=>{var t={};for(var s in n)Te.call(n,s)&&a.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&X)for(var s of X(n))a.indexOf(s)<0&&ze.call(n,s)&&(t[s]=n[s]);return t};var Oe=(n,a,t)=>de(n,typeof a!="symbol"?a+"":a,t);var y=(n,a,t)=>new Promise((s,r)=>{var i=f=>{try{h(t.next(f))}catch(p){r(p)}},l=f=>{try{h(t.throw(f))}catch(p){r(p)}},h=f=>f.done?s(f.value):Promise.resolve(f.value).then(i,l);h((t=t.apply(n,a)).next())});import{c as q,r as u,R as b,j as e,b as x,X as le,a as $e,T as _a,B as v,U as K,D as Ca,E as Ma,F as Aa,u as oe,N as ve,V as Ue,S as Y,W as ee,s as L,C as We,v as He,i as Ea,P as je,Y as La,Z as he,f as we,L as Ve,g as Ia}from"./main-Dczk40-q.js";import{I as Ne}from"./index-DxDoSqvO.js";import{S as Ra}from"./separator-CnmZayxo.js";import{R as Ta,T as za,P as Oa,C as Ke,a as Da,O as Ye,b as Ze,D as Qe}from"./index-Bvi8qGb8.js";import{N as ye,a as ke,d as $,e as Pa}from"./databaseUtils-DDxBFZda.js";import{S as z}from"./search-CoqTXUJe.js";import{C as H}from"./calendar-DbYgxsnG.js";import{U as V,A as Fa,a as Ba,M as De}from"./alert-vAohCTxn.js";import{P as Je,Z as Ga}from"./zap-BM2f935p.js";import{H as Xe,P as Se}from"./plus-B7hFD5Z2.js";import{M as _e}from"./message-square-BskFJ3te.js";import{U as O}from"./user-xzPyfs-H.js";import{M as Z}from"./map-pin-B65WKje7.js";import{D as fe,b as ge,c as pe,e as I,d as W}from"./index-BCwUGNws.js";import{B as xe}from"./badge-iBsRNaSn.js";import{a as ea,W as qa}from"./wifi-D1BoRTe0.js";import{L as aa}from"./log-out-vClmguiA.js";import{u as $a}from"./useNotifications-DdfHYMMR.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=q("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=q("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=q("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=q("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=q("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=q("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ue=768;function Va(){const[n,a]=u.useState(void 0);return u.useEffect(()=>{const t=window.matchMedia(`(max-width: ${ue-1}px)`),s=()=>{a(window.innerWidth<ue)};return t.addEventListener("change",s),a(window.innerWidth<ue),()=>t.removeEventListener("change",s)},[]),!!n}const Ce=Ta,Ka=za,Ya=Oa,ra=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(Ye,E(m({className:x("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n)},a),{ref:t}))});ra.displayName=Ye.displayName;const Za=$e("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ce=b.forwardRef((i,r)=>{var l=i,{side:n="right",className:a,children:t}=l,s=g(l,["side","className","children"]);return e.jsxs(Ya,{children:[e.jsx(ra,{}),e.jsxs(Ke,E(m({ref:r,className:x(Za({side:n}),a)},s),{children:[t,e.jsxs(Da,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(le,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})});ce.displayName=Ke.displayName;const Qa=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(Ze,m({ref:t,className:x("text-lg font-semibold text-foreground",n)},a))});Qa.displayName=Ze.displayName;const Ja=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(Qe,m({ref:t,className:x("text-sm text-muted-foreground",n)},a))});Ja.displayName=Qe.displayName;function Pe(t){var s=t,{className:n}=s,a=g(s,["className"]);return e.jsx("div",m({className:x("animate-pulse rounded-md bg-muted",n)},a))}const na=u.createContext(null);function Q(){const n=u.useContext(na);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}const Xa="sidebar:state",et=60*60*24*7,at="16rem",tt="18rem",st="3rem",rt="b",ia=b.forwardRef((f,h)=>{var p=f,{defaultOpen:n=!0,open:a,onOpenChange:t,className:s,style:r,children:i}=p,l=g(p,["defaultOpen","open","onOpenChange","className","style","children"]);const o=Va(),[j,w]=u.useState(!1),[N,k]=u.useState(n),S=a!=null?a:N,M=u.useCallback(_=>{const d=typeof _=="function"?_(S):_;t?t(d):k(d),document.cookie=`${Xa}=${d}; path=/; max-age=${et}`},[t,S]),R=u.useCallback(()=>o?w(_=>!_):M(_=>!_),[o,M,w]);u.useEffect(()=>{const _=d=>{d.key===rt&&(d.metaKey||d.ctrlKey)&&(d.preventDefault(),R())};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[R]);const T=S?"expanded":"collapsed",c=b.useMemo(()=>({state:T,open:S,setOpen:M,isMobile:o,openMobile:j,setOpenMobile:w,toggleSidebar:R}),[T,S,M,o,j,w,R]);return e.jsx(na.Provider,{value:c,children:e.jsx(_a,{delayDuration:0,children:e.jsx("div",E(m({style:m({"--sidebar-width":at,"--sidebar-width-icon":st},r),className:x("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",s),ref:h},l),{children:i}))})})});ia.displayName="SidebarProvider";const la=b.forwardRef((h,l)=>{var f=h,{side:n="left",variant:a="sidebar",collapsible:t="offcanvas",className:s,children:r}=f,i=g(f,["side","variant","collapsible","className","children"]);const{isMobile:p,state:o,openMobile:j,setOpenMobile:w}=Q();return t==="none"?e.jsx("div",E(m({className:x("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",s),ref:l},i),{children:r})):p?e.jsx(Ce,{open:j,onOpenChange:w,children:e.jsx(ce,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":tt},side:n,children:e.jsx("div",{className:"flex h-full w-full flex-col",children:r})})}):e.jsxs("div",{ref:l,className:"group peer hidden md:block text-sidebar-foreground","data-state":o,"data-collapsible":o==="collapsed"?t:"","data-variant":a,"data-side":n,children:[e.jsx("div",{className:x("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",a==="floating"||a==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",E(m({className:x("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",a==="floating"||a==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",s)},i),{children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:r})}))]})});la.displayName="Sidebar";const oa=b.forwardRef((r,s)=>{var i=r,{className:n,onClick:a}=i,t=g(i,["className","onClick"]);const{toggleSidebar:l}=Q();return e.jsxs(v,E(m({ref:s,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:x("h-7 w-7",n),onClick:h=>{a==null||a(h),l()}},t),{children:[e.jsx(Wa,{}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]}))});oa.displayName="SidebarTrigger";const nt=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);const{toggleSidebar:i}=Q();return e.jsx("button",m({ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:i,title:"Toggle Sidebar",className:x("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n)},a))});nt.displayName="SidebarRail";const it=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("main",m({ref:t,className:x("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",n)},a))});it.displayName="SidebarInset";const lt=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(Ne,m({ref:t,"data-sidebar":"input",className:x("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",n)},a))});lt.displayName="SidebarInput";const ot=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("div",m({ref:t,"data-sidebar":"header",className:x("flex flex-col gap-2 p-2",n)},a))});ot.displayName="SidebarHeader";const ct=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("div",m({ref:t,"data-sidebar":"footer",className:x("flex flex-col gap-2 p-2",n)},a))});ct.displayName="SidebarFooter";const dt=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(Ra,m({ref:t,"data-sidebar":"separator",className:x("mx-2 w-auto bg-sidebar-border",n)},a))});dt.displayName="SidebarSeparator";const ca=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("div",m({ref:t,"data-sidebar":"content",className:x("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n)},a))});ca.displayName="SidebarContent";const ae=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("div",m({ref:t,"data-sidebar":"group",className:x("relative flex w-full min-w-0 flex-col p-2",n)},a))});ae.displayName="SidebarGroup";const te=b.forwardRef((r,s)=>{var i=r,{className:n,asChild:a=!1}=i,t=g(i,["className","asChild"]);const l=a?K:"div";return e.jsx(l,m({ref:s,"data-sidebar":"group-label",className:x("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n)},t))});te.displayName="SidebarGroupLabel";const ut=b.forwardRef((r,s)=>{var i=r,{className:n,asChild:a=!1}=i,t=g(i,["className","asChild"]);const l=a?K:"button";return e.jsx(l,m({ref:s,"data-sidebar":"group-action",className:x("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",n)},t))});ut.displayName="SidebarGroupAction";const se=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("div",m({ref:t,"data-sidebar":"group-content",className:x("w-full text-sm",n)},a))});se.displayName="SidebarGroupContent";const re=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("ul",m({ref:t,"data-sidebar":"menu",className:x("flex w-full min-w-0 flex-col gap-1",n)},a))});re.displayName="SidebarMenu";const ne=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("li",m({ref:t,"data-sidebar":"menu-item",className:x("group/menu-item relative",n)},a))});ne.displayName="SidebarMenuItem";const mt=$e("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),U=b.forwardRef((f,h)=>{var p=f,{asChild:n=!1,isActive:a=!1,variant:t="default",size:s="default",tooltip:r,className:i}=p,l=g(p,["asChild","isActive","variant","size","tooltip","className"]);const o=n?K:"button",{isMobile:j,state:w}=Q(),N=e.jsx(o,m({ref:h,"data-sidebar":"menu-button","data-size":s,"data-active":a,className:x(mt({variant:t,size:s}),i)},l));return r?(typeof r=="string"&&(r={children:r}),e.jsxs(Ca,{children:[e.jsx(Ma,{asChild:!0,children:N}),e.jsx(Aa,m({side:"right",align:"center",hidden:w!=="collapsed"||j},r))]})):N});U.displayName="SidebarMenuButton";const ht=b.forwardRef((i,r)=>{var l=i,{className:n,asChild:a=!1,showOnHover:t=!1}=l,s=g(l,["className","asChild","showOnHover"]);const h=a?K:"button";return e.jsx(h,m({ref:r,"data-sidebar":"menu-action",className:x("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",n)},s))});ht.displayName="SidebarMenuAction";const ft=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("div",m({ref:t,"data-sidebar":"menu-badge",className:x("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n)},a))});ft.displayName="SidebarMenuBadge";const gt=b.forwardRef((r,s)=>{var i=r,{className:n,showIcon:a=!1}=i,t=g(i,["className","showIcon"]);const l=b.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return e.jsxs("div",E(m({ref:s,"data-sidebar":"menu-skeleton",className:x("rounded-md h-8 flex gap-2 px-2 items-center",n)},t),{children:[a&&e.jsx(Pe,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(Pe,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":l}})]}))});gt.displayName="SidebarMenuSkeleton";const pt=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx("ul",m({ref:t,"data-sidebar":"menu-sub",className:x("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n)},a))});pt.displayName="SidebarMenuSub";const xt=b.forwardRef((t,a)=>{var n=g(t,[]);return e.jsx("li",m({ref:a},n))});xt.displayName="SidebarMenuSubItem";const bt=b.forwardRef((l,i)=>{var h=l,{asChild:n=!1,size:a="md",isActive:t,className:s}=h,r=g(h,["asChild","size","isActive","className"]);const f=n?K:"a";return e.jsx(f,m({ref:i,"data-sidebar":"menu-sub-button","data-size":a,"data-active":t,className:x("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",a==="sm"&&"text-xs",a==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",s)},r))});bt.displayName="SidebarMenuSubButton";const Fe=[{title:"Feed",url:"/feed",icon:Ue},{title:"News Feed",url:"/news",icon:ta},{title:"Discover",url:"/discover",icon:z},{title:"Events",url:"/events",icon:H},{title:"Community",url:"/community",icon:V},{title:"Book Artists",url:"/book-artist",icon:Je}],Be=[{title:"Legal Assistant",url:"/legal-assistant",icon:sa},{title:"Life Wishes",url:"/life-wish",icon:Xe}],vt=[{title:"Artist Dashboard",url:"/artist-dashboard",icon:Ga},{title:"Messages",url:"/messages",icon:_e},{title:"Profile",url:"/profile",icon:O},{title:"Settings",url:"/settings",icon:Y},{title:"About",url:"/about",icon:Z}],jt=[{title:"My Dashboard",url:"/dashboard",icon:O},{title:"Messages",url:"/messages",icon:_e},{title:"Profile",url:"/profile",icon:O},{title:"Settings",url:"/settings",icon:Y},{title:"About",url:"/about",icon:Z}];function wt(){const{state:n}=Q(),{user:a}=oe(),s=ve().pathname,r=n==="collapsed",[i,l]=u.useState(!1),h=o=>s===o;Fe.some(o=>h(o.url)),Be.some(o=>h(o.url)),u.useEffect(()=>{y(this,null,function*(){if(a)try{const{data:j}=yield L.from("artists").select("id").eq("user_id",a.id).single();l(!!j)}catch(j){l(!1)}})},[a]);const f=i?vt:jt;f.some(o=>h(o.url));const p=({isActive:o})=>o?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"hover:bg-sidebar-accent/50";return e.jsx(la,{className:r?"w-14":"w-60",collapsible:"icon",children:e.jsxs(ca,{children:[!r&&e.jsx("div",{className:"p-4 border-b border-sidebar-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-sidebar-foreground flex items-center gap-2",children:[e.jsx("img",{src:"/logo.png",alt:"Glocal Logo",className:"h-5 w-5 object-contain"}),"Glocal"]}),a?e.jsx(ye,{}):e.jsx(ke,{})]})}),e.jsx("div",{className:"p-2",children:e.jsx(U,{asChild:!0,children:e.jsxs(ee,{to:"/create",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[e.jsx(Se,{className:"h-4 w-4"}),!r&&e.jsx("span",{children:"Create Post"})]})})}),e.jsxs(ae,{children:[e.jsx(te,{children:"Main"}),e.jsx(se,{children:e.jsx(re,{children:Fe.map(o=>e.jsx(ne,{children:e.jsx(U,{asChild:!0,children:e.jsxs(ee,{to:o.url,end:!0,className:p,children:[e.jsx(o.icon,{className:"h-4 w-4"}),!r&&e.jsx("span",{children:o.title})]})})},o.title))})})]}),e.jsxs(ae,{children:[e.jsx(te,{children:"New Features"}),e.jsx(se,{children:e.jsx(re,{children:Be.map(o=>e.jsx(ne,{children:e.jsx(U,{asChild:!0,children:e.jsxs(ee,{to:o.url,end:!0,className:p,children:[e.jsx(o.icon,{className:"h-4 w-4"}),!r&&e.jsx("span",{children:o.title})]})})},o.title))})})]}),e.jsxs(ae,{children:[e.jsx(te,{children:"Account"}),e.jsx(se,{children:e.jsx(re,{children:f.map(o=>e.jsx(ne,{children:e.jsx(U,{asChild:!0,children:e.jsxs(ee,{to:o.url,end:!0,className:p,children:[e.jsx(o.icon,{className:"h-4 w-4"}),!r&&e.jsx("span",{children:o.title})]})})},o.title))})})]})]})})}class ie{static checkMarketingTables(){return y(this,null,function*(){if(this.marketingTablesAvailable!==null)return this.marketingTablesAvailable;try{const a=yield $("marketing_campaigns"),t=yield $("referral_program"),s=yield $("social_shares"),r=yield $("promotional_codes");return this.marketingTablesAvailable=a.exists&&t.exists&&s.exists&&r.exists,this.marketingTablesAvailable,this.marketingTablesAvailable}catch(a){return console.error("Error checking marketing tables:",a),this.marketingTablesAvailable=!1,!1}})}static createCampaign(a){return y(this,null,function*(){if(!(yield this.checkMarketingTables()))throw console.warn("Marketing tables not available. Campaign creation skipped."),new Error("Marketing features are not available. Please ensure database migrations are applied.");try{const{data:{user:s}}=yield L.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:r,error:i}=yield L.from("marketing_campaigns").insert(E(m({},a),{created_by:s.id,status:a.status||"draft"})).select().single();if(i)throw i;return r}catch(s){throw console.error("Error creating campaign:",s),s}})}static getCampaigns(a){return y(this,null,function*(){if(!(yield this.checkMarketingTables()))return[];try{let s=L.from("marketing_campaigns").select("*");a!=null&&a.status&&(s=s.eq("status",a.status)),a!=null&&a.campaign_type&&(s=s.eq("campaign_type",a.campaign_type)),a!=null&&a.created_by&&(s=s.eq("created_by",a.created_by));const{data:r,error:i}=yield s.order("created_at",{ascending:!1});if(i)throw i;return r||[]}catch(s){return console.error("Error fetching campaigns:",s),[]}})}static getCampaign(a){return y(this,null,function*(){if(!(yield this.checkMarketingTables()))return console.warn("Marketing tables not available. Campaign not found."),null;try{const{data:s,error:r}=yield L.from("marketing_campaigns").select("*").eq("id",a).single();if(r&&r.code!=="PGRST116")throw r;return s}catch(s){return console.error("Error fetching campaign:",s),null}})}static updateCampaign(a,t){return y(this,null,function*(){if(!(yield this.checkMarketingTables()))throw new Error("Marketing features are not available. Please ensure database migrations are applied.");try{const{data:r,error:i}=yield L.from("marketing_campaigns").update(E(m({},t),{updated_at:new Date().toISOString()})).eq("id",a).select().single();if(i)throw i;return r}catch(r){throw console.error("Error updating campaign:",r),r}})}static deleteCampaign(a){return y(this,null,function*(){if(!(yield this.checkMarketingTables()))throw new Error("Marketing features are not available. Please ensure database migrations are applied.");try{const{error:s}=yield L.from("marketing_campaigns").delete().eq("id",a);if(s)throw s;return!0}catch(s){return console.error("Error deleting campaign:",s),!1}})}static getActiveCampaigns(){return y(this,null,function*(){var t,s;if(!(yield this.checkMarketingTables()))return[];try{if(!L.auth||!L.from)return console.warn("Supabase client not properly configured"),[];const r=new Date().toISOString(),{data:i,error:l}=yield L.from("marketing_campaigns").select("*").eq("status","active").lte("start_date",r).gte("end_date",r).order("created_at",{ascending:!1});if(l){if((t=l.message)!=null&&t.includes("No API key found")||(s=l.message)!=null&&s.includes("apikey"))return console.warn("Supabase API key not configured properly"),[];throw l}return i||[]}catch(r){return console.error("Error fetching active campaigns:",r),[]}})}static trackEvent(a,t,s){return y(this,null,function*(){if(yield this.checkMarketingTables())try{const{data:{user:i}}=yield L.auth.getUser();yield L.from("marketing_analytics").insert({event_type:a,event_data:t,campaign_id:s,user_id:i==null?void 0:i.id,session_id:sessionStorage.getItem("session_id"),ip_address:null,user_agent:navigator.userAgent,device_type:this.getDeviceType(),location_data:null})}catch(i){console.error("Error tracking marketing event:",i)}})}static getAnalytics(a){return y(this,null,function*(){if(!(yield this.checkMarketingTables()))return Pa();try{let s=L.from("marketing_analytics").select("*");a!=null&&a.event_type&&(s=s.eq("event_type",a.event_type)),a!=null&&a.campaign_id&&(s=s.eq("campaign_id",a.campaign_id)),a!=null&&a.date_from&&(s=s.gte("created_at",a.date_from)),a!=null&&a.date_to&&(s=s.lte("created_at",a.date_to));const{data:r,error:i}=yield s;if(i)throw i;return r||[]}catch(s){return console.error("Error fetching analytics:",s),[]}})}static getDeviceType(){const a=navigator.userAgent;return/Mobile|Android|iPhone|iPad/.test(a)?"mobile":/Tablet|iPad/.test(a)?"tablet":"desktop"}}Oe(ie,"marketingTablesAvailable",null);const da=({position:n="top",variant:a="default",maxCampaigns:t=3,className:s="",onDismiss:r,onAction:i})=>{var d,J;const[l,h]=u.useState([]),[f,p]=u.useState(0),[o,j]=u.useState(!0),[w,N]=u.useState(null),[k,S]=u.useState(null);u.useEffect(()=>{y(void 0,null,function*(){try{const C=yield $("marketing_campaigns");if(S(C.exists),!C.exists){N("Marketing features not available"),j(!1);return}}catch(C){console.error("Error checking marketing tables:",C),S(!1),N("Unable to check marketing features"),j(!1);return}})},[]);const M=u.useCallback(()=>y(void 0,null,function*(){try{j(!0),N(null);let C=(yield ie.getActiveCampaigns()).filter(D=>{var Ae,Ee,Le,Ie,Re;return!!(n==="top"&&((Ee=(Ae=D.campaign_config)==null?void 0:Ae.positions)!=null&&Ee.includes("top"))||n==="sidebar"&&((Ie=(Le=D.campaign_config)==null?void 0:Le.positions)!=null&&Ie.includes("sidebar"))||a==="featured"&&D.campaign_type==="promotional"||a==="urgent"&&((Re=D.campaign_config)!=null&&Re.urgent))});C=C.slice(0,t),h(C)}catch(A){console.error("Error loading campaigns:",A),N("Failed to load promotional campaigns")}finally{j(!1)}}),[n,a,t]);u.useEffect(()=>{if(k===!1){j(!1);return}k===!0&&M()},[k,M]),u.useEffect(()=>{if(l.length<=1)return;const A=setInterval(()=>{p(C=>(C+1)%l.length)},5e3);return()=>clearInterval(A)},[l.length]);const R=A=>{h(C=>C.filter(D=>D.id!==A)),ie.trackEvent("campaign_dismissed",{campaign_id:A}),r==null||r(A)},T=A=>{ie.trackEvent("campaign_clicked",{campaign_id:A.id,campaign_type:A.campaign_type}),i==null||i(A)};if(o||w||l.length===0||k===!1)return null;const c=l[f];if(!c)return null;const _=()=>{switch(a){case"featured":return"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-purple-500";case"urgent":return"bg-gradient-to-r from-red-600 to-orange-600 text-white border-red-500";default:return"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-blue-500"}};return e.jsx("div",{className:`relative ${s}`,children:e.jsx(We,{className:`border-2 ${_()}`,children:e.jsx(He,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(xe,{variant:"secondary",className:"text-xs",children:c.campaign_type}),((d=c.campaign_config)==null?void 0:d.urgent)&&e.jsx(xe,{variant:"destructive",className:"text-xs",children:"Limited Time"})]}),e.jsx("h3",{className:"font-semibold text-lg mb-1",children:c.name}),c.description&&e.jsx("p",{className:"text-sm opacity-90 mb-3",children:c.description}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{size:"sm",variant:"secondary",onClick:()=>T(c),className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[((J=c.campaign_config)==null?void 0:J.cta_text)||"Learn More",e.jsx(Ua,{className:"ml-1 h-3 w-3"})]}),l.length>1&&e.jsx("div",{className:"flex gap-1",children:l.map((A,C)=>e.jsx("button",{onClick:()=>p(C),className:`w-2 h-2 rounded-full transition-colors ${C===f?"bg-white":"bg-white/50 hover:bg-white/70"}`},C))})]})]}),e.jsx(v,{size:"sm",variant:"ghost",onClick:()=>R(c.id),className:"text-white/70 hover:text-white hover:bg-white/10",children:e.jsx(le,{className:"h-4 w-4"})})]})})})})},ua=({className:n})=>{const[a,t]=u.useState(navigator.onLine),[s,r]=u.useState(!1);return u.useEffect(()=>{const i=()=>{t(!0),r(!1)},l=()=>{t(!1),r(!0)};return window.addEventListener("online",i),window.addEventListener("offline",l),()=>{window.removeEventListener("online",i),window.removeEventListener("offline",l)}},[]),s?e.jsxs(Fa,{variant:"destructive",className:`mb-4 ${n}`,children:[e.jsx(ea,{className:"h-4 w-4"}),e.jsx(Ba,{children:"You are currently offline. Some features may not work properly. Please check your internet connection."})]}):null},Nt=({className:n,user:a})=>{const[t,s]=u.useState(navigator.onLine);return u.useEffect(()=>{const r=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",r),window.addEventListener("offline",i),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",i)}},[]),a?e.jsx("div",{className:`flex items-center gap-2 text-sm ${n}`,children:t?e.jsxs(e.Fragment,{children:[e.jsx(qa,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-green-700",children:"Online"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ea,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-red-700",children:"Offline"})]})}):null};var ma={exports:{}},ha={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=u;function yt(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var kt=typeof Object.is=="function"?Object.is:yt,St=P.useState,_t=P.useEffect,Ct=P.useLayoutEffect,Mt=P.useDebugValue;function At(n,a){var t=a(),s=St({inst:{value:t,getSnapshot:a}}),r=s[0].inst,i=s[1];return Ct(function(){r.value=t,r.getSnapshot=a,me(r)&&i({inst:r})},[n,t,a]),_t(function(){return me(r)&&i({inst:r}),n(function(){me(r)&&i({inst:r})})},[n]),Mt(t),t}function me(n){var a=n.getSnapshot;n=n.value;try{var t=a();return!kt(n,t)}catch(s){return!0}}function Et(n,a){return a()}var Lt=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?Et:At;ha.useSyncExternalStore=P.useSyncExternalStore!==void 0?P.useSyncExternalStore:Lt;ma.exports=ha;var It=ma.exports;function Rt(){return It.useSyncExternalStore(Tt,()=>!0,()=>!1)}function Tt(){return()=>{}}var Me="Avatar",[zt,ms]=Ea(Me),[Ot,fa]=zt(Me),ga=u.forwardRef((n,a)=>{const l=n,{__scopeAvatar:t}=l,s=g(l,["__scopeAvatar"]),[r,i]=u.useState("idle");return e.jsx(Ot,{scope:t,imageLoadingStatus:r,onImageLoadingStatusChange:i,children:e.jsx(je.span,E(m({},s),{ref:a}))})});ga.displayName=Me;var pa="AvatarImage",xa=u.forwardRef((n,a)=>{const p=n,{__scopeAvatar:t,src:s,onLoadingStatusChange:r=()=>{}}=p,i=g(p,["__scopeAvatar","src","onLoadingStatusChange"]),l=fa(pa,t),h=Dt(s,i),f=La(o=>{r(o),l.onImageLoadingStatusChange(o)});return he(()=>{h!=="idle"&&f(h)},[h,f]),h==="loaded"?e.jsx(je.img,E(m({},i),{ref:a,src:s})):null});xa.displayName=pa;var ba="AvatarFallback",va=u.forwardRef((n,a)=>{const f=n,{__scopeAvatar:t,delayMs:s}=f,r=g(f,["__scopeAvatar","delayMs"]),i=fa(ba,t),[l,h]=u.useState(s===void 0);return u.useEffect(()=>{if(s!==void 0){const p=window.setTimeout(()=>h(!0),s);return()=>window.clearTimeout(p)}},[s]),l&&i.imageLoadingStatus!=="loaded"?e.jsx(je.span,E(m({},r),{ref:a})):null});va.displayName=ba;function Ge(n,a){return n?a?(n.src!==a&&(n.src=a),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Dt(n,{referrerPolicy:a,crossOrigin:t}){const s=Rt(),r=u.useRef(null),i=s?(r.current||(r.current=new window.Image),r.current):null,[l,h]=u.useState(()=>Ge(i,n));return he(()=>{h(Ge(i,n))},[i,n]),he(()=>{const f=j=>()=>{h(j)};if(!i)return;const p=f("loaded"),o=f("error");return i.addEventListener("load",p),i.addEventListener("error",o),a&&(i.referrerPolicy=a),typeof t=="string"&&(i.crossOrigin=t),()=>{i.removeEventListener("load",p),i.removeEventListener("error",o)}},[i,t,a]),l}var ja=ga,wa=xa,Na=va;const F=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(ja,m({ref:t,className:x("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n)},a))});F.displayName=ja.displayName;const B=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(wa,m({ref:t,className:x("aspect-square h-full w-full",n)},a))});B.displayName=wa.displayName;const G=b.forwardRef((s,t)=>{var r=s,{className:n}=r,a=g(r,["className"]);return e.jsx(Na,m({ref:t,className:x("flex h-full w-full items-center justify-center rounded-full bg-muted",n)},a))});G.displayName=Na.displayName;function Pt({children:n}){var h,f,p,o,j,w,N,k;const{signOut:a,user:t}=oe(),s=we();ve();const r=()=>y(this,null,function*(){yield a()}),i=()=>{s("/signin")},l=S=>S?S.split(" ").map(M=>M[0]).join("").toUpperCase().slice(0,2):"U";return e.jsx(ia,{children:e.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[e.jsx(wt,{}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(ua,{}),e.jsx(da,{position:"top",variant:"default",maxCampaigns:1,className:"z-40"}),e.jsx("header",{className:"h-16 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between h-full px-4 lg:px-6",children:[e.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[e.jsx(oa,{}),e.jsxs(Ve,{to:"/",className:"flex items-center gap-2 font-bold text-lg lg:text-xl text-gradient",children:[e.jsx("img",{src:"/logo.png",alt:"Glocal Logo",className:"h-6 w-6 lg:h-7 lg:w-7 object-contain"}),e.jsx("span",{className:"hidden sm:inline",children:"Glocal"}),e.jsx("span",{className:"sm:hidden",children:"G"})]})]}),e.jsx("div",{className:"flex-1 max-w-2xl mx-4 lg:mx-8 hidden lg:block",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ne,{placeholder:"Search events, communities, discussions...",className:"pl-10 bg-muted/50 border-0 focus:bg-background transition-all duration-200"})]})}),e.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[e.jsx(Nt,{className:"mr-2 hidden lg:block",user:t}),t?e.jsxs(e.Fragment,{children:[e.jsxs(v,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground hidden lg:flex",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Local"})]}),e.jsxs(fe,{children:[e.jsx(ge,{asChild:!0,children:e.jsxs(v,{size:"sm",className:"btn-community",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Create"})]})}),e.jsxs(pe,{align:"end",className:"w-64",children:[e.jsxs(I,{onClick:()=>s("/create"),className:"gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Create Post"]}),e.jsxs(I,{onClick:()=>s("/create-event"),className:"gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Create Event"]}),e.jsxs(I,{onClick:()=>s("/community/create-discussion"),className:"gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Start Discussion"]}),e.jsxs(I,{onClick:()=>s("/community/create-group"),className:"gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Create Group"]}),e.jsx(W,{}),e.jsxs(I,{onClick:()=>s("/legal-assistant"),className:"gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Legal Assistant"]}),e.jsxs(I,{onClick:()=>s("/life-wish"),className:"gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500"}),"Life Wish"]})]})]}),t?e.jsx(ye,{}):e.jsx(ke,{}),e.jsxs(fe,{children:[e.jsx(ge,{asChild:!0,children:e.jsx(v,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(F,{className:"h-8 w-8",children:[e.jsx(B,{src:(h=t.user_metadata)==null?void 0:h.avatar_url,alt:((f=t.user_metadata)==null?void 0:f.full_name)||t.email}),e.jsx(G,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground text-xs",children:l(((p=t.user_metadata)==null?void 0:p.full_name)||t.email)})]})})}),e.jsxs(pe,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"flex items-center justify-start gap-2 p-2",children:[e.jsxs(F,{className:"h-8 w-8",children:[e.jsx(B,{src:(o=t.user_metadata)==null?void 0:o.avatar_url,alt:((j=t.user_metadata)==null?void 0:j.full_name)||t.email}),e.jsx(G,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:l(((w=t.user_metadata)==null?void 0:w.full_name)||t.email)})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:((N=t.user_metadata)==null?void 0:N.full_name)||((k=t.email)==null?void 0:k.split("@")[0])}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})]}),e.jsx(W,{}),e.jsxs(I,{onClick:()=>s("/profile"),className:"gap-3",children:[e.jsx(O,{className:"h-4 w-4"}),"Profile"]}),e.jsxs(I,{onClick:()=>s("/settings"),className:"gap-3",children:[e.jsx(Y,{className:"h-4 w-4"}),"Settings"]}),e.jsx(W,{}),e.jsxs(I,{onClick:r,className:"gap-3 text-red-600",children:[e.jsx(aa,{className:"h-4 w-4"}),"Sign Out"]})]})]})]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{variant:"ghost",onClick:i,size:"sm",className:"hidden sm:flex",children:"Sign In"}),e.jsxs(v,{onClick:i,size:"sm",className:"btn-community",children:[e.jsx("span",{className:"hidden sm:inline",children:"Get Started"}),e.jsx("span",{className:"sm:hidden",children:"Sign In"})]})]})]})]})}),e.jsx("main",{className:"flex-1 overflow-auto bg-muted/20",children:e.jsx("div",{className:"container mx-auto px-4 py-4 lg:py-6",children:n})})]})]})})}const Ft=()=>{const{createNotification:n}=$a(),{user:a}=oe(),{toast:t}=Ia(),s=()=>y(void 0,null,function*(){if(!a){t({title:"Error",description:"You must be logged in to test notifications",variant:"destructive"});return}try{const r=[{user_id:a.id,type:"new_follower",title:"New Follower",message:"John Doe started following you!",data:{follower_id:"test-follower-1"}},{user_id:a.id,type:"event_reminder",title:"Event Reminder",message:'Your event "Community Art Walk" starts in 2 hours',data:{event_id:"test-event-1"}},{user_id:a.id,type:"booking_request",title:"New Booking Request",message:"You have a new booking request for a wedding event",data:{booking_id:"test-booking-1"}},{user_id:a.id,type:"message_request",title:"New Message",message:"You have a new message from Sarah Johnson",data:{conversation_id:"test-conversation-1"}},{user_id:a.id,type:"system_announcement",title:"System Update",message:"We've added new features to improve your experience!",data:{announcement_id:"test-announcement-1"}}];for(const i of r)yield n(i);t({title:"Test notifications created!",description:"Check your notification bell to see the new notifications."})}catch(r){console.error("Error creating test notifications:",r),t({title:"Error",description:"Failed to create test notifications",variant:"destructive"})}});return e.jsx(v,{onClick:s,variant:"outline",size:"sm",className:"text-xs",children:"Create Test Notifications"})},Bt=[{id:"all",label:"All",icon:z},{id:"events",label:"Events",icon:H},{id:"communities",label:"Communities",icon:V},{id:"artists",label:"Artists",icon:be}],Gt=["Local Music Festival","Community Garden","Art Workshop","Book Club"],qt=["Summer Events","Local Artists","Community Groups","Food Festivals"];function $t({placeholder:n="Search events, communities, artists...",className:a}){const[t,s]=u.useState(!1),[r,i]=u.useState(""),[l,h]=u.useState("all"),[f,p]=u.useState([]),[o,j]=u.useState(!1),w=u.useRef(null),N=we();u.useEffect(()=>{t&&w.current&&setTimeout(()=>{var c;return(c=w.current)==null?void 0:c.focus()},100)},[t]);const k=c=>y(this,null,function*(){if(!c.trim()){p([]);return}j(!0),yield new Promise(d=>setTimeout(d,500)),p([{id:"1",type:"event",title:"Local Music Festival 2024",description:"A three-day celebration of local music talent",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100&h=100&fit=crop",icon:e.jsx(H,{className:"h-4 w-4"}),url:"/event/1"},{id:"2",type:"community",title:"Local Artists Network",description:"Connect with local artists and creators",image:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=100&h=100&fit=crop",icon:e.jsx(V,{className:"h-4 w-4"}),url:"/community/2"},{id:"3",type:"artist",title:"Sarah Chen - Musician",description:"Local singer-songwriter and guitarist",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop",icon:e.jsx(be,{className:"h-4 w-4"}),url:"/artist/3"}]),j(!1)}),S=c=>{c.preventDefault(),k(r)},M=c=>{N(c.url),s(!1),i("")},R=c=>{i(c),k(c)},T=c=>{i(c),k(c)};return e.jsxs(e.Fragment,{children:[e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>s(!0),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:n}),e.jsx("span",{className:"sm:hidden",children:"Search"})]}),e.jsx(Ce,{open:t,onOpenChange:s,children:e.jsx(ce,{side:"top",className:"h-full p-0",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>s(!1),children:e.jsx(le,{className:"h-5 w-5"})}),e.jsx("form",{onSubmit:S,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Ne,{ref:w,value:r,onChange:c=>i(c.target.value),placeholder:n,className:"pl-10 pr-4 h-10"})]})})]})}),e.jsx("div",{className:"p-4 border-b border-border",children:e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Bt.map(c=>e.jsxs(v,{variant:l===c.id?"default":"outline",size:"sm",onClick:()=>h(c.id),className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx(c.icon,{className:"h-3 w-3"}),c.label]},c.id))})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:r?e.jsx("div",{className:"p-4 space-y-3",children:o?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):f.length>0?f.map(c=>e.jsx(We,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>M(c),children:e.jsx(He,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(F,{className:"h-10 w-10",children:[e.jsx(B,{src:c.image,alt:c.title}),e.jsx(G,{className:"bg-primary/10",children:c.icon})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:c.title}),e.jsx(xe,{variant:"secondary",className:"text-xs",children:c.type})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:c.description})]})]})})},c.id)):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No results found"}),e.jsx("p",{className:"text-sm",children:"Try different keywords"})]})}):e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Recent Searches"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Gt.map(c=>e.jsx(v,{variant:"outline",size:"sm",onClick:()=>R(c),className:"text-xs",children:c},c))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Trending"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:qt.map(c=>e.jsx(v,{variant:"outline",size:"sm",onClick:()=>T(c),className:"text-xs",children:c},c))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(v,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{N("/events"),s(!1)},children:[e.jsx(H,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs",children:"Browse Events"})]}),e.jsxs(v,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{N("/community"),s(!1)},children:[e.jsx(V,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs",children:"Find Communities"})]}),e.jsxs(v,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{N("/book-artist"),s(!1)},children:[e.jsx(be,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs",children:"Book Artists"})]}),e.jsxs(v,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{N("/discover"),s(!1)},children:[e.jsx(Z,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs",children:"Discover Local"})]})]})]})]})})]})})})]})}const qe=[{title:"Feed",url:"/feed",icon:Ue},{title:"Discover",url:"/discover",icon:z},{title:"Events",url:"/events",icon:H},{title:"Community",url:"/community",icon:V},{title:"Artists",url:"/book-artist",icon:Je}],Ut=[{title:"Legal Assistant",url:"/legal-assistant",icon:sa},{title:"Life Wishes",url:"/life-wish",icon:Xe}],Wt=[{title:"Dashboard",url:"/dashboard",icon:O},{title:"Messages",url:"/messages",icon:_e},{title:"News Feed",url:"/news",icon:ta},{title:"Profile",url:"/profile",icon:O},{title:"Settings",url:"/settings",icon:Y}];function Ht({children:n}){var N,k,S,M,R,T,c,_;const{signOut:a,user:t}=oe(),s=we(),r=ve(),[i,l]=u.useState(!1),[h,f]=u.useState(!1);u.useEffect(()=>{const d=()=>{f(window.scrollY>10)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]);const p=()=>y(this,null,function*(){yield a(),l(!1)}),o=d=>{s(d),l(!1)},j=d=>d?d.split(" ").map(J=>J[0]).join("").toUpperCase().slice(0,2):"U",w=d=>r.pathname===d;return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx(ua,{}),e.jsx(da,{position:"top",variant:"default",maxCampaigns:1,className:"z-40"}),e.jsx("header",{className:`sticky top-0 z-50 transition-all duration-200 ${h?"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-sm border-b border-border":"bg-background"}`,children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs(Ve,{to:"/",className:"flex items-center gap-2 font-bold text-lg text-gradient",children:[e.jsx("img",{src:"/logo.png",alt:"Glocal Logo",className:"h-5 w-5 object-contain"}),e.jsx("span",{className:"hidden xs:inline",children:"Glocal"}),e.jsx("span",{className:"xs:hidden",children:"G"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(v,{variant:"ghost",size:"sm",className:"hidden sm:flex gap-1 text-muted-foreground hover:text-foreground",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"text-xs",children:"Local"})]}),e.jsx($t,{}),t?e.jsx(ye,{}):e.jsx(ke,{}),e.jsx(Ft,{}),t?e.jsxs(fe,{children:[e.jsx(ge,{asChild:!0,children:e.jsx(v,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:e.jsxs(F,{className:"h-8 w-8",children:[e.jsx(B,{src:(N=t.user_metadata)==null?void 0:N.avatar_url,alt:((k=t.user_metadata)==null?void 0:k.full_name)||t.email}),e.jsx(G,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground text-xs",children:j(((S=t.user_metadata)==null?void 0:S.full_name)||t.email)})]})})}),e.jsxs(pe,{align:"end",className:"w-56",children:[e.jsxs("div",{className:"flex items-center justify-start gap-2 p-2",children:[e.jsxs(F,{className:"h-8 w-8",children:[e.jsx(B,{src:(M=t.user_metadata)==null?void 0:M.avatar_url,alt:((R=t.user_metadata)==null?void 0:R.full_name)||t.email}),e.jsx(G,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:j(((T=t.user_metadata)==null?void 0:T.full_name)||t.email)})]}),e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:((c=t.user_metadata)==null?void 0:c.full_name)||((_=t.email)==null?void 0:_.split("@")[0])}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:t.email})]})]}),e.jsx(W,{}),e.jsxs(I,{onClick:()=>o("/profile"),className:"gap-3",children:[e.jsx(O,{className:"h-4 w-4"}),"Profile"]}),e.jsxs(I,{onClick:()=>o("/settings"),className:"gap-3",children:[e.jsx(Y,{className:"h-4 w-4"}),"Settings"]}),e.jsx(W,{}),e.jsxs(I,{onClick:p,className:"gap-3 text-red-600",children:[e.jsx(aa,{className:"h-4 w-4"}),"Sign Out"]})]})]}):e.jsx(v,{onClick:()=>s("/signin"),size:"sm",className:"btn-community",children:"Sign In"}),e.jsxs(Ce,{open:i,onOpenChange:l,children:[e.jsx(Ka,{asChild:!0,children:e.jsx(v,{variant:"ghost",size:"sm",className:"lg:hidden",children:e.jsx(De,{className:"h-5 w-5"})})}),e.jsx(ce,{side:"right",className:"w-80 p-0",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[e.jsx(Ha,{className:"h-5 w-5 text-primary"}),"Menu"]}),e.jsx(v,{variant:"ghost",size:"sm",onClick:()=>l(!1),children:e.jsx(le,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[e.jsx("div",{className:"space-y-2",children:e.jsxs(v,{onClick:()=>o("/create"),className:"w-full btn-community",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"Create Post"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Main"}),e.jsx("div",{className:"space-y-1",children:qe.map(d=>e.jsxs(v,{variant:w(d.url)?"secondary":"ghost",onClick:()=>o(d.url),className:"w-full justify-start",children:[e.jsx(d.icon,{className:"h-4 w-4 mr-3"}),d.title]},d.title))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"New Features"}),e.jsx("div",{className:"space-y-1",children:Ut.map(d=>e.jsxs(v,{variant:w(d.url)?"secondary":"ghost",onClick:()=>o(d.url),className:"w-full justify-start",children:[e.jsx(d.icon,{className:"h-4 w-4 mr-3"}),d.title]},d.title))})]}),t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Account"}),e.jsx("div",{className:"space-y-1",children:Wt.map(d=>e.jsxs(v,{variant:w(d.url)?"secondary":"ghost",onClick:()=>o(d.url),className:"w-full justify-start",children:[e.jsx(d.icon,{className:"h-4 w-4 mr-3"}),d.title]},d.title))})]})]})]})})]})]})]})}),e.jsx("main",{className:"flex-1 overflow-auto bg-muted/20",children:e.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-6",children:n})}),e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border lg:hidden",children:e.jsxs("div",{className:"flex items-center justify-around h-16 px-2",children:[qe.map(d=>e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>s(d.url),className:`flex flex-col items-center gap-1 h-12 w-12 p-0 ${w(d.url)?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground"}`,children:[e.jsx(d.icon,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs",children:d.title})]},d.title)),e.jsxs(v,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"flex flex-col items-center gap-1 h-12 w-12 p-0 text-muted-foreground hover:text-foreground",children:[e.jsx(De,{className:"h-5 w-5"}),e.jsx("span",{className:"text-xs",children:"More"})]})]})}),e.jsx("div",{className:"h-16 lg:hidden"})]})}function hs({children:n}){const[a,t]=u.useState(!1);return u.useEffect(()=>{const s=()=>{t(window.innerWidth<1024)};return s(),window.addEventListener("resize",s),()=>{window.removeEventListener("resize",s)}},[]),a?e.jsx(Ht,{children:n}):e.jsx(Pt,{children:n})}export{F as A,Ua as E,ta as N,hs as R,be as S,Ha as a,B as b,G as c,Pe as d,sa as e};
