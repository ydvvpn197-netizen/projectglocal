var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,n=(e,s)=>{for(var t in s||(s={}))r.call(s,t)&&l(e,t,s[t]);if(a)for(var t of a(s))i.call(s,t)&&l(e,t,s[t]);return e},c=(e,a)=>s(e,t(a)),o=(e,s,t)=>new Promise((a,r)=>{var i=e=>{try{n(t.next(e))}catch(s){r(s)}},l=e=>{try{n(t.throw(e))}catch(s){r(s)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(i,l);n((t=t.apply(e,s)).next())});import{s as d,u as m,d as u,r as x,j as h,C as p,y as g,B as j,b as f,i as v}from"./main-6fHUpRzT.js";import{H as N,R as y}from"./ResponsiveLayout-Bc2JEU4o.js";import{I as b}from"./input-C0XSs2D-.js";import{B as w}from"./badge-Bj-CyBpD.js";import{i as _,P as C,A as k,a as P,b as S}from"./sheet-D2smYKYW.js";import{T as D,a as U,b as B,c as F}from"./tabs-BNobDGc4.js";import{D as T,e as E,a as $,b as A,c as L,d as O}from"./dialog-DM8TTFu4.js";import{T as q}from"./textarea-DdxXr3wS.js";import{L as z}from"./label-B5VpaZlr.js";import{u as M,T as R,M as I,a as J}from"./usePoints-CbNlRcUn.js";import{Z as Y}from"./zap-Dyj-3m1T.js";import{T as V}from"./trending-up-EJ6gDKFP.js";import{A as H}from"./award-DpYF0-Hz.js";import{S as Z}from"./share-2-D3j1vOAy.js";import{C as K}from"./index-YNlOS8aM.js";import{M as W}from"./message-circle-clGX_rmg.js";import{L as X}from"./loader-2-CTqUz6P4.js";import{C as Q}from"./camera-BMDl6v9d.js";import{M as G}from"./map-pin-DJOBTPKn.js";import{P as ee}from"./pen-square-CXs4EIjz.js";import{U as se}from"./users-Czby48qY.js";import{M as te}from"./more-horizontal-Km-67MNI.js";import{C as ae}from"./clock-CuUFWr0o.js";import{X as re}from"./x-circle-CodQOx23.js";import{C as ie}from"./check-circle-Bfeu-Ke9.js";import{F as le}from"./flame-D17TsaJU.js";import{S as ne}from"./shield-CcNVjYJS.js";import{C as ce}from"./crown-RNgBVScZ.js";import"./separator-55ip2E4B.js";import"./NotificationBell-C-odGad4.js";import"./Combination-Bb2n9b59.js";import"./scroll-area-DRpKKhsW.js";import"./index-BlbmBgSN.js";import"./index-jVOyRz7F.js";import"./useNotifications-DlOFbLc9.js";import"./check-BVB7WkBF.js";import"./bell-DFXHEubE.js";import"./user-DoINJrqZ.js";import"./index-GQUAIkZv.js";import"./NotificationButton-CnmvsVP-.js";import"./search-CeL_nYcN.js";import"./message-square-BNIlY-fX.js";import"./alert-BCcU8rrr.js";import"./wifi-D7M5OVnX.js";import"./log-out-B3lkkfQi.js";import"./pointsService-BOpHKILN.js";const oe=new class{getUserProfile(e){return o(this,null,function*(){try{const{data:s,error:t}=yield d.from("profiles").select("*").eq("user_id",e).single();return t?null:s}catch(s){return null}})}updateUserProfile(e,s){return o(this,null,function*(){try{const{error:t}=yield d.from("profiles").update(c(n({},s),{updated_at:(new Date).toISOString()})).eq("user_id",e);return t?{success:!1,error:t.message}:{success:!0}}catch(t){return{success:!1,error:t.message}}})}getUserStats(e){return o(this,null,function*(){try{const{data:s}=yield d.from("events").select("id").eq("user_id",e),{data:t}=yield d.from("posts").select("id").eq("user_id",e),{data:a}=yield d.from("follows").select("id").eq("followed_id",e),{data:r}=yield d.from("follows").select("id").eq("follower_id",e),i=10*((null==s?void 0:s.length)||0)+5*((null==t?void 0:t.length)||0)+2*((null==a?void 0:a.length)||0);return{eventsAttended:0,eventsCreated:(null==s?void 0:s.length)||0,communitiesJoined:0,postsCreated:(null==t?void 0:t.length)||0,followers:(null==a?void 0:a.length)||0,following:(null==r?void 0:r.length)||0,points:i}}catch(s){return{eventsAttended:0,eventsCreated:0,communitiesJoined:0,postsCreated:0,followers:0,following:0,points:0}}})}getUserPosts(e){return o(this,null,function*(){try{const{data:s,error:t}=yield d.from("posts").select("\n          id,\n          title,\n          content,\n          likes_count,\n          comments_count,\n          created_at,\n          image_url\n        ").eq("user_id",e).order("created_at",{ascending:!1}).limit(10);return t?[]:(null==s?void 0:s.map(e=>({id:e.id,title:e.title||"Untitled Post",content:e.content,likes:e.likes_count||0,comments:e.comments_count||0,date:this.formatRelativeDate(e.created_at),image:e.image_url})))||[]}catch(s){return[]}})}getUserBookings(e){return o(this,null,function*(){try{const{data:s,error:t}=yield d.from("event_attendees").select("\n          id,\n          status,\n          events (\n            id,\n            title,\n            image_url,\n            event_date,\n            event_time,\n            location_name,\n            location_city,\n            location_state,\n            location_country\n          )\n        ").eq("user_id",e).eq("status","attending").order("created_at",{ascending:!1}).limit(10);if(t)return[];const{data:a,error:r}=yield d.from("artist_bookings").select("\n          id,\n          event_date,\n          event_location,\n          event_description,\n          status,\n          artists (\n            id,\n            specialty,\n            bio\n          )\n        ").eq("user_id",e).order("created_at",{ascending:!1}).limit(10),i=[];return null==s||s.forEach(e=>{if(e.events){const s=[e.events.location_city,e.events.location_state,e.events.location_country].filter(Boolean).join(", ")||e.events.location_name;i.push({id:e.id,eventTitle:e.events.title,eventImage:e.events.image_url||"",date:this.formatDate(e.events.event_date),time:e.events.event_time,location:s,status:"attending"===e.status?"confirmed":"pending",tickets:1})}}),null==a||a.forEach(e=>{var s,t;const a=(null==(t=null==(s=e.artists)?void 0:s.specialty)?void 0:t[0])||"Artist";i.push({id:e.id,eventTitle:`${a} Booking`,eventImage:"",date:this.formatDate(e.event_date),time:"TBD",location:e.event_location,status:e.status,tickets:1})}),i.sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).slice(0,10)}catch(s){return[]}})}getUserCommunities(e){return o(this,null,function*(){try{return[{id:"1",name:"Local Artists Collective",image:"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=100&h=100&fit=crop",members:234,role:"admin",joinedDate:"Jan 2024"},{id:"2",name:"Food Lovers United",image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=100&h=100&fit=crop",members:456,role:"member",joinedDate:"Feb 2024"}]}catch(e){return[]}})}getUserBadges(e){return o(this,null,function*(){try{const s=yield this.getUserStats(e),t=[];return s.eventsCreated>=5&&t.push({id:1,name:"Community Leader",icon:"Crown",color:"bg-yellow-500",description:"Created 5+ successful events"}),s.postsCreated>=10&&t.push({id:2,name:"Top Contributor",icon:"Trophy",color:"bg-orange-500",description:"Top 10% contributor"}),s.followers>=100&&t.push({id:3,name:"Social Butterfly",icon:"Users",color:"bg-pink-500",description:"100+ followers"}),s.points>=1e3&&t.push({id:4,name:"Point Collector",icon:"Star",color:"bg-purple-500",description:"Earned 1000+ points"}),t}catch(s){return[]}})}uploadAvatar(e,s){return o(this,null,function*(){try{const t=s.name.split(".").pop(),a=`avatars/${`${e}-${Date.now()}.${t}`}`,{error:r}=yield d.storage.from("avatars").upload(a,s);if(r)return{success:!1,error:r.message};const{data:{publicUrl:i}}=d.storage.from("avatars").getPublicUrl(a),{error:l}=yield d.from("profiles").update({avatar_url:i}).eq("user_id",e);return l?{success:!1,error:l.message}:{success:!0,url:i}}catch(t){return{success:!1,error:t.message}}})}formatRelativeDate(e){const s=new Date(e),t=new Date,a=Math.floor((t.getTime()-s.getTime())/36e5);if(a<1)return"Just now";if(a<24)return`${a} hour${a>1?"s":""} ago`;const r=Math.floor(a/24);if(r<7)return`${r} day${r>1?"s":""} ago`;const i=Math.floor(r/7);return i<4?`${i} week${i>1?"s":""} ago`:s.toLocaleDateString()}formatDate(e){if(!e)return"TBD";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}},de=e=>e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),me=e=>e<=3?h.jsx(R,{className:"w-4 h-4 text-yellow-500"}):e<=10?h.jsx(I,{className:"w-4 h-4 text-gray-400"}):e<=50?h.jsx(_,{className:"w-4 h-4 text-blue-500"}):h.jsx(J,{className:"w-4 h-4 text-gray-500"}),ue=e=>e<=3?"bg-gradient-to-r from-yellow-400 to-yellow-600 text-white":e<=10?"bg-gradient-to-r from-gray-300 to-gray-500 text-white":e<=50?"bg-gradient-to-r from-blue-400 to-blue-600 text-white":"bg-gray-100 text-gray-800",xe=e=>{switch(e){case"post_created":return h.jsx(C,{className:"w-4 h-4 text-green-500"});case"comment_created":return h.jsx(W,{className:"w-4 h-4 text-blue-500"});case"post_like_received":case"comment_like_received":return h.jsx(N,{className:"w-4 h-4 text-red-500"});case"event_organized":return h.jsx(K,{className:"w-4 h-4 text-purple-500"});case"event_attended":return h.jsx(K,{className:"w-4 h-4 text-green-500"});case"post_shared":return h.jsx(Z,{className:"w-4 h-4 text-orange-500"});case"poll_created":return h.jsx(H,{className:"w-4 h-4 text-indigo-500"});case"poll_voted":return h.jsx(J,{className:"w-4 h-4 text-cyan-500"});default:return h.jsx(Y,{className:"w-4 h-4 text-gray-500"})}},he=e=>{switch(e){case"post_created":return"Created a post";case"comment_created":return"Added a comment";case"post_like_received":return"Post received a like";case"comment_like_received":return"Comment received a like";case"post_like_given":return"Liked a post";case"comment_like_given":return"Liked a comment";case"event_organized":return"Organized an event";case"event_attended":return"Attended an event";case"post_shared":return"Shared a post";case"poll_created":return"Created a poll";case"poll_voted":return"Voted in a poll";case"post_deleted":return"Deleted a post";case"comment_deleted":return"Deleted a comment";case"event_deleted":return"Deleted an event";case"poll_deleted":return"Deleted a poll";default:return"Earned points"}},pe=({userId:e,className:s="",showDetails:t=!0,compact:a=!1})=>{const{userPoints:r,loading:i,error:l,pointHistory:n,historyLoading:c}=M(),[o,d]=x.useState(!1);if(i)return h.jsx(p,{className:`user-points-display ${s}`,children:h.jsx(g,{className:"p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse"}),h.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 animate-pulse"})]})]})})});if(l||!r)return h.jsx(p,{className:`user-points-display ${s}`,children:h.jsx(g,{className:"p-4",children:h.jsxs("div",{className:"text-center text-gray-500",children:[h.jsx(Y,{className:"w-6 h-6 mx-auto mb-2"}),h.jsx("p",{className:"text-sm",children:"Points not available"})]})})});const m=n.slice(0,5);return h.jsx(h.Fragment,{children:h.jsx(p,{className:`user-points-display ${s}`,children:h.jsx(g,{className:""+(a?"p-3":"p-4"),children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-gradient-to-r from-orange-400 to-red-400 rounded-full",children:me(r.rank)}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-bold text-lg text-orange-600",children:de(r.total_points)}),h.jsxs(w,{className:`text-xs ${ue(r.rank)}`,children:["Rank #",r.rank]})]}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"Community Points"})]})]}),t&&h.jsxs(T,{open:o,onOpenChange:d,children:[h.jsx(E,{asChild:!0,children:h.jsxs(j,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-200 hover:bg-orange-50",children:[h.jsx(V,{className:"w-4 h-4 mr-1"}),"Details"]})}),h.jsxs($,{className:"max-w-md",children:[h.jsxs(A,{children:[h.jsxs(L,{className:"flex items-center gap-2",children:[h.jsx(R,{className:"w-5 h-5 text-orange-500"}),"Points Details"]}),h.jsx(O,{children:"Your community engagement history and points breakdown"})]}),h.jsxs(D,{defaultValue:"overview",className:"w-full",children:[h.jsxs(U,{className:"grid w-full grid-cols-2",children:[h.jsx(B,{value:"overview",children:"Overview"}),h.jsx(B,{value:"history",children:"History"})]}),h.jsxs(F,{value:"overview",className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[h.jsx("div",{className:"font-bold text-2xl text-orange-600",children:de(r.total_points)}),h.jsx("div",{className:"text-xs text-orange-700",children:"Total Points"})]}),h.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[h.jsxs("div",{className:"font-bold text-2xl text-blue-600",children:["#",r.rank]}),h.jsx("div",{className:"text-xs text-blue-700",children:"Community Rank"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h4",{className:"font-semibold text-sm",children:"Recent Activity"}),m.length>0?h.jsx("div",{className:"space-y-2",children:m.map(e=>h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[xe(e.transaction_type),h.jsx("div",{className:"flex-1 text-sm",children:he(e.transaction_type)}),h.jsxs("span",{className:"text-xs font-semibold "+(e.points>0?"text-green-600":"text-red-600"),children:[e.points>0?"+":"",e.points]})]},e.id))}):h.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"})]})]}),h.jsx(F,{value:"history",className:"space-y-4",children:h.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2",children:c?h.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((e,s)=>h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded animate-pulse",children:[h.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),h.jsx("div",{className:"flex-1 h-4 bg-gray-200 rounded"}),h.jsx("div",{className:"w-8 h-4 bg-gray-200 rounded"})]},s))}):n.length>0?n.map(e=>h.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded hover:bg-gray-100",children:[xe(e.transaction_type),h.jsx("div",{className:"flex-1 text-sm",children:he(e.transaction_type)}),h.jsxs("div",{className:"text-right",children:[h.jsxs("span",{className:"text-xs font-semibold "+(e.points>0?"text-green-600":"text-red-600"),children:[e.points>0?"+":"",e.points]}),h.jsx("div",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id)):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No transaction history available"})})})]})]})]})]})})})})},ge=()=>{var e;const s=f(),{user:t}=m(),{toast:a}=u(),r=x.useRef(null),{profile:i,stats:l,posts:d,bookings:M,communities:I,badges:J,loading:H,updating:de,updateProfile:me,uploadAvatar:ue}=(()=>{const{user:e}=m(),{toast:s}=u(),[t,a]=x.useState(null),[r,i]=x.useState(null),[l,n]=x.useState([]),[c,d]=x.useState([]),[h,p]=x.useState([]),[g,j]=x.useState([]),[f,v]=x.useState(!0),[N,y]=x.useState(!1),b=null==e?void 0:e.id,w=x.useCallback(()=>o(void 0,null,function*(){if(b)try{v(!0);const e=yield oe.getUserProfile(b);a(e)}catch(e){s({title:"Error",description:"Failed to load profile data",variant:"destructive"})}finally{v(!1)}else v(!1)}),[b,s]),_=x.useCallback(()=>o(void 0,null,function*(){if(b)try{const e=yield oe.getUserStats(b);i(e)}catch(e){}}),[b]),C=x.useCallback(()=>o(void 0,null,function*(){if(b)try{const e=yield oe.getUserPosts(b);n(e)}catch(e){}}),[b]),k=x.useCallback(()=>o(void 0,null,function*(){if(b)try{const e=yield oe.getUserBookings(b);d(e)}catch(e){}}),[b]),P=x.useCallback(()=>o(void 0,null,function*(){if(b)try{const e=yield oe.getUserCommunities(b);p(e)}catch(e){}}),[b]),S=x.useCallback(()=>o(void 0,null,function*(){if(b)try{const e=yield oe.getUserBadges(b);j(e)}catch(e){}}),[b]),D=x.useCallback(e=>o(void 0,null,function*(){if(!b)return s({title:"Error",description:"User not authenticated",variant:"destructive"}),{success:!1};try{y(!0);const t=yield oe.updateUserProfile(b,e);return t.success?(s({title:"Success",description:"Profile updated successfully"}),yield w()):s({title:"Error",description:t.error||"Failed to update profile",variant:"destructive"}),t}catch(t){return s({title:"Error",description:"Failed to update profile",variant:"destructive"}),{success:!1,error:"Unknown error"}}finally{y(!1)}}),[b,s,w]),U=x.useCallback(e=>o(void 0,null,function*(){if(!b)return s({title:"Error",description:"User not authenticated",variant:"destructive"}),{success:!1};try{y(!0);const t=yield oe.uploadAvatar(b,e);return t.success?(s({title:"Success",description:"Avatar uploaded successfully"}),yield w()):s({title:"Error",description:t.error||"Failed to upload avatar",variant:"destructive"}),t}catch(t){return s({title:"Error",description:"Failed to upload avatar",variant:"destructive"}),{success:!1,error:"Unknown error"}}finally{y(!1)}}),[b,s,w]),B=x.useCallback(()=>o(void 0,null,function*(){b&&(yield Promise.all([w(),_(),C(),k(),P(),S()]))}),[b,w,_,C,k,P,S]);return x.useEffect(()=>{B()},[B]),{profile:t,stats:r,posts:l,bookings:c,communities:h,badges:g,loading:f,updating:N,updateProfile:D,uploadAvatar:U,refreshAll:B,fetchProfile:w,fetchStats:_,fetchPosts:C,fetchBookings:k,fetchCommunities:P,fetchBadges:S}})(),[xe,he]=x.useState(!1),[ge,je]=x.useState({display_name:(null==i?void 0:i.display_name)||"",bio:(null==i?void 0:i.bio)||"",location_city:(null==i?void 0:i.location_city)||"",location_state:(null==i?void 0:i.location_state)||"",location_country:(null==i?void 0:i.location_country)||""});x.useEffect(()=>{i&&je({display_name:i.display_name||"",bio:i.bio||"",location_city:i.location_city||"",location_state:i.location_state||"",location_country:i.location_country||""})},[i]);const fe=()=>{s("/create")},ve=e=>{switch(e){case"confirmed":return h.jsx(ie,{className:"w-4 h-4 text-green-500"});case"pending":return h.jsx(ae,{className:"w-4 h-4 text-yellow-500"});case"cancelled":return h.jsx(re,{className:"w-4 h-4 text-red-500"});default:return h.jsx(v,{className:"w-4 h-4 text-gray-500"})}},Ne=e=>{switch(e){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ye=e=>{switch(e){case"admin":return"bg-red-100 text-red-800";case"moderator":return"bg-blue-100 text-blue-800";case"member":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};if(H)return h.jsx(y,{children:h.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(X,{className:"h-6 w-6 animate-spin"}),h.jsx("span",{children:"Loading profile..."})]})})});if(!i)return h.jsx(y,{children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),h.jsx("p",{className:"text-muted-foreground mb-6",children:"Unable to load profile data. Please try refreshing the page."}),h.jsx(j,{onClick:()=>window.location.reload(),children:"Refresh Page"})]})});const be=i.display_name||(null==(e=null==t?void 0:t.email)?void 0:e.split("@")[0])||"User",we=[i.location_city,i.location_state,i.location_country].filter(Boolean).join(", ")||"Location not set";return h.jsx(y,{children:h.jsxs("div",{className:"space-y-8",children:[h.jsxs(p,{className:"relative overflow-hidden",children:[h.jsx("div",{className:"h-32 bg-gradient-to-r from-purple-500 to-pink-500"}),h.jsx(g,{className:"relative pt-0",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6",children:[h.jsxs("div",{className:"relative -mt-16",children:[h.jsxs(k,{className:"w-32 h-32 border-4 border-white shadow-lg",children:[h.jsx(P,{src:i.avatar_url||void 0,alt:be}),h.jsx(S,{className:"text-2xl font-bold bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:be.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})]}),h.jsx(j,{size:"icon",className:"absolute bottom-0 right-0 rounded-full",onClick:()=>{var e;return null==(e=r.current)?void 0:e.click()},disabled:de,children:de?h.jsx(X,{className:"w-4 h-4 animate-spin"}):h.jsx(Q,{className:"w-4 h-4"})}),h.jsx("input",{ref:r,type:"file",accept:"image/*",onChange:e=>o(void 0,null,function*(){var s;const t=null==(s=e.target.files)?void 0:s[0];t&&(t.type.startsWith("image/")?t.size>5242880?a({title:"File too large",description:"Please select an image smaller than 5MB",variant:"destructive"}):yield ue(t):a({title:"Invalid file type",description:"Please select an image file",variant:"destructive"}))}),className:"hidden"})]}),h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold mb-2",children:be}),h.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground mb-2",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(G,{className:"w-4 h-4"}),we]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(K,{className:"w-4 h-4"}),"Joined ",(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long"})}catch(s){return"Unknown"}})(i.created_at)]})]}),h.jsx("p",{className:"text-muted-foreground max-w-2xl",children:i.bio||"No bio available"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(j,{variant:"outline",size:"sm",children:[h.jsx(Z,{className:"w-4 h-4 mr-2"}),"Share Profile"]}),h.jsxs(T,{open:xe,onOpenChange:he,children:[h.jsx(E,{asChild:!0,children:h.jsxs(j,{size:"sm",children:[h.jsx(ee,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),h.jsxs($,{className:"max-w-2xl",children:[h.jsxs(A,{children:[h.jsx(L,{children:"Edit Profile"}),h.jsx(O,{children:"Update your profile information and settings"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(z,{htmlFor:"display_name",children:"Display Name"}),h.jsx(b,{id:"display_name",value:ge.display_name,onChange:e=>je(c(n({},ge),{display_name:e.target.value})),placeholder:"Enter your display name"})]}),h.jsxs("div",{children:[h.jsx(z,{htmlFor:"bio",children:"Bio"}),h.jsx(q,{id:"bio",value:ge.bio,onChange:e=>je(c(n({},ge),{bio:e.target.value})),rows:4,placeholder:"Tell us about yourself..."})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx(z,{htmlFor:"location_city",children:"City"}),h.jsx(b,{id:"location_city",value:ge.location_city,onChange:e=>je(c(n({},ge),{location_city:e.target.value})),placeholder:"City"})]}),h.jsxs("div",{children:[h.jsx(z,{htmlFor:"location_state",children:"State"}),h.jsx(b,{id:"location_state",value:ge.location_state,onChange:e=>je(c(n({},ge),{location_state:e.target.value})),placeholder:"State"})]}),h.jsxs("div",{children:[h.jsx(z,{htmlFor:"location_country",children:"Country"}),h.jsx(b,{id:"location_country",value:ge.location_country,onChange:e=>je(c(n({},ge),{location_country:e.target.value})),placeholder:"Country"})]})]}),h.jsxs("div",{className:"flex justify-end gap-2",children:[h.jsx(j,{variant:"outline",onClick:()=>he(!1),children:"Cancel"}),h.jsx(j,{onClick:()=>o(void 0,null,function*(){(yield me(ge)).success&&he(!1)}),disabled:de,children:de?h.jsxs(h.Fragment,{children:[h.jsx(X,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})]})]})]})})]})})]}),l&&h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsx(p,{children:h.jsxs(g,{className:"p-4 text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:l.eventsCreated}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Events Created"})]})}),h.jsx(p,{children:h.jsxs(g,{className:"p-4 text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:l.postsCreated}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Posts Created"})]})}),h.jsx(p,{children:h.jsxs(g,{className:"p-4 text-center",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:l.communitiesJoined}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Communities"})]})}),h.jsx(p,{children:h.jsx(g,{className:"p-4 text-center",children:h.jsx(pe,{compact:!0,showDetails:!1})})})]}),h.jsxs(D,{defaultValue:"posts",className:"space-y-6",children:[h.jsxs(U,{className:"grid w-full grid-cols-4",children:[h.jsxs(B,{value:"posts",className:"flex items-center gap-2",children:[h.jsx(W,{className:"w-4 h-4"}),"Posts"]}),h.jsxs(B,{value:"bookings",className:"flex items-center gap-2",children:[h.jsx(K,{className:"w-4 h-4"}),"Bookings"]}),h.jsxs(B,{value:"communities",className:"flex items-center gap-2",children:[h.jsx(se,{className:"w-4 h-4"}),"Communities"]}),h.jsxs(B,{value:"badges",className:"flex items-center gap-2",children:[h.jsx(R,{className:"w-4 h-4"}),"Badges"]})]}),h.jsxs(F,{value:"posts",className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Recent Posts"}),h.jsxs(j,{onClick:fe,className:"btn-community",children:[h.jsx(C,{className:"w-4 h-4 mr-2"}),"Create Post"]})]}),d.length>0?h.jsx("div",{className:"space-y-4",children:d.map(e=>h.jsx(p,{className:"discussion-card",children:h.jsx(g,{className:"p-6",children:h.jsxs("div",{className:"flex gap-4",children:[e.image&&h.jsx("img",{src:e.image,alt:e.title,className:"w-24 h-24 rounded-lg object-cover flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:e.title}),h.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:e.content}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(N,{className:"w-4 h-4"}),e.likes]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(W,{className:"w-4 h-4"}),e.comments]}),h.jsx("span",{children:e.date})]}),h.jsx(j,{variant:"ghost",size:"sm",children:h.jsx(te,{className:"w-4 h-4"})})]})]})]})})},e.id))}):h.jsx(p,{children:h.jsxs(g,{className:"p-8 text-center",children:[h.jsx(W,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Posts Yet"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"Start sharing your thoughts and experiences with the community!"}),h.jsxs(j,{onClick:fe,children:[h.jsx(C,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]})]})})]}),h.jsxs(F,{value:"bookings",className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Upcoming Bookings"}),h.jsx(j,{className:"btn-event",asChild:!0,children:h.jsx("a",{href:"/events",children:"Browse Events"})})]}),M.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map(e=>h.jsx(p,{className:"event-card",children:h.jsx(g,{className:"p-4",children:h.jsxs("div",{className:"flex gap-4",children:[e.eventImage&&h.jsx("img",{src:e.eventImage,alt:e.eventTitle,className:"w-20 h-20 rounded-lg object-cover"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold mb-1",children:e.eventTitle}),h.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(K,{className:"w-3 h-3"}),e.date]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(ae,{className:"w-3 h-3"}),e.time]}),h.jsxs("span",{className:"flex items-center gap-1",children:[h.jsx(G,{className:"w-3 h-3"}),e.location]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(w,{className:Ne(e.status),children:[ve(e.status),h.jsx("span",{className:"ml-1 capitalize",children:e.status})]}),h.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.tickets," ticket",e.tickets>1?"s":""]})]})]})]})})},e.id))}):h.jsx(p,{children:h.jsxs(g,{className:"p-8 text-center",children:[h.jsx(K,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Bookings Yet"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"Start exploring events and make your first booking!"}),h.jsx(j,{asChild:!0,children:h.jsx("a",{href:"/events",children:"Browse Events"})})]})})]}),h.jsxs(F,{value:"communities",className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"My Communities"}),h.jsx(j,{className:"btn-community",asChild:!0,children:h.jsx("a",{href:"/community",children:"Discover Communities"})})]}),I.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:I.map(e=>h.jsx(p,{className:"community-card",children:h.jsx(g,{className:"p-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("img",{src:e.image,alt:e.name,className:"w-16 h-16 rounded-lg object-cover"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold mb-1",children:e.name}),h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(w,{className:ye(e.role),children:e.role}),h.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.members," members"]})]}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",e.joinedDate]})]})]})})},e.id))}):h.jsx(p,{children:h.jsxs(g,{className:"p-8 text-center",children:[h.jsx(se,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Communities Yet"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"Join communities to connect with like-minded people!"}),h.jsx(j,{asChild:!0,children:h.jsx("a",{href:"/community",children:"Discover Communities"})})]})})]}),h.jsxs(F,{value:"badges",className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h2",{className:"text-xl font-semibold",children:"Achievement Badges"}),h.jsxs("span",{className:"text-sm text-muted-foreground",children:[J.length," badges earned"]})]}),J.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:J.map(e=>{const s=(e=>({Crown:ce,Shield:ne,Zap:Y,Trophy:R,Calendar:K,Users:se,Star:_,Flame:le,TrendingUp:V}[e]||_))(e.icon);return h.jsx(p,{className:"trending-card",children:h.jsxs(g,{className:"p-6 text-center",children:[h.jsx("div",{className:`w-16 h-16 ${e.color} rounded-full flex items-center justify-center mx-auto mb-4`,children:h.jsx(s,{className:"w-8 h-8 text-white"})}),h.jsx("h3",{className:"font-semibold mb-2",children:e.name}),h.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]})},e.id)})}):h.jsx(p,{children:h.jsxs(g,{className:"p-8 text-center",children:[h.jsx(R,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Badges Yet"}),h.jsx("p",{className:"text-muted-foreground mb-4",children:"Start engaging with the community to earn badges!"}),h.jsxs(j,{onClick:fe,children:[h.jsx(C,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]})]})})]})]})]})})};export{ge as default};
