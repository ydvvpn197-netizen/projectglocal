var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{b as l,u as o,r as c,j as m,C as d,v as p,w as j,y as h,B as x}from"./main-6fHUpRzT.js";import{I as v}from"./input-C0XSs2D-.js";import{L as g}from"./label-B5VpaZlr.js";import{T as u}from"./textarea-DdxXr3wS.js";import{S as f,a as y,b as _,c as b,d as N}from"./select-CsS9Kpur.js";import{R as C}from"./ResponsiveLayout-Bc2JEU4o.js";import{u as w}from"./useEvents-LUc3ZOwt.js";import{C as O}from"./index-YNlOS8aM.js";import{C as F}from"./clock-CuUFWr0o.js";import{M as S}from"./map-pin-DJOBTPKn.js";import{U as E}from"./users-Czby48qY.js";import{D}from"./dollar-sign-Dc936s2v.js";import{T as P}from"./tag-BTUrL2J5.js";import"./index-jVOyRz7F.js";import"./index-BlbmBgSN.js";import"./Combination-Bb2n9b59.js";import"./index-WEre3Vep.js";import"./chevron-up-k-AfHmE-.js";import"./check-BVB7WkBF.js";import"./separator-55ip2E4B.js";import"./sheet-D2smYKYW.js";import"./NotificationBell-C-odGad4.js";import"./badge-Bj-CyBpD.js";import"./scroll-area-DRpKKhsW.js";import"./useNotifications-DlOFbLc9.js";import"./tabs-BNobDGc4.js";import"./bell-DFXHEubE.js";import"./user-DoINJrqZ.js";import"./index-GQUAIkZv.js";import"./NotificationButton-CnmvsVP-.js";import"./search-CeL_nYcN.js";import"./zap-Dyj-3m1T.js";import"./message-square-BNIlY-fX.js";import"./alert-BCcU8rrr.js";import"./wifi-D7M5OVnX.js";import"./log-out-B3lkkfQi.js";import"./useLocation-Bl6dvRZN.js";import"./locationService-BtZ0rgoF.js";import"./pointsService-BOpHKILN.js";const T=()=>{const e=l(),{user:T}=o(),{createEvent:q}=w(),[L,k]=c.useState(!1),[I,B]=c.useState({title:"",description:"",event_date:"",event_time:"",location_name:"",category:"",max_attendees:"",price:"",image_url:"",tags:""}),M=(e,l)=>{B(o=>((e,a)=>t(e,s(a)))(((e,t)=>{for(var s in t||(t={}))r.call(t,s)&&n(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&n(e,s,t[s]);return e})({},o),{[e]:l}))};return m.jsx(C,{children:m.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(O,{className:"h-6 w-6 text-primary"}),m.jsx("h1",{className:"text-3xl font-bold",children:"Create Event"})]}),m.jsxs(d,{children:[m.jsx(p,{children:m.jsx(j,{children:"Event Details"})}),m.jsx(h,{children:m.jsxs("form",{onSubmit:t=>((e,s,a)=>new Promise((r,i)=>{var n=e=>{try{o(a.next(e))}catch(t){i(t)}},l=e=>{try{o(a.throw(e))}catch(t){i(t)}},o=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,l);o((a=a.apply(e,s)).next())}))(void 0,null,function*(){if(t.preventDefault(),!T)return void e("/signin");k(!0);const s={title:I.title,description:I.description,event_date:I.event_date,event_time:I.event_time,location_name:I.location_name,category:I.category||void 0,max_attendees:I.max_attendees?parseInt(I.max_attendees):void 0,price:I.price?parseFloat(I.price):0,image_url:I.image_url||void 0,tags:I.tags?I.tags.split(",").map(e=>e.trim()):void 0};(yield q(s))&&e("/events"),k(!1)}),className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(g,{htmlFor:"title",children:"Event Title *"}),m.jsx(v,{id:"title",value:I.title,onChange:e=>M("title",e.target.value),placeholder:"Enter event title",required:!0})]}),m.jsxs("div",{children:[m.jsx(g,{htmlFor:"description",children:"Description"}),m.jsx(u,{id:"description",value:I.description,onChange:e=>M("description",e.target.value),placeholder:"Describe your event",rows:3})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"event_date",className:"flex items-center gap-2",children:[m.jsx(O,{className:"h-4 w-4"}),"Date *"]}),m.jsx(v,{id:"event_date",type:"date",value:I.event_date,onChange:e=>M("event_date",e.target.value),min:(new Date).toISOString().split("T")[0],required:!0})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"event_time",className:"flex items-center gap-2",children:[m.jsx(F,{className:"h-4 w-4"}),"Time *"]}),m.jsx(v,{id:"event_time",type:"time",value:I.event_time,onChange:e=>M("event_time",e.target.value),required:!0})]})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"location_name",className:"flex items-center gap-2",children:[m.jsx(S,{className:"h-4 w-4"}),"Location *"]}),m.jsx(v,{id:"location_name",value:I.location_name,onChange:e=>M("location_name",e.target.value),placeholder:"Event venue or address",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(g,{children:"Category"}),m.jsxs(f,{value:I.category,onValueChange:e=>M("category",e),children:[m.jsx(y,{children:m.jsx(_,{placeholder:"Select category"})}),m.jsx(b,{children:["Art & Culture","Music","Food & Drink","Sports & Fitness","Technology","Business","Education","Health & Wellness","Community","Entertainment","Other"].map(e=>m.jsx(N,{value:e,children:e},e))})]})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"max_attendees",className:"flex items-center gap-2",children:[m.jsx(E,{className:"h-4 w-4"}),"Max Attendees"]}),m.jsx(v,{id:"max_attendees",type:"number",value:I.max_attendees,onChange:e=>M("max_attendees",e.target.value),placeholder:"Optional",min:"1"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"price",className:"flex items-center gap-2",children:[m.jsx(D,{className:"h-4 w-4"}),"Price (USD)"]}),m.jsx(v,{id:"price",type:"number",value:I.price,onChange:e=>M("price",e.target.value),placeholder:"0 for free events",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx(g,{htmlFor:"image_url",children:"Image URL"}),m.jsx(v,{id:"image_url",type:"url",value:I.image_url,onChange:e=>M("image_url",e.target.value),placeholder:"Optional event image"})]})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"tags",className:"flex items-center gap-2",children:[m.jsx(P,{className:"h-4 w-4"}),"Tags"]}),m.jsx(v,{id:"tags",value:I.tags,onChange:e=>M("tags",e.target.value),placeholder:"photography, outdoor, beginner (comma separated)"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(x,{type:"submit",disabled:L,className:"flex-1",children:L?"Creating...":"Create Event"}),m.jsx(x,{type:"button",variant:"outline",onClick:()=>e("/events"),children:"Cancel"})]})]})})]})]})})};export{T as default};
