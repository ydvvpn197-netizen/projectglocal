var u=(i,l,a)=>new Promise((o,n)=>{var m=s=>{try{r(a.next(s))}catch(t){n(t)}},d=s=>{try{r(a.throw(s))}catch(t){n(t)}},r=s=>s.done?o(s.value):Promise.resolve(s.value).then(m,d);r((a=a.apply(i,l)).next())});import{r as x,u as h,f,j as e,C as j,p as g,B as c,q as N,t as v,v as y,L as w}from"./main-Dczk40-q.js";import{I as C}from"./index-DxDoSqvO.js";import{L as S}from"./label-KS36zHkM.js";import{U as k}from"./UniformHeader-B6Gp-jaz.js";import{A as b}from"./arrow-left-CzEz-wbP.js";import{M as E}from"./mail-CApItZTg.js";import"./useLocationManager-Dc0igfRE.js";import"./locationService-DP6rxedy.js";import"./databaseUtils-DDxBFZda.js";import"./badge-iBsRNaSn.js";import"./index-p4sF6Wge.js";import"./scroll-area-Ya-nYYPz.js";import"./index-BCwUGNws.js";import"./tabs-ChvN7mKq.js";import"./check-Dn5E7z_E.js";import"./useNotifications-DdfHYMMR.js";import"./notificationService-DiBkqnn5.js";import"./bell-CB9MQoCr.js";import"./user-xzPyfs-H.js";import"./search-CoqTXUJe.js";import"./map-pin-B65WKje7.js";import"./log-out-vClmguiA.js";const Z=()=>{const[i,l]=x.useState(""),[a,o]=x.useState(!1),[n,m]=x.useState(!1),{requestPasswordReset:d}=h(),r=f(),s=t=>u(void 0,null,function*(){t.preventDefault(),o(!0);try{const{error:p}=yield d(i);p||m(!0)}catch(p){console.error("Password reset error:",p)}finally{o(!1)}});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5",children:[e.jsx(k,{showAuthButtons:!1,showLocationButton:!1}),e.jsx("div",{className:"flex items-center justify-center p-4 pt-12",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(j,{children:[e.jsxs(g,{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>r(-1),className:"p-0 h-auto",children:e.jsx(b,{className:"h-4 w-4"})}),e.jsx(N,{className:"text-2xl",children:"Forgot Password"})]}),e.jsx(v,{children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsx(y,{children:n?e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("div",{className:"mx-auto w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Check Your Email"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["We've sent a password reset link to ",e.jsx("strong",{children:i})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{onClick:()=>r("/signin"),className:"w-full",children:"Back to Sign In"}),e.jsx(c,{variant:"outline",onClick:()=>{m(!1),l("")},className:"w-full",children:"Send Another Email"})]})]}):e.jsxs("form",{onSubmit:s,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"email",children:"Email"}),e.jsx(C,{id:"email",type:"email",placeholder:"Enter your email",value:i,onChange:t=>l(t.target.value),required:!0})]}),e.jsx(c,{type:"submit",className:"w-full",disabled:a,children:a?"Sending...":"Send Reset Link"}),e.jsx("div",{className:"text-center",children:e.jsx(w,{to:"/signin",className:"text-sm text-muted-foreground hover:text-primary",children:"Back to Sign In"})})]})})]})})})]})};export{Z as default};
