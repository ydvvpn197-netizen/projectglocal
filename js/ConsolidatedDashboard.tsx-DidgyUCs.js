var rs=Object.defineProperty,ns=Object.defineProperties;var ls=Object.getOwnPropertyDescriptors;var Ve=Object.getOwnPropertySymbols;var is=Object.prototype.hasOwnProperty,cs=Object.prototype.propertyIsEnumerable;var _e=(t,l,r)=>l in t?rs(t,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[l]=r,O=(t,l)=>{for(var r in l||(l={}))is.call(l,r)&&_e(t,r,l[r]);if(Ve)for(var r of Ve(l))cs.call(l,r)&&_e(t,r,l[r]);return t},Q=(t,l)=>ns(t,ls(l));var B=(t,l,r)=>new Promise((k,h)=>{var v=p=>{try{w(r.next(p))}catch(f){h(f)}},o=p=>{try{w(r.throw(p))}catch(f){h(f)}},w=p=>p.done?k(p.value):Promise.resolve(p.value).then(v,o);w((r=r.apply(t,l)).next())});import{r as c,j as e,H as os,U,o as we,E as ds,a9 as ms,bd as xs,aQ as ce,h as le,aG as hs,X as Ge,bn as us,bo as gs,f as z,aE as js,bp as ie,w as G,au as ve,x as ee,aq as _,M as oe,aV as fs,ac as ps,q as Ns,a5 as He,z as se,Z as ye,bq as Ee,br as vs,t as Ie,a0 as ze,at as ws,m as ys,G as Re,bs as Fe,aU as bs,aA as ks,a2 as De,bt as Te,bu as Cs,n as Ss,aj as Me,v as As,ar as pe,_ as qe,aw as $e,av as Ls,p as Fs,bg as Ts,bv as Ms}from"./chunk-COTa-BBv.js";import{M as Es}from"./chunk-BcC6xPGe.js";import{a as X,B as N,e as W,C as g,c as C,d as S,b as j,f as P,u as Is}from"./main-BMj1NFFE.js";import{B as E}from"./chunk-BCSLz2CJ.js";import{u as Rs}from"./chunk-DHZUcEJV.js";import{r as q}from"./chunk-CvCzjiVP.js";import{T as te,a as ae,b as A,c as T}from"./chunk-BzTmHFr7.js";import{A as ue,a as ge,b as je}from"./chunk-mExNus9E.js";import{P as Ne}from"./chunk-BXmsKp86.js";import{u as re}from"./chunk-Drm-sIqC.js";import{s as J}from"./chunk-CasIWBEQ.js";import{D as Oe,a as Qe,b as Je,c as K}from"./chunk-B55Wu1Wu.js";import{I as Pe}from"./chunk-BQur_cHm.js";import{S as de,a as me,b as xe,c as he,d as M}from"./chunk-Caym9pUi.js";import{m as Ds}from"./chunk-COG8KeUH.js";import"./chunk-DvlvDbdf.js";import"./chunk-BlluHz2J.js";import"./chunk-DJzzOJWe.js";import"./chunk-BA32w1ww.js";import"./chunk-CtVZ7_EZ.js";import"./chunk-CE0O3dYU.js";import"./chunk-DmQrF9DI.js";import"./chunk-CKr6gYyv.js";import"./chunk-DQMKfNBV.js";import"./chunk-C4jjqBrH.js";const Ps=c.createContext(void 0),We=()=>{const t=c.useContext(Ps);if(t===void 0)throw new Error("useLayout must be used within a LayoutProvider");return t};function Us(){const[t,l]=c.useState({role:null,isAdmin:!1,isSuperAdmin:!1,isModerator:!1,loading:!0,error:null});c.useEffect(()=>{r()},[]);const r=()=>B(null,null,function*(){try{l(s=>Q(O({},s),{loading:!0,error:null}));const[m,n,b,u]=yield Promise.all([q.getUserRole(),q.isAdmin(),q.isSuperAdmin(),q.isModerator()]);l({role:m,isAdmin:n,isSuperAdmin:b,isModerator:u,loading:!1,error:null})}catch(m){console.error("Error loading user role:",m),l(n=>Q(O({},n),{loading:!1,error:m instanceof Error?m.message:"Failed to load user role"}))}}),k=m=>B(null,null,function*(){try{return yield q.hasRole(m)}catch(n){return console.error("Error checking role:",n),!1}}),h=m=>B(null,null,function*(){try{return yield q.canEditEvent(m)}catch(n){return console.error("Error checking edit permission:",n),!1}}),v=m=>B(null,null,function*(){try{return yield q.canDeleteEvent(m)}catch(n){return console.error("Error checking delete permission:",n),!1}}),o=()=>B(null,null,function*(){try{return yield q.canFeatureEvent()}catch(m){return console.error("Error checking feature permission:",m),!1}}),w=()=>B(null,null,function*(){try{return yield q.canModerateContent()}catch(m){return console.error("Error checking moderation permission:",m),!1}}),p=()=>B(null,null,function*(){try{return yield q.canAccessAdminPanel()}catch(m){return console.error("Error checking admin panel access:",m),!1}}),f=()=>B(null,null,function*(){try{return yield q.canManageUsers()}catch(m){return console.error("Error checking user management permission:",m),!1}});return Q(O({},t),{hasRole:k,canEditEvent:h,canDeleteEvent:v,canFeatureEvent:o,canModerateContent:w,canAccessAdminPanel:p,canManageUsers:f,refresh:r})}function Bs(){const{isAdmin:t,loading:l}=Us();return{isAdmin:t,loading:l}}const Vs=[{name:"Home",href:"/feed",icon:os,badge:null},{name:"Communities",href:"/communities",icon:U,badge:null},{name:"Events",href:"/events",icon:we,badge:null},{name:"Artists",href:"/book-artist",icon:ds,badge:null},{name:"Messages",href:"/messages",icon:ms,badge:"unread"},{name:"News",href:"/news",icon:xs,badge:null},{name:"Analytics",href:"/community-insights",icon:ce,badge:null}],_s=[{name:"Settings",href:"/settings",icon:le},{name:"Help",href:"/help",icon:hs}],zs=({isOpen:t,isMobile:l,customContent:r})=>{var p;const{toggleSidebar:k}=We(),{user:h}=X(),{unreadCount:v}=Rs(),{isAdmin:o}=Bs(),w=r||e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center text-primary-foreground text-sm font-medium",children:((p=h==null?void 0:h.username)==null?void 0:p.charAt(0).toUpperCase())||"U"}),t&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium truncate",children:(h==null?void 0:h.username)||"User"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:h==null?void 0:h.email})]})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:Vs.filter(f=>!(f.name==="Analytics"&&!o)).map(f=>{const m=f.icon,n=f.badge==="unread"&&v>0;return e.jsx(N,{variant:"ghost",className:W("w-full justify-start h-10",t?"px-3":"px-2"),asChild:!0,children:e.jsxs("a",{href:f.href,className:"flex items-center",children:[e.jsx(m,{className:W("h-4 w-4",!t&&"mx-auto")}),t&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"ml-3 flex-1 text-left",children:f.name}),n&&e.jsx(E,{variant:"destructive",className:"ml-2",children:v>99?"99+":v})]})]})},f.name)})}),e.jsx("div",{className:"p-4 border-t border-border space-y-2",children:_s.map(f=>{const m=f.icon;return e.jsx(N,{variant:"ghost",className:W("w-full justify-start h-10",t?"px-3":"px-2"),asChild:!0,children:e.jsxs("a",{href:f.href,className:"flex items-center",children:[e.jsx(m,{className:W("h-4 w-4",!t&&"mx-auto")}),t&&e.jsx("span",{className:"ml-3",children:f.name})]})},f.name)})})]});return e.jsxs(e.Fragment,{children:[l&&t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:k}),e.jsx("aside",{className:W("bg-background border-r border-border transition-all duration-300 z-50",l?"fixed inset-y-0 left-0 w-64":"relative",l&&!t&&"-translate-x-full",!l&&(t?"w-64":"w-16")),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[t&&e.jsx("h2",{className:"text-lg font-semibold",children:"Menu"}),e.jsx(N,{variant:"ghost",size:"icon",onClick:k,className:"h-8 w-8",children:l?e.jsx(Ge,{className:"h-4 w-4"}):t?e.jsx(us,{className:"h-4 w-4"}):e.jsx(gs,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:w})]})})]})},qs=({children:t,sidebarContent:l,className:r})=>{const{sidebarOpen:k,isMobile:h}=We();return e.jsxs("div",{className:"flex h-screen overflow-hidden",children:[e.jsx(zs,{isOpen:k,isMobile:h,customContent:l}),e.jsx("main",{className:W("flex-1 flex flex-col overflow-hidden transition-all duration-300",!h&&k&&"ml-64",!h&&!k&&"ml-16",r),children:t})]})},Ye=({children:t,layout:l="main",showSidebar:r=!0,showHeader:k=!0,showFooter:h=!0,sidebarContent:v,className:o})=>{switch(l){case"sidebar":return e.jsx(qs,{sidebarContent:v,className:o,children:t});case"full":return e.jsx("div",{className:W("min-h-screen bg-background",o),children:t});case"minimal":return e.jsx("div",{className:W("min-h-screen bg-background flex flex-col",o),children:t});case"main":default:return e.jsx(Es,{showNewsFeed:!0,children:t})}},$s=()=>{const{user:t}=X(),{followStats:l}=re(),[r,k]=c.useState(null),[h,v]=c.useState(!0),[o,w]=c.useState("overview"),[p,f]=c.useState("30d");c.useEffect(()=>{t&&m()},[t,p,m]);const m=c.useCallback(()=>B(null,null,function*(){v(!0);try{const n={engagement:{totalLikes:1250,totalComments:340,totalShares:89,totalViews:15600,engagementRate:4.2,growthRate:12.5},followers:{total:(l==null?void 0:l.totalFollowers)||450,newThisMonth:67,growthRate:17.5,topCountries:[{country:"United States",count:320},{country:"Canada",count:89},{country:"United Kingdom",count:41}],demographics:{ageGroups:[{age:"18-24",percentage:25},{age:"25-34",percentage:40},{age:"35-44",percentage:25},{age:"45+",percentage:10}],genders:[{gender:"Female",percentage:55},{gender:"Male",percentage:40},{gender:"Other",percentage:5}]}},content:{totalPosts:89,postsThisMonth:12,averageLikes:14.2,averageComments:3.8,topPerformingPosts:[{id:"1",title:"Local Community Event",likes:45,comments:12,views:320,date:"2024-01-15"},{id:"2",title:"Art Exhibition Opening",likes:38,comments:8,views:280,date:"2024-01-12"}]},activity:{dailyActivity:Array.from({length:30},(b,u)=>({date:new Date(Date.now()-(29-u)*24*60*60*1e3).toISOString().split("T")[0],posts:Math.floor(Math.random()*3),likes:Math.floor(Math.random()*20),comments:Math.floor(Math.random()*8)})),weeklyActivity:Array.from({length:12},(b,u)=>({week:`Week ${u+1}`,posts:Math.floor(Math.random()*10)+5,engagement:Math.floor(Math.random()*100)+50})),monthlyActivity:Array.from({length:6},(b,u)=>({month:new Date(Date.now()-(5-u)*30*24*60*60*1e3).toLocaleDateString("en-US",{month:"short"}),posts:Math.floor(Math.random()*20)+10,followers:Math.floor(Math.random()*50)+20}))},insights:{bestPostingTimes:[{hour:9,engagement:85},{hour:14,engagement:92},{hour:19,engagement:78},{hour:21,engagement:88}],topInterests:[{interest:"Community",count:45},{interest:"Art",count:32},{interest:"Events",count:28},{interest:"Local News",count:25}],recommendations:[{type:"engagement",message:"Post more content during peak hours (2-3 PM) to increase engagement",priority:"high"},{type:"content",message:"Create more video content - your video posts get 40% more engagement",priority:"medium"},{type:"community",message:"Engage with your followers more often to build stronger relationships",priority:"low"}]}};k(n)}catch(n){console.error("Error fetching analytics:",n)}finally{v(!1)}}),[l]);return h?e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Analytics"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(z,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading analytics..."})]})})]}):r?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Comprehensive insights into your community engagement"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{variant:"outline",size:"sm",children:[e.jsx(js,{className:"h-4 w-4 mr-2"}),"Export"]}),e.jsxs(N,{variant:"outline",size:"sm",onClick:m,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(g,{children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Followers"}),e.jsx("p",{className:"text-2xl font-bold",children:r.followers.total.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ie,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["+",r.followers.growthRate,"%"]})]})]}),e.jsx(U,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(g,{children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[r.engagement.engagementRate,"%"]}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ie,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["+",r.engagement.growthRate,"%"]})]})]}),e.jsx(G,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(g,{children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Views"}),e.jsx("p",{className:"text-2xl font-bold",children:r.engagement.totalViews.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ie,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"+8.2%"})]})]}),e.jsx(ve,{className:"h-8 w-8 text-primary"})]})})}),e.jsx(g,{children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Posts This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:r.content.postsThisMonth}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(ie,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm text-green-600",children:"+15.3%"})]})]}),e.jsx(we,{className:"h-8 w-8 text-primary"})]})})})]}),e.jsxs(te,{value:o,onValueChange:w,className:"space-y-4",children:[e.jsxs(ae,{className:"grid w-full grid-cols-4",children:[e.jsx(A,{value:"overview",children:"Overview"}),e.jsx(A,{value:"followers",children:"Followers"}),e.jsx(A,{value:"content",children:"Content"}),e.jsx(A,{value:"insights",children:"Insights"})]}),e.jsx(T,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Engagement Metrics"}),e.jsx(P,{children:"Your content performance"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Likes"}),e.jsx("span",{className:"font-bold",children:r.engagement.totalLikes.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Comments"}),e.jsx("span",{className:"font-bold",children:r.engagement.totalComments.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Shares"}),e.jsx("span",{className:"font-bold",children:r.engagement.totalShares.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Average Likes per Post"}),e.jsx("span",{className:"font-bold",children:r.content.averageLikes})]})]})]}),e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Top Performing Posts"}),e.jsx(P,{children:"Your best content this month"})]}),e.jsx(j,{className:"space-y-4",children:r.content.topPerformingPosts.map((n,b)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium truncate",children:n.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.date})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),n.likes]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-3 w-3"}),n.comments]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ve,{className:"h-3 w-3"}),n.views]})]})]},n.id))})]})]})}),e.jsx(T,{value:"followers",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Follower Demographics"}),e.jsx(P,{children:"Age and gender distribution"})]}),e.jsx(j,{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Age Groups"}),r.followers.demographics.ageGroups.map((n,b)=>e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:n.age}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${n.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[n.percentage,"%"]})]})]},b))]})})]}),e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Top Countries"}),e.jsx(P,{children:"Where your followers are located"})]}),e.jsx(j,{className:"space-y-4",children:r.followers.topCountries.map((n,b)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:n.country}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${n.count/r.followers.total*100}%`}})}),e.jsx("span",{className:"text-sm font-medium w-8",children:n.count})]})]},b))})]})]})}),e.jsx(T,{value:"content",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Content Performance"}),e.jsx(P,{children:"Your posting activity and engagement"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Posts"}),e.jsx("span",{className:"font-bold",children:r.content.totalPosts})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Posts This Month"}),e.jsx("span",{className:"font-bold",children:r.content.postsThisMonth})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Average Likes"}),e.jsx("span",{className:"font-bold",children:r.content.averageLikes})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:"Average Comments"}),e.jsx("span",{className:"font-bold",children:r.content.averageComments})]})]})]}),e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Top Interests"}),e.jsx(P,{children:"What your audience is interested in"})]}),e.jsx(j,{className:"space-y-4",children:r.insights.topInterests.map((n,b)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:n.interest}),e.jsx(E,{variant:"secondary",children:n.count})]},b))})]})]})}),e.jsx(T,{value:"insights",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Best Posting Times"}),e.jsx(P,{children:"When your audience is most active"})]}),e.jsx(j,{className:"space-y-4",children:r.insights.bestPostingTimes.map((n,b)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm",children:[n.hour,":00"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${n.engagement}%`}})}),e.jsxs("span",{className:"text-sm font-medium w-8",children:[n.engagement,"%"]})]})]},b))})]}),e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Recommendations"}),e.jsx(P,{children:"Tips to improve your engagement"})]}),e.jsx(j,{className:"space-y-4",children:r.insights.recommendations.map((n,b)=>e.jsx("div",{className:"p-3 border rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(E,{variant:n.priority==="high"?"destructive":n.priority==="medium"?"default":"secondary",className:"text-xs",children:n.priority}),e.jsx("p",{className:"text-sm",children:n.message})]})},b))})]})]})})]})]}):e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5"}),"Analytics"]})}),e.jsx(j,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No analytics data available"}),e.jsxs(N,{onClick:m,variant:"outline",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})})]})},Ys=()=>{const{user:t}=X(),[l,r]=c.useState([]),[k,h]=c.useState(!0),[v,o]=c.useState("all"),[w,p]=c.useState("all");c.useEffect(()=>{t&&f()},[t,w,f]);const f=c.useCallback(()=>B(null,null,function*(){h(!0);try{const a=[{id:"1",type:"like",user:{id:"user1",displayName:"Sarah Johnson",username:"sarahj",avatarUrl:void 0},content:{text:"liked your post about the community art exhibition",postId:"post1"},metadata:{timestamp:new Date(Date.now()-3e5).toISOString(),isRead:!1,priority:"medium"},engagement:{likes:12,comments:3,shares:1}},{id:"2",type:"comment",user:{id:"user2",displayName:"Mike Chen",username:"mikechen",avatarUrl:void 0},content:{text:'commented on your event: "Great initiative! Looking forward to attending."',postId:"post2"},metadata:{timestamp:new Date(Date.now()-9e5).toISOString(),isRead:!1,priority:"high"},engagement:{likes:8,comments:2,shares:0}},{id:"3",type:"follow",user:{id:"user3",displayName:"Emma Rodriguez",username:"emmar",avatarUrl:void 0},content:{text:"started following you"},metadata:{timestamp:new Date(Date.now()-18e5).toISOString(),isRead:!0,priority:"medium"}},{id:"4",type:"mention",user:{id:"user4",displayName:"David Park",username:"davidpark",avatarUrl:void 0},content:{text:"mentioned you in a post about local business networking",postId:"post3"},metadata:{timestamp:new Date(Date.now()-72e5).toISOString(),isRead:!1,priority:"high"},engagement:{likes:15,comments:5,shares:2}},{id:"5",type:"event",user:{id:"user5",displayName:"Community Events",username:"communityevents",avatarUrl:void 0},content:{title:'New event created: "Local Farmers Market"',text:"A new farmers market event has been created in your area",eventId:"event1"},metadata:{timestamp:new Date(Date.now()-144e5).toISOString(),location:"Downtown Plaza",isRead:!0,priority:"low"}},{id:"6",type:"post",user:{id:"user6",displayName:"Local News",username:"localnews",avatarUrl:void 0},content:{title:"New post from someone you follow",text:"shared a post about upcoming city council meeting",postId:"post4"},metadata:{timestamp:new Date(Date.now()-216e5).toISOString(),isRead:!0,priority:"medium"},engagement:{likes:25,comments:8,shares:3}}];let y=a;w!=="all"&&(y=a.filter(F=>F.type===w)),r(y)}catch(a){console.error("Error fetching activities:",a)}finally{h(!1)}}),[w]),m=a=>{switch(a){case"like":return e.jsx(G,{className:"h-4 w-4 text-red-500"});case"comment":return e.jsx(ee,{className:"h-4 w-4 text-blue-500"});case"follow":return e.jsx(ye,{className:"h-4 w-4 text-green-500"});case"post":return e.jsx(_,{className:"h-4 w-4 text-purple-500"});case"event":return e.jsx(we,{className:"h-4 w-4 text-orange-500"});case"mention":return e.jsx(se,{className:"h-4 w-4 text-yellow-500"});default:return e.jsx(_,{className:"h-4 w-4 text-gray-500"})}},n=a=>{switch(a){case"like":return"bg-red-50 border-red-200";case"comment":return"bg-blue-50 border-blue-200";case"follow":return"bg-green-50 border-green-200";case"post":return"bg-purple-50 border-purple-200";case"event":return"bg-orange-50 border-orange-200";case"mention":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},b=a=>{const y=new Date,F=new Date(a),i=Math.floor((y.getTime()-F.getTime())/(1e3*60));return i<1?"Just now":i<60?`${i}m ago`:i<1440?`${Math.floor(i/60)}h ago`:`${Math.floor(i/1440)}d ago`},u=a=>{r(y=>y.map(F=>F.id===a?Q(O({},F),{metadata:Q(O({},F.metadata),{isRead:!0})}):F))},s=()=>{r(a=>a.map(y=>Q(O({},y),{metadata:Q(O({},y.metadata),{isRead:!0})})))};if(k)return e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Activity Feed"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(z,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading activities..."})]})})]});const I=l.filter(a=>!a.metadata.isRead).length;return e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-5 w-5"}),"Activity Feed",I>0&&e.jsx(E,{variant:"destructive",className:"ml-2",children:I})]}),e.jsx(P,{children:"Stay updated with your community activities"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{variant:"outline",size:"sm",onClick:s,children:"Mark all as read"}),e.jsxs(N,{variant:"outline",size:"sm",onClick:f,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),e.jsx(j,{children:e.jsxs(te,{value:v,onValueChange:o,className:"space-y-4",children:[e.jsxs(ae,{className:"grid w-full grid-cols-6",children:[e.jsx(A,{value:"all",onClick:()=>p("all"),children:"All"}),e.jsx(A,{value:"likes",onClick:()=>p("like"),children:"Likes"}),e.jsx(A,{value:"comments",onClick:()=>p("comment"),children:"Comments"}),e.jsx(A,{value:"follows",onClick:()=>p("follow"),children:"Follows"}),e.jsx(A,{value:"mentions",onClick:()=>p("mention"),children:"Mentions"}),e.jsx(A,{value:"events",onClick:()=>p("event"),children:"Events"})]}),e.jsx(T,{value:v,className:"space-y-4",children:l.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(_,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No activities found"})]}):l.map(a=>e.jsx("div",{className:`p-4 border rounded-lg transition-colors ${a.metadata.isRead?"hover:bg-muted/50":"bg-blue-50 border-blue-200"}`,onClick:()=>u(a.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-full ${n(a.type)}`,children:m(a.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs(ue,{className:"h-6 w-6",children:[e.jsx(ge,{src:a.user.avatarUrl}),e.jsx(je,{className:"text-xs",children:a.user.displayName.charAt(0)})]}),e.jsx("span",{className:"font-medium text-sm",children:a.user.displayName}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["@",a.user.username]}),a.metadata.priority==="high"&&e.jsx(E,{variant:"destructive",className:"text-xs",children:"High"}),!a.metadata.isRead&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:a.content.text}),a.content.title&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-lg mb-2",children:e.jsx("h4",{className:"font-medium text-sm",children:a.content.title})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsx("span",{children:b(a.metadata.timestamp)}),a.metadata.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),a.metadata.location]})]}),a.engagement&&e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(fs,{className:"h-3 w-3"}),a.engagement.likes]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ps,{className:"h-3 w-3"}),a.engagement.comments]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ns,{className:"h-3 w-3"}),a.engagement.shares]})]})]}),e.jsxs(Oe,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",children:e.jsx(He,{className:"h-4 w-4"})})}),e.jsxs(Je,{align:"end",children:[e.jsx(K,{onClick:()=>u(a.id),children:a.metadata.isRead?"Mark as unread":"Mark as read"}),e.jsx(K,{children:"View details"}),e.jsx(K,{className:"text-destructive",children:"Hide activity"})]})]})]})},a.id))})]})})]})},Gs=()=>{const{user:t}=X();re();const[l,r]=c.useState([]),[k,h]=c.useState([]),[v,o]=c.useState(!0),[w,p]=c.useState("overview");c.useEffect(()=>{t&&f()},[t]);const f=()=>B(null,null,function*(){o(!0);try{const s=[{id:"1",type:"achievement",title:"Engagement Milestone",description:"Your posts have reached 1,000+ total likes this month!",priority:"high",category:"engagement",actionRequired:!1,progress:100,target:1e3,current:1250,timeframe:"This month"},{id:"2",type:"recommendation",title:"Post More During Peak Hours",description:"Your content performs 40% better when posted between 2-3 PM",priority:"medium",category:"content",actionRequired:!0,progress:60,target:100,current:60,timeframe:"Next 30 days"},{id:"3",type:"tip",title:"Video Content Opportunity",description:"Try creating more video content - your video posts get 3x more engagement",priority:"low",category:"content",actionRequired:!1},{id:"4",type:"warning",title:"Follower Growth Slowing",description:"Your follower growth has decreased by 15% this week",priority:"high",category:"growth",actionRequired:!0,progress:25,target:100,current:25,timeframe:"This week"},{id:"5",type:"achievement",title:"Community Leader Badge",description:"You've been recognized as a top contributor in your local community",priority:"high",category:"community",actionRequired:!1,progress:100},{id:"6",type:"recommendation",title:"Engage with Followers",description:"Respond to comments within 2 hours to increase engagement by 25%",priority:"medium",category:"engagement",actionRequired:!0,progress:40,target:100,current:40,timeframe:"Daily"}],I=[{id:"1",title:"Engagement Rate",description:"Your content engagement performance",value:4.2,change:12.5,trend:"up",category:"Performance",icon:"trending-up"},{id:"2",title:"Follower Growth",description:"New followers this month",value:67,change:17.5,trend:"up",category:"Growth",icon:"users"},{id:"3",title:"Content Quality Score",description:"Based on likes, comments, and shares",value:8.7,change:-2.1,trend:"down",category:"Quality",icon:"star"},{id:"4",title:"Community Impact",description:"Your influence in the community",value:92,change:8.3,trend:"up",category:"Impact",icon:"heart"}];r(s),h(I)}catch(s){console.error("Error fetching insights:",s)}finally{o(!1)}}),m=s=>{switch(s){case"achievement":return e.jsx(ks,{className:"h-5 w-5 text-green-500"});case"recommendation":return e.jsx(Ee,{className:"h-5 w-5 text-blue-500"});case"warning":return e.jsx(bs,{className:"h-5 w-5 text-red-500"});case"tip":return e.jsx(Fe,{className:"h-5 w-5 text-yellow-500"});default:return e.jsx(Fe,{className:"h-5 w-5 text-gray-500"})}},n=s=>{switch(s){case"achievement":return"bg-green-50 border-green-200";case"recommendation":return"bg-blue-50 border-blue-200";case"warning":return"bg-red-50 border-red-200";case"tip":return"bg-yellow-50 border-yellow-200";default:return"bg-gray-50 border-gray-200"}},b=s=>{switch(s){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},u=s=>{switch(s){case"engagement":return e.jsx(G,{className:"h-4 w-4"});case"growth":return e.jsx(Ie,{className:"h-4 w-4"});case"content":return e.jsx(ee,{className:"h-4 w-4"});case"community":return e.jsx(U,{className:"h-4 w-4"});case"monetization":return e.jsx(ze,{className:"h-4 w-4"});default:return e.jsx(Fe,{className:"h-4 w-4"})}};return v?e.jsxs(g,{children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5"}),"User Insights"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"}),e.jsx("span",{className:"ml-2",children:"Loading insights..."})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:k.map(s=>e.jsx(g,{children:e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s.title}),e.jsx("p",{className:"text-2xl font-bold",children:s.value}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.trend==="up"?e.jsx(ie,{className:"h-4 w-4 text-green-600"}):s.trend==="down"?e.jsx(vs,{className:"h-4 w-4 text-red-600"}):e.jsx("div",{className:"h-4 w-4"}),e.jsxs("span",{className:`text-sm ${s.trend==="up"?"text-green-600":s.trend==="down"?"text-red-600":"text-muted-foreground"}`,children:[s.change>0?"+":"",s.change,"%"]})]})]}),e.jsxs("div",{className:"p-2 bg-primary/10 rounded-lg",children:[s.icon==="trending-up"&&e.jsx(Ie,{className:"h-6 w-6 text-primary"}),s.icon==="users"&&e.jsx(U,{className:"h-6 w-6 text-primary"}),s.icon==="star"&&e.jsx(se,{className:"h-6 w-6 text-primary"}),s.icon==="heart"&&e.jsx(G,{className:"h-6 w-6 text-primary"})]})]})})},s.id))}),e.jsxs(te,{value:w,onValueChange:p,className:"space-y-4",children:[e.jsxs(ae,{className:"grid w-full grid-cols-4",children:[e.jsx(A,{value:"overview",children:"Overview"}),e.jsx(A,{value:"achievements",children:"Achievements"}),e.jsx(A,{value:"recommendations",children:"Recommendations"}),e.jsx(A,{value:"tips",children:"Tips"})]}),e.jsx(T,{value:"overview",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-5 w-5"}),"Goals & Progress"]}),e.jsx(P,{children:"Track your community engagement goals"})]}),e.jsx(j,{className:"space-y-4",children:l.filter(s=>s.progress!==void 0).map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:s.title}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.current,"/",s.target]})]}),e.jsx(Ne,{value:s.progress,className:"h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]},s.id))})]}),e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(ws,{className:"h-5 w-5"}),"Community Status"]}),e.jsx(P,{children:"Your standing in the community"})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ys,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Verified Member"})]}),e.jsx(E,{variant:"secondary",children:"Active"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Top Contributor"})]}),e.jsx(E,{variant:"default",children:"Level 3"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Community Leader"})]}),e.jsx(E,{variant:"outline",children:"Local"})]})]})]})]})}),e.jsx(T,{value:"achievements",className:"space-y-4",children:l.filter(s=>s.type==="achievement").map(s=>e.jsx(g,{className:`${n(s.type)}`,children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[m(s.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx(E,{variant:b(s.priority),children:s.priority})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),s.progress!==void 0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(Ne,{value:s.progress,className:"h-1"})]})]})]})})},s.id))}),e.jsx(T,{value:"recommendations",className:"space-y-4",children:l.filter(s=>s.type==="recommendation").map(s=>e.jsx(g,{className:`${n(s.type)}`,children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[m(s.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx(E,{variant:b(s.priority),children:s.priority}),s.actionRequired&&e.jsx(E,{variant:"outline",className:"text-xs",children:"Action Required"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[u(s.category),s.category]}),s.timeframe&&e.jsx("span",{children:s.timeframe})]}),s.progress!==void 0&&e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[s.progress,"%"]})]}),e.jsx(Ne,{value:s.progress,className:"h-1"})]})]})]})})},s.id))}),e.jsx(T,{value:"tips",className:"space-y-4",children:l.filter(s=>s.type==="tip").map(s=>e.jsx(g,{className:`${n(s.type)}`,children:e.jsx(j,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[m(s.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold",children:s.title}),e.jsx(E,{variant:b(s.priority),children:s.priority})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsx("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1",children:[u(s.category),s.category]})})]})]})})},s.id))})]})]})},Hs=({className:t})=>{const{user:l}=X(),{suggestions:r,loading:k,error:h,fetchSuggestions:v,followUser:o}=re(),[w,p]=c.useState(""),[f,m]=c.useState("all"),[n,b]=c.useState("score"),[u,s]=c.useState([]);c.useEffect(()=>{l&&v()},[l,v]),c.useEffect(()=>{let a=r;w&&(a=a.filter(y=>y.displayName.toLowerCase().includes(w.toLowerCase())||y.bio.toLowerCase().includes(w.toLowerCase()))),f!=="all"&&(a=a.filter(y=>{switch(f){case"mutual":return y.mutualFollowers>0;case"location":return y.location!==null;case"interests":return y.commonInterests.length>0;default:return!0}})),a.sort((y,F)=>{switch(n){case"score":return F.score-y.score;case"mutual":return F.mutualFollowers-y.mutualFollowers;case"name":return y.displayName.localeCompare(F.displayName);default:return 0}}),s(a)},[r,w,f,n]);const I=a=>B(null,null,function*(){try{yield o(a)}catch(y){console.error("Error following user:",y)}});return k?e.jsxs(g,{className:t,children:[e.jsxs(C,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Follow Suggestions"]}),e.jsx(P,{children:"Discover people you might want to follow"})]}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(z,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading suggestions..."})]})})]}):h?e.jsxs(g,{className:t,children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Follow Suggestions"]})}),e.jsx(j,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:h}),e.jsxs(N,{onClick:()=>v(),variant:"outline",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})]}):e.jsxs(g,{className:t,children:[e.jsxs(C,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Follow Suggestions"]}),e.jsx(P,{children:"Discover people you might want to follow based on your interests and connections"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Pe,{placeholder:"Search suggestions...",value:w,onChange:a=>p(a.target.value),className:"pl-10"})]}),e.jsx(N,{variant:"outline",size:"icon",onClick:()=>p(""),disabled:!w,children:e.jsx(Ge,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(de,{value:f,onValueChange:m,children:[e.jsx(me,{className:"w-32",children:e.jsx(xe,{})}),e.jsxs(he,{children:[e.jsx(M,{value:"all",children:"All"}),e.jsx(M,{value:"mutual",children:"Mutual"}),e.jsx(M,{value:"location",children:"Nearby"}),e.jsx(M,{value:"interests",children:"Interests"})]})]}),e.jsxs(de,{value:n,onValueChange:b,children:[e.jsx(me,{className:"w-32",children:e.jsx(xe,{})}),e.jsxs(he,{children:[e.jsx(M,{value:"score",children:"Score"}),e.jsx(M,{value:"mutual",children:"Mutual"}),e.jsx(M,{value:"name",children:"Name"})]})]}),e.jsxs(N,{variant:"outline",onClick:()=>v(),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),e.jsx("div",{className:"space-y-4",children:u.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:w?"No suggestions match your search":"No suggestions available"})]}):u.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxs(ue,{className:"h-12 w-12",children:[e.jsx(ge,{src:a.avatarUrl}),e.jsx(je,{children:a.displayName.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold truncate",children:a.displayName}),a.score>.8&&e.jsxs(E,{variant:"secondary",className:"text-xs",children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),"Top Match"]})]}),a.bio&&e.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:a.bio}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.mutualFollowers>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),a.mutualFollowers," mutual"]}),a.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),a.location.city,a.location.state&&`, ${a.location.state}`]}),a.commonInterests.length>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),a.commonInterests.length," shared interests"]})]}),a.reason&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.reason})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(N,{size:"sm",onClick:()=>I(a.userId),className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-4 w-4"}),"Follow"]})})]},a.id))}),u.length>0&&e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(N,{variant:"outline",onClick:()=>v(),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Load More Suggestions"]})})]})]})},Os=({userId:t,className:l})=>{const{user:r}=X(),{followers:k,following:h,loading:v,error:o,fetchFollowers:w,fetchFollowing:p,followUser:f,unfollowUser:m}=re(),[n,b]=c.useState("followers"),[u,s]=c.useState(""),[I,a]=c.useState("recent"),[y,F]=c.useState([]),[i,d]=c.useState([]),R=t||(r==null?void 0:r.id);c.useEffect(()=>{R&&(w(R),p(R))},[R,w,p]),c.useEffect(()=>{let x=k;u&&(x=x.filter(L=>{var D,Y;return((D=L.displayName)==null?void 0:D.toLowerCase().includes(u.toLowerCase()))||((Y=L.username)==null?void 0:Y.toLowerCase().includes(u.toLowerCase()))})),x.sort((L,D)=>{switch(I){case"recent":return new Date(D.createdAt).getTime()-new Date(L.createdAt).getTime();case"name":return(L.displayName||"").localeCompare(D.displayName||"");case"activity":return(D.activityLevel||0)-(L.activityLevel||0);default:return 0}}),F(x)},[k,u,I]),c.useEffect(()=>{let x=h;u&&(x=x.filter(L=>{var D,Y;return((D=L.displayName)==null?void 0:D.toLowerCase().includes(u.toLowerCase()))||((Y=L.username)==null?void 0:Y.toLowerCase().includes(u.toLowerCase()))})),x.sort((L,D)=>{switch(I){case"recent":return new Date(D.createdAt).getTime()-new Date(L.createdAt).getTime();case"name":return(L.displayName||"").localeCompare(D.displayName||"");case"activity":return(D.activityLevel||0)-(L.activityLevel||0);default:return 0}}),d(x)},[h,u,I]);const Z=x=>B(null,null,function*(){try{yield f(x)}catch(L){console.error("Error following user:",L)}}),H=x=>B(null,null,function*(){try{yield m(x)}catch(L){console.error("Error unfollowing user:",L)}}),$=(x,L=!1)=>{var D;return e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxs(ue,{className:"h-12 w-12",children:[e.jsx(ge,{src:x.avatarUrl}),e.jsx(je,{children:((D=x.displayName)==null?void 0:D.charAt(0).toUpperCase())||"U"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold truncate",children:x.displayName||"Anonymous"}),x.username&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",x.username]}),x.isVerified&&e.jsx(E,{variant:"secondary",className:"text-xs",children:"Verified"})]}),x.bio&&e.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:x.bio}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[x.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),x.location.city,x.location.state&&`, ${x.location.state}`]}),x.lastActivity&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"h-3 w-3"}),"Active ",new Date(x.lastActivity).toLocaleDateString()]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[x.id!==R&&e.jsx(e.Fragment,{children:L?e.jsxs(N,{size:"sm",variant:"outline",onClick:()=>H(x.id),className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-4 w-4"}),"Following"]}):e.jsxs(N,{size:"sm",onClick:()=>Z(x.id),className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-4 w-4"}),"Follow"]})}),e.jsxs(Oe,{children:[e.jsx(Qe,{asChild:!0,children:e.jsx(N,{variant:"ghost",size:"sm",children:e.jsx(He,{className:"h-4 w-4"})})}),e.jsxs(Je,{align:"end",children:[e.jsxs(K,{children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Message"]}),e.jsx(K,{children:"View Profile"}),L&&e.jsxs(K,{className:"text-destructive",onClick:()=>H(x.id),children:[e.jsx(Cs,{className:"h-4 w-4 mr-2"}),"Unfollow"]})]})]})]})]},x.id)};return v?e.jsxs(g,{className:l,children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Follow Lists"]})}),e.jsx(j,{children:e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(z,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"ml-2",children:"Loading..."})]})})]}):o?e.jsxs(g,{className:l,children:[e.jsx(C,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Follow Lists"]})}),e.jsx(j,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:o}),e.jsxs(N,{onClick:()=>{w(R),p(R)},variant:"outline",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})})]}):e.jsxs(g,{className:l,children:[e.jsxs(C,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Follow Lists"]}),e.jsx(P,{children:"Manage your followers and following"})]}),e.jsxs(j,{children:[e.jsx("div",{className:"space-y-4 mb-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Pe,{placeholder:"Search users...",value:u,onChange:x=>s(x.target.value),className:"pl-10"})]}),e.jsxs(de,{value:I,onValueChange:a,children:[e.jsx(me,{className:"w-32",children:e.jsx(xe,{})}),e.jsxs(he,{children:[e.jsx(M,{value:"recent",children:"Recent"}),e.jsx(M,{value:"name",children:"Name"}),e.jsx(M,{value:"activity",children:"Activity"})]})]})]})}),e.jsxs(te,{value:n,onValueChange:b,className:"space-y-4",children:[e.jsxs(ae,{className:"grid w-full grid-cols-2",children:[e.jsxs(A,{value:"followers",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Followers (",k.length,")"]}),e.jsxs(A,{value:"following",className:"flex items-center gap-2",children:[e.jsx(Te,{className:"h-4 w-4"}),"Following (",h.length,")"]})]}),e.jsx(T,{value:"followers",className:"space-y-4",children:y.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:u?"No followers match your search":"No followers yet"})]}):y.map(x=>$(x,!1))}),e.jsx(T,{value:"following",className:"space-y-4",children:i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Te,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:u?"No following match your search":"Not following anyone yet"})]}):i.map(x=>$(x,!0))})]})]})]})},Qs=({className:t})=>{const{user:l}=X(),{followUser:r}=re(),[k,h]=c.useState("trending"),[v,o]=c.useState(""),[w,p]=c.useState("all"),[f,m]=c.useState("all"),[n,b]=c.useState(!1),[u,s]=c.useState([]),I=c.useMemo(()=>[{id:"1",displayName:"Sarah Johnson",username:"sarahj",avatarUrl:void 0,bio:"Local artist and community organizer",location:{city:"San Francisco",state:"CA",country:"USA"},interests:["Art","Community","Events"],followersCount:1250,isVerified:!0,lastActivity:new Date().toISOString(),mutualConnections:3,commonInterests:["Art","Community"],reason:"Active in your area with similar interests"},{id:"2",displayName:"Mike Chen",username:"mikechen",avatarUrl:void 0,bio:"Tech entrepreneur and startup founder",location:{city:"San Francisco",state:"CA",country:"USA"},interests:["Technology","Startups","Innovation"],followersCount:890,isVerified:!1,lastActivity:new Date(Date.now()-2880*60*1e3).toISOString(),mutualConnections:1,commonInterests:["Technology"],reason:"Popular in your network"},{id:"3",displayName:"Emma Rodriguez",username:"emmar",avatarUrl:void 0,bio:"Environmental activist and sustainability advocate",location:{city:"Oakland",state:"CA",country:"USA"},interests:["Environment","Sustainability","Community"],followersCount:2100,isVerified:!0,lastActivity:new Date(Date.now()-1440*60*1e3).toISOString(),mutualConnections:5,commonInterests:["Community","Environment"],reason:"Highly active with shared interests"},{id:"4",displayName:"David Park",username:"davidpark",avatarUrl:void 0,bio:"Local business owner and community leader",location:{city:"Berkeley",state:"CA",country:"USA"},interests:["Business","Community","Leadership"],followersCount:450,isVerified:!1,lastActivity:new Date(Date.now()-4320*60*1e3).toISOString(),mutualConnections:2,commonInterests:["Community","Business"],reason:"Local business leader"}],[]);c.useEffect(()=>{s(I)},[I]);const a=i=>B(null,null,function*(){try{b(!0),yield r(i),s(d=>d.filter(R=>R.id!==i))}catch(d){console.error("Error following user:",d)}finally{b(!1)}}),y=u.filter(i=>{var H;const d=!v||i.displayName.toLowerCase().includes(v.toLowerCase())||((H=i.bio)==null?void 0:H.toLowerCase().includes(v.toLowerCase()))||i.interests.some($=>$.toLowerCase().includes(v.toLowerCase())),R=w==="all"||i.location&&i.location.city.toLowerCase().includes(w.toLowerCase()),Z=f==="all"||i.interests.some($=>$.toLowerCase().includes(f.toLowerCase()));return d&&R&&Z}),F=i=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsxs(ue,{className:"h-12 w-12",children:[e.jsx(ge,{src:i.avatarUrl}),e.jsx(je,{children:i.displayName.charAt(0).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold truncate",children:i.displayName}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["@",i.username]}),i.isVerified&&e.jsxs(E,{variant:"secondary",className:"text-xs",children:[e.jsx(se,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),i.bio&&e.jsx("p",{className:"text-sm text-muted-foreground truncate mb-2",children:i.bio}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mb-2",children:[i.location&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"h-3 w-3"}),i.location.city,", ",i.location.state]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"h-3 w-3"}),i.followersCount.toLocaleString()," followers"]}),i.mutualConnections>0&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-3 w-3"}),i.mutualConnections," mutual"]})]}),i.commonInterests.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[i.commonInterests.slice(0,3).map(d=>e.jsx(E,{variant:"outline",className:"text-xs",children:d},d)),i.commonInterests.length>3&&e.jsxs(E,{variant:"outline",className:"text-xs",children:["+",i.commonInterests.length-3," more"]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.reason})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(N,{size:"sm",onClick:()=>a(i.id),disabled:n,className:"flex items-center gap-1",children:[e.jsx(ye,{className:"h-4 w-4"}),"Follow"]})})]},i.id);return e.jsxs(g,{className:t,children:[e.jsxs(C,{children:[e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-5 w-5"}),"Discover People"]}),e.jsx(P,{children:"Find interesting people in your community and beyond"})]}),e.jsxs(j,{children:[e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(De,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Pe,{placeholder:"Search by name, bio, or interests...",value:v,onChange:i=>o(i.target.value),className:"pl-10"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(de,{value:w,onValueChange:p,children:[e.jsx(me,{className:"w-40",children:e.jsx(xe,{placeholder:"Location"})}),e.jsxs(he,{children:[e.jsx(M,{value:"all",children:"All Locations"}),e.jsx(M,{value:"san francisco",children:"San Francisco"}),e.jsx(M,{value:"oakland",children:"Oakland"}),e.jsx(M,{value:"berkeley",children:"Berkeley"})]})]}),e.jsxs(de,{value:f,onValueChange:m,children:[e.jsx(me,{className:"w-40",children:e.jsx(xe,{placeholder:"Interest"})}),e.jsxs(he,{children:[e.jsx(M,{value:"all",children:"All Interests"}),e.jsx(M,{value:"art",children:"Art"}),e.jsx(M,{value:"technology",children:"Technology"}),e.jsx(M,{value:"community",children:"Community"}),e.jsx(M,{value:"business",children:"Business"}),e.jsx(M,{value:"environment",children:"Environment"})]})]}),e.jsxs(N,{variant:"outline",onClick:()=>s(I),children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),e.jsxs(te,{value:k,onValueChange:h,className:"space-y-4",children:[e.jsxs(ae,{className:"grid w-full grid-cols-4",children:[e.jsxs(A,{value:"trending",className:"flex items-center gap-2",children:[e.jsx(Ie,{className:"h-4 w-4"}),"Trending"]}),e.jsxs(A,{value:"nearby",className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Nearby"]}),e.jsxs(A,{value:"interests",className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Interests"]}),e.jsxs(A,{value:"verified",className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Verified"]})]}),e.jsx(T,{value:"trending",className:"space-y-4",children:y.sort((i,d)=>d.followersCount-i.followersCount).map(F)}),e.jsx(T,{value:"nearby",className:"space-y-4",children:y.filter(i=>{var d,R;return((d=i.location)==null?void 0:d.city)==="San Francisco"||((R=i.location)==null?void 0:R.city)==="Oakland"}).map(F)}),e.jsx(T,{value:"interests",className:"space-y-4",children:y.filter(i=>i.commonInterests.length>0).sort((i,d)=>d.commonInterests.length-i.commonInterests.length).map(F)}),e.jsx(T,{value:"verified",className:"space-y-4",children:y.filter(i=>i.isVerified).map(F)})]}),y.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(U,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:v?"No users match your search":"No users found"})]})]})]})},bt=()=>{var y,F,i;const{user:t}=X(),{followStats:l}=re(),r=Ss(),{toast:k}=Is(),[h,v]=c.useState({totalBookings:0,pendingBookings:0,activeBookings:0,completedBookings:0,totalPosts:0,totalLikes:0,totalComments:0,totalViews:0,totalFollowers:0,totalFollowing:0,communitiesJoined:0,eventsAttended:0,engagementRate:0,followerGrowth:0}),[o,w]=c.useState(null),[p,f]=c.useState([]),[m,n]=c.useState(!0),[b,u]=c.useState("overview"),s=[{id:"book-artist",title:"Book an Artist",description:"Find and book artists for your events",icon:Me,href:"/book-artist",color:"bg-blue-500"},{id:"create-event",title:"Create Event",description:"Organize and promote your events",icon:pe,href:"/create-event",color:"bg-green-500"},{id:"browse-events",title:"Browse Events",description:"Discover local events and activities",icon:Re,href:"/events",color:"bg-purple-500"},{id:"messages",title:"Messages",description:"Chat with artists and organizers",icon:ee,href:"/messages",color:"bg-orange-500"},{id:"create-post",title:"Create Post",description:"Share updates with your community",icon:_,href:"/create-post",color:"bg-pink-500"},{id:"analytics",title:"Analytics",description:"View your engagement insights",icon:ce,href:"#analytics",color:"bg-indigo-500"}],I=c.useCallback(()=>B(null,null,function*(){var d,R,Z,H,$,x,L,D;if(t)try{const{data:Y,error:Ue}=yield J.from("profiles").select("*").eq("user_id",t.id).single();if(Ue)throw Ue;w(Y);const[fe,ne,Js,Ws,Xe]=yield Promise.all([J.from("artist_bookings").select("status").eq("user_id",t.id),J.from("posts").select("id, likes_count, comments_count").eq("user_id",t.id),J.from("likes").select("id").eq("user_id",t.id),J.from("comments").select("id").eq("user_id",t.id),J.from("community_members").select("id").eq("user_id",t.id)]),Ze=((d=fe.data)==null?void 0:d.length)||0,Ke=((R=fe.data)==null?void 0:R.filter(V=>V.status==="pending").length)||0,es=((Z=fe.data)==null?void 0:Z.filter(V=>V.status==="accepted").length)||0,ss=((H=fe.data)==null?void 0:H.filter(V=>V.status==="completed").length)||0,be=(($=ne.data)==null?void 0:$.length)||0,ke=((x=ne.data)==null?void 0:x.reduce((V,Le)=>V+(Le.likes_count||0),0))||0,Ce=((L=ne.data)==null?void 0:L.reduce((V,Le)=>V+(Le.comments_count||0),0))||0,ts=ke+Ce,as=be>0?(ke+Ce)/be:0,{data:Se}=yield J.from("user_follows").select("id").eq("following_id",t.id),{data:Ae}=yield J.from("user_follows").select("id").eq("follower_id",t.id);v({totalBookings:Ze,pendingBookings:Ke,activeBookings:es,completedBookings:ss,totalPosts:be,totalLikes:ke,totalComments:Ce,totalViews:ts,totalFollowers:(Se==null?void 0:Se.length)||0,totalFollowing:(Ae==null?void 0:Ae.length)||0,communitiesJoined:((D=Xe.data)==null?void 0:D.length)||0,eventsAttended:0,engagementRate:Math.round(as*10)/10,followerGrowth:(l==null?void 0:l.growthRate)||0});const Be=[];ne.data&&ne.data.forEach(V=>{Be.push({id:V.id,type:"post",title:V.title||"New Post",description:"Created a new post",date:new Date(V.created_at).toLocaleDateString()})}),f(Be)}catch(Y){console.error("Error fetching user data:",Y),k({title:"Error",description:"Failed to load dashboard data. Please try again.",variant:"destructive"})}finally{n(!1)}}),[t,l,k]);if(c.useEffect(()=>{t&&I()},[t,I]),!t)return r("/signin"),null;const a=()=>{if(!o)return 0;let d=0;const R=6;return o.display_name&&d++,o.bio&&d++,o.avatar_url&&d++,o.location_city&&d++,t!=null&&t.email&&d++,t!=null&&t.created_at&&d++,Math.round(d/R*100)};return m?e.jsx(Ye,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Loading Dashboard..."}),e.jsx("p",{className:"text-muted-foreground",children:"Getting your latest data"})]})})}):e.jsx(Ye,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"My Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your activity, manage your profile, and stay connected with your community"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(N,{variant:"outline",onClick:()=>r("/profile?from=dashboard"),children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"View Profile"]}),e.jsxs(N,{variant:"outline",onClick:()=>r("/settings"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),e.jsxs(g,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[e.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(N,{variant:"secondary",size:"sm",className:"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),e.jsx(j,{className:"relative pt-0 pb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(ue,{className:"h-24 w-24 border-4 border-white shadow-2xl ring-4 ring-blue-100/50",children:[e.jsx(ge,{src:o==null?void 0:o.avatar_url}),e.jsx(je,{className:"text-2xl font-bold bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:((y=o==null?void 0:o.display_name)==null?void 0:y.charAt(0))||((F=t.email)==null?void 0:F.charAt(0).toUpperCase())})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsx("div",{className:"flex-1 space-y-3",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:(o==null?void 0:o.display_name)||((i=t.email)==null?void 0:i.split("@")[0])}),(o==null?void 0:o.is_verified)&&e.jsxs(E,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200",children:[e.jsx(As,{className:"h-3 w-3 mr-1"}),"Verified"]}),(o==null?void 0:o.is_pro)&&e.jsxs(E,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[e.jsx(Crown,{className:"h-3 w-3 mr-1"}),"Pro Member"]})]}),e.jsx("p",{className:"text-muted-foreground text-lg",children:t.email}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:[e.jsx(pe,{className:"h-3 w-3"}),"Joined ",new Date(t.created_at).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded-full",children:[e.jsx(_,{className:"h-3 w-3"}),"Active Member"]})]})]}),e.jsxs("div",{className:"text-center md:text-right space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Profile Completion"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[a(),"%"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{value:a(),className:"w-24 h-3 bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-20"})]})]}),a()<100&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete your profile to unlock more features"})]})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[e.jsx(g,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 hover:from-blue-100 hover:to-blue-200 dark:hover:from-blue-800/30 dark:hover:to-blue-700/30",onClick:()=>u("activity"),children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-blue-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(qe,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mb-1",children:h.totalPosts}),e.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Posts Created"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to view"})]})}),e.jsx(g,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 hover:from-green-100 hover:to-green-200 dark:hover:from-green-800/30 dark:hover:to-green-700/30",onClick:()=>u("bookings"),children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(pe,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mb-1",children:h.totalBookings}),e.jsx("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Total Bookings"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to manage"})]})}),e.jsx(g,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20 hover:from-purple-100 hover:to-purple-200 dark:hover:from-purple-800/30 dark:hover:to-purple-700/30",onClick:()=>u("community"),children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-purple-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(U,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mb-1",children:h.communitiesJoined}),e.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Communities"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Click to explore"})]})}),e.jsx(g,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 hover:from-red-100 hover:to-red-200 dark:hover:from-red-800/30 dark:hover:to-red-700/30",onClick:()=>u("social"),children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-red-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(G,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mb-1",children:h.totalFollowers}),e.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Followers"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Your audience"})]})}),e.jsx(g,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20 hover:from-indigo-100 hover:to-indigo-200 dark:hover:from-indigo-800/30 dark:hover:to-indigo-700/30",onClick:()=>u("social"),children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-indigo-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(ve,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-indigo-700 dark:text-indigo-300 mb-1",children:h.totalFollowing}),e.jsx("div",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:"Following"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Your interests"})]})}),e.jsx(g,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 hover:from-orange-100 hover:to-orange-200 dark:hover:from-orange-800/30 dark:hover:to-orange-700/30",onClick:()=>u("activity"),children:e.jsxs(j,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-orange-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(_,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300 mb-1",children:p.length}),e.jsx("div",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Recent Activity"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Your updates"})]})})]}),e.jsxs(te,{value:b,onValueChange:u,className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(ae,{className:"grid grid-cols-3 md:grid-cols-6 bg-gray-100 dark:bg-gray-800 p-1 rounded-xl shadow-inner",children:[e.jsxs(A,{value:"overview",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),e.jsxs(A,{value:"analytics",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(ce,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),e.jsxs(A,{value:"follow",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Follow"})]}),e.jsxs(A,{value:"activity",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Activity"})]}),e.jsxs(A,{value:"insights",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(Ee,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Insights"})]}),e.jsxs(A,{value:"settings",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(le,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]})}),e.jsx(T,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(g,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs(C,{className:"pb-4",children:[e.jsxs(S,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(Ls,{className:"w-5 h-5 text-white"})}),"Quick Actions"]}),e.jsx(P,{children:"Jump into your most common tasks with one click"})]}),e.jsx(j,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.slice(0,4).map(d=>e.jsxs(N,{variant:"outline",className:"group h-auto p-6 flex flex-col gap-3 hover:bg-blue-50 hover:border-blue-200 dark:hover:bg-blue-900/20 dark:hover:border-blue-700 transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",onClick:()=>{d.href.startsWith("#")?u(d.href.substring(1)):r(d.href)},children:[e.jsx("div",{className:`w-10 h-10 ${d.color} rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300`,children:e.jsx(d.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:d.title}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:d.description})]})]},d.id))})})]}),e.jsxs(g,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs(C,{className:"pb-4",children:[e.jsxs(S,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(_,{className:"w-5 h-5 text-white"})}),"Recent Activity"]}),e.jsx(P,{children:"Your latest interactions and updates across the platform"})]}),e.jsx(j,{children:p.length>0?e.jsxs("div",{className:"space-y-4",children:[p.slice(0,5).map(d=>e.jsxs(Ds.div,{className:"group flex gap-4 p-4 rounded-xl border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-700 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-all duration-300 hover:shadow-md",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(qe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm truncate mb-1",children:d.title}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:d.description}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:d.date}),e.jsx(E,{variant:"outline",className:"text-xs",children:d.type})]})]})]},d.id)),e.jsx("div",{className:"pt-2 border-t border-gray-100 dark:border-gray-700",children:e.jsx(N,{variant:"ghost",size:"sm",className:"w-full",onClick:()=>u("activity"),children:"View All Activity"})})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(_,{className:"w-10 h-10 text-blue-500 dark:text-blue-400"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No recent activity"}),e.jsx("p",{className:"text-muted-foreground mb-6 max-w-sm mx-auto",children:"Start engaging with your community! Create posts, join events, and connect with others."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(N,{onClick:()=>r("/create"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700",children:[e.jsx(Fs,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]}),e.jsxs(N,{variant:"outline",onClick:()=>r("/events"),children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),"Browse Events"]})]})]})})]})]})}),e.jsx(T,{value:"analytics",className:"space-y-6",children:e.jsx($s,{})}),e.jsxs(T,{value:"follow",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(Hs,{}),e.jsx(Os,{})]}),e.jsx(Qs,{})]}),e.jsx(T,{value:"activity",className:"space-y-6",children:e.jsx(Ys,{})}),e.jsx(T,{value:"insights",className:"space-y-6",children:e.jsx(Gs,{})}),e.jsx(T,{value:"settings",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Account Settings"}),e.jsx(P,{children:"Manage your account and preferences"})]}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/profile?from=dashboard"),children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/settings"),children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),"Account Settings"]}),e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/privacy"),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"}),"Privacy Settings"]}),e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/notifications"),children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Notifications"]})]})]}),e.jsxs(g,{children:[e.jsxs(C,{children:[e.jsx(S,{children:"Quick Actions"}),e.jsx(P,{children:"Frequently used features"})]}),e.jsxs(j,{className:"space-y-3",children:[e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/messages"),children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Messages"]}),e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/bookmarks"),children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Bookmarks"]}),e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>r("/subscription"),children:[e.jsx(Ms,{className:"h-4 w-4 mr-2"}),"Subscription"]}),e.jsxs(N,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.reload(),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})]})]})})]})]})})};export{bt as default};
