var As=Object.defineProperty,qs=Object.defineProperties;var Ls=Object.getOwnPropertyDescriptors;var is=Object.getOwnPropertySymbols;var Bs=Object.prototype.hasOwnProperty,Ts=Object.prototype.propertyIsEnumerable;var ls=(t,c,a)=>c in t?As(t,c,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[c]=a,D=(t,c)=>{for(var a in c||(c={}))Bs.call(c,a)&&ls(t,a,c[a]);if(is)for(var a of is(c))Ts.call(c,a)&&ls(t,a,c[a]);return t},Z=(t,c)=>qs(t,Ls(c));var S=(t,c,a)=>new Promise((x,i)=>{var u=k=>{try{b(a.next(k))}catch(P){i(P)}},h=k=>{try{b(a.throw(k))}catch(P){i(P)}},b=k=>k.done?x(k.value):Promise.resolve(k.value).then(u,h);b((a=a.apply(t,c)).next())});import{r as o,j as e}from"./chunk-V8Tq47hD.js";import{ResponsiveLayout as Pe}from"./ResponsiveLayout.tsx-CBMj4ano.js";import{u as Be,e as us,s as v,B as m,C as f,a as p,b as M,c as z,f as te}from"./main-nj8_qmr1.js";import{B as _}from"./chunk-BqqQDpKD.js";import{T as zs,a as Ys,b as Y,c as $}from"./chunk-Dqojk3_S.js";import{A as re,a as ie,b as le}from"./chunk-CJL1E-Mt.js";import{P as $s}from"./chunk-mpNmbJ1v.js";import{D as Fe,a as De,b as Me,c as Ae,d as ns}from"./chunk-B-6hVeMl.js";import{T as ue}from"./chunk-DiXj0jE4.js";import{I as ae}from"./chunk-CfjvP89K.js";import{L as W}from"./chunk-Ch6abJed.js";import{n as gs}from"./chunk-BvELcnIN.js";import{a7 as Rs,p as ne,f as fe,a8 as qe,U as A,M as fs,a9 as U,C as J,h as R,d as Is,y as os,t as Hs,Y as cs,z as Ws,j as ds,Q as ms,aa as O,q as ge,g as hs,ab as xs,T as Os,ac as Gs,S as Le,ad as Vs,P as Qs,ae as Ks}from"./chunk-BD2ShIYc.js";import{u as Xs}from"./chunk-DulDdbSN.js";import{u as Zs}from"./chunk-B8PQiX0I.js";import{u as Js,a as Us}from"./chunk-e6ItqUv0.js";import{E as et}from"./chunk-Bz-NoICJ.js";import{P as st}from"./chunk-DATMY4N7.js";import{m as G}from"./chunk-axyawUmi.js";import{K as tt,p as at}from"./chunk-aOfXXddH.js";import"./chunk-7Gxbu0Lx.js";import"./chunk-BbVfpXIH.js";import"./chunk-HDUI5Ctd.js";import"./chunk-jOF7Mqj2.js";import"./chunk-DkszvQuI.js";import"./chunk-Cv5hKDJv.js";import"./chunk-CHdjBz-i.js";import"./chunk-DJWri4GU.js";import"./chunk-M09l3cRM.js";const ps=t=>{const{user:c}=Be(),{toast:a}=us(),[x,i]=o.useState(!1),[u,h]=o.useState(0),[b,k]=o.useState(0),[P,I]=o.useState(!0),F=o.useCallback(()=>S(null,null,function*(){if(!(!c||!t))try{const{data:j,error:N}=yield v.from("follows").select("id").eq("follower_id",c.id).eq("following_id",t).single();i(!!(j&&!N))}catch(j){i(!1)}}),[c,t]),q=o.useCallback(()=>S(null,null,function*(){if(t)try{const[j,N]=yield Promise.all([v.from("follows").select("id",{count:"exact"}).eq("following_id",t),v.from("follows").select("id",{count:"exact"}).eq("follower_id",t)]);h(j.count||0),k(N.count||0)}catch(j){console.error("Error fetching follow counts:",j)}finally{I(!1)}}),[t]);return o.useEffect(()=>{t&&(F(),q())},[t,c,F,q]),{isFollowing:x,followersCount:u,followingCount:b,loading:P,toggleFollow:()=>S(null,null,function*(){if(!c||!t)return a({title:"Sign in required",description:"Please sign in to follow users",variant:"destructive"}),!1;if(c.id===t)return a({title:"Cannot follow yourself",description:"You cannot follow your own profile",variant:"destructive"}),!1;try{if(x){const{error:j}=yield v.from("follows").delete().eq("follower_id",c.id).eq("following_id",t);if(j)throw j;i(!1),h(N=>N-1),a({title:"Unfollowed",description:"You have unfollowed this user"})}else{const{error:j}=yield v.from("follows").insert({follower_id:c.id,following_id:t});if(j)throw j;try{yield gs.createNewFollowerNotification(c.id,t)}catch(N){console.error("Error creating follow notification:",N)}i(!0),h(N=>N+1),a({title:"Following",description:"You are now following this user"})}return!0}catch(j){return console.error("Error toggling follow:",j),a({title:"Error",description:"Failed to update follow status",variant:"destructive"}),!1}}),refetch:()=>{F(),q()}}},rt=({userId:t,variant:c="outline",size:a="default",className:x})=>{const{user:i}=Be(),{isFollowing:u,toggleFollow:h}=ps(t);return(i==null?void 0:i.id)===t?null:e.jsx(m,{variant:c,size:a,onClick:h,className:x,children:u?e.jsxs(e.Fragment,{children:[e.jsx(Rs,{className:"h-4 w-4 mr-2"}),"Following"]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"h-4 w-4 mr-2"}),"Follow"]})})},it=({community:t,onJoin:c,onLeave:a,onChat:x,onShare:i,onFollow:u,verified:h=!1,isJoined:b=!1,showActions:k=!0,variant:P="default",className:I=""})=>{var Q,d,oe,r,K,ee;const F=()=>{c&&c(t.id)},q=()=>{a&&a(t.id)},pe=()=>{x&&x(t.id,t.creator_name||"")},j=()=>{i&&i(t.id)},N=L=>({Music,Art:Palette,Community:A,Food:Utensils,Technology:Laptop,"Health & Wellness":Dumbbell,Sports:Hs,Education:GraduationCap,Business:Briefcase,Entertainment:PartyPopper,Gaming:Gamepad2,Photography:Camera,Travel:Car,Home,Tech:Wifi,Mobile:Smartphone,Computing:Laptop,Audio:Headphones,"Food & Drink":Coffee,Shopping:ShoppingBag,Gifts:Gift,Celebration:PartyPopper,Weather:Sun,Night:Moon,Cloud,Rain:CloudRain,Snow:Snowflake,Wind,Water:Droplets,Temperature:Thermometer,Vision:Eye,Search,Filter,Grid:Grid3X3,List,More:os,Settings,Notifications:Bell,Email:Mail,Phone,Map,Navigation,Compass,Flag,Tag,Hash,At:AtSign,Money:DollarSign,Card:CreditCard,Wallet,Piggy:PiggyBank,Trending:TrendingDown,Activity:U})[L]||A,je=L=>({Music:"bg-purple-500",Art:"bg-pink-500",Community:"bg-blue-500",Food:"bg-orange-500",Technology:"bg-indigo-500","Health & Wellness":"bg-green-500",Sports:"bg-red-500",Education:"bg-yellow-500",Business:"bg-gray-600",Entertainment:"bg-pink-600"})[L]||"bg-gray-500",V=N(t.category),ve=je(t.category);return P==="compact"?e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-2},className:`group cursor-pointer ${I}`,children:e.jsx(f,{className:"hover:shadow-lg transition-all duration-300",children:e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 ${ve} rounded-lg flex items-center justify-center`,children:e.jsx(V,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-sm truncate",children:t.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:t.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.member_count||t.members||0," members"]}),t.is_verified&&e.jsxs(_,{className:"bg-blue-500 text-white text-xs",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified"]})]})]}),k&&e.jsx("div",{className:"flex items-center gap-1",children:e.jsx(m,{variant:"outline",size:"sm",onClick:b?q:F,children:b?e.jsx(qe,{className:"w-4 h-4"}):e.jsx(ne,{className:"w-4 h-4"})})})]})})})}):P==="detailed"?e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:`group cursor-pointer ${I}`,children:e.jsxs(f,{className:"hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.image_url||t.image||"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=400&fit=crop",alt:t.name,className:"w-full h-48 object-cover rounded-t-lg"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(_,{className:"bg-white/90 text-black",children:t.category})}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.member_count||t.members||0," members"]})]})})]}),e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-xl flex items-center gap-2",children:[t.name,t.is_verified&&e.jsxs(_,{className:"bg-blue-500 text-white text-xs",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(fs,{className:"w-3 h-3"}),t.location||"Online"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"w-3 h-3"}),t.activity_level||"Active"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(J,{className:"w-3 h-3"}),new Date(t.created_at||t.createdAt||Date.now()).toLocaleDateString()]})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.tags.slice(0,3).map((L,ce)=>e.jsx(_,{variant:"outline",className:"text-xs",children:L},ce)),t.tags.length>3&&e.jsxs(_,{variant:"outline",className:"text-xs",children:["+",t.tags.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(re,{className:"w-6 h-6",children:[e.jsx(ie,{src:t.creator_avatar||((Q=t.creator)==null?void 0:Q.avatar)}),e.jsx(le,{children:(t.creator_name||((d=t.creator)==null?void 0:d.name)||"C")[0]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t.creator_name||((oe=t.creator)==null?void 0:oe.name)||"Community Creator"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:b?q:F,children:b?e.jsxs(e.Fragment,{children:[e.jsx(qe,{className:"w-4 h-4 mr-1"}),"Leave"]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"Join"]})}),e.jsx(m,{variant:"ghost",size:"icon",onClick:pe,children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx(m,{variant:"ghost",size:"icon",onClick:j,children:e.jsx(Is,{className:"w-4 h-4"})})]})]})]})})]})}):e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-5},className:`group cursor-pointer ${I}`,children:e.jsxs(f,{className:"hover:shadow-lg transition-all duration-300",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t.image_url||t.image||"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=800&h=400&fit=crop",alt:t.name,className:"w-full h-48 object-cover rounded-t-lg"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx(_,{className:"bg-white/90 text-black",children:t.category})}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-white",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.member_count||t.members||0," members"]})]})})]}),e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[t.name,t.is_verified&&e.jsxs(_,{className:"bg-blue-500 text-white text-xs",children:[e.jsx(fe,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(re,{className:"w-6 h-6",children:[e.jsx(ie,{src:t.creator_avatar||((r=t.creator)==null?void 0:r.avatar)}),e.jsx(le,{children:(t.creator_name||((K=t.creator)==null?void 0:K.name)||"C")[0]})]}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t.creator_name||((ee=t.creator)==null?void 0:ee.name)||"Community Creator"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"outline",size:"sm",onClick:b?q:F,children:b?e.jsx(qe,{className:"w-4 h-4 mr-1"}):e.jsx(ne,{className:"w-4 h-4 mr-1"})}),e.jsx(m,{variant:"ghost",size:"icon",children:e.jsx(os,{className:"w-4 h-4"})})]})]})]})})]})})},Tt=()=>{var Je,Ue,es,ss,ts,as;const{userId:t,artistId:c}=tt(),{user:a}=Be(),x=at(),{toast:i}=us(),u=!!c,h=c||t,b=(a==null?void 0:a.id)===h,[k,P]=o.useState("overview"),[I,F]=o.useState(!1),[q,pe]=o.useState(!1),[j,N]=o.useState(!1),[je,V]=o.useState(!1),[ve,Q]=o.useState(!1),[d,oe]=o.useState(null),[r,K]=o.useState(null),[ee,L]=o.useState([]),[ce,js]=o.useState([]),[lt,vs]=o.useState(!1),[de,bs]=o.useState(!1),[me,Te]=o.useState(""),[be,ze]=o.useState(""),[Ne,Ye]=o.useState(""),[we,$e]=o.useState(""),[ye,Re]=o.useState(""),[_e,Ie]=o.useState(""),[ke,He]=o.useState(""),[Ce,We]=o.useState(""),[Oe,Ge]=o.useState(!1),[he,Ve]=o.useState(""),{profile:l,loading:Ns,updateProfile:Qe}=Xs(),{events:X,loading:ws}=Zs(),{posts:xe,loading:ys}=Js(),{communities:Se,loading:_s}=Us(),{followersCount:ks,followingCount:Cs}=ps(h||""),[se,Ke]=o.useState({display_name:"",bio:"",location_city:"",location_state:"",avatar_url:"",cover_image_url:"",is_verified:!1,is_pro:!1,anonymous_mode:!1}),[B,Ss]=o.useState({totalPosts:0,totalEvents:0,totalCommunities:0,totalFollowers:0,totalFollowing:0,totalLikes:0,totalComments:0,engagementRate:0}),Es=Ns||ws||ys||_s,Xe=o.useCallback(()=>S(null,null,function*(){if(h)try{if(u){const{data:s,error:n}=yield v.from("profiles").select("*").eq("user_id",h).single();if(n)throw n;const{data:g,error:w}=yield v.from("artists").select("*").eq("user_id",h).single();if(w){const{data:C,error:T}=yield v.from("artists").insert({user_id:h,specialty:s.artist_skills||[],experience_years:0,hourly_rate_min:s.hourly_rate_min||0,hourly_rate_max:s.hourly_rate_max||0,bio:s.bio||"",is_available:!0}).select().single();if(T){console.error("Error creating artist record:",T),K(Z(D({},s),{id:s.user_id,experience_years:0,is_available:!1,hourly_rate_min:s.hourly_rate_min||0,hourly_rate_max:s.hourly_rate_max||0}));return}K(Z(D(D({},s),C),{id:C.id}));return}K(Z(D(D({},s),g),{id:g.id}))}else oe({id:h,email:"organizer@eventorganizer.com",is_verified:!0,is_active:!0,username:"eventorganizer",full_name:"Event Organizer",avatar_url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop&",bio:"Passionate event organizer with 5+ years of experience creating memorable community events. I love bringing people together through music, art, and cultural experiences.",location:"New York, NY",website:"www.eventorganizer.com",phone:"+1 (555) 123-4567",verified:!0,followers_count:1247,following_count:89,joined_date:"2022-03-15",social_links:{twitter:"@eventorganizer",instagram:"@eventorganizer",linkedin:"linkedin.com/in/eventorganizer"},preferences:{email_notifications:!0,push_notifications:!0,sms_notifications:!1,privacy_level:"public",language:"en",timezone:"UTC",theme:"auto"},stats:{total_posts:0,total_comments:0,total_likes_received:0,total_shares:0,followers_count:1247,following_count:89,posts_this_month:0,engagement_rate:0},badges:[],subscription_tier:"free",points:0,reputation_score:0})}catch(s){console.error("Error fetching profile:",s),i({title:"Error",description:"Failed to load profile",variant:"destructive"})}}),[h,u,i]),Ze=o.useCallback(()=>S(null,null,function*(){if(!(!u||!c))try{const{data:s,error:n}=yield v.from("artists").select("id").eq("user_id",c).single();if(n){console.error("Error fetching artist record:",n),L([]);return}const{data:g,error:w}=yield v.from("artist_discussions").select("*").eq("artist_id",s.id).eq("status","approved").order("is_pinned",{ascending:!1}).order("created_at",{ascending:!1});if(w)throw w;const C=(g||[]).map(y=>y.user_id);let T={};if(C.length>0){const{data:y}=yield v.from("profiles").select("user_id, display_name, avatar_url").in("user_id",C);T=Object.fromEntries((y||[]).map(H=>[H.user_id,H]))}const E=(g||[]).map(y=>{var H,rs;return Z(D({},y),{user_display_name:((H=T[y.user_id])==null?void 0:H.display_name)||"Anonymous",user_avatar_url:((rs=T[y.user_id])==null?void 0:rs.avatar_url)||""})});L(E)}catch(s){console.error("Error fetching discussions:",s)}}),[u,c]);o.useEffect(()=>{if(X.length>0&&h){const s=X.filter(n=>n.organizer_id===h);js(s)}},[X,h]),o.useEffect(()=>{h&&(Xe(),u&&Ze())},[h,Xe,Ze,u]),o.useEffect(()=>{l&&Ke({display_name:(l==null?void 0:l.display_name)||"",bio:(l==null?void 0:l.bio)||"",location_city:(l==null?void 0:l.location_city)||"",location_state:(l==null?void 0:l.location_state)||"",avatar_url:(l==null?void 0:l.avatar_url)||"",cover_image_url:(l==null?void 0:l.cover_image_url)||"",is_verified:(l==null?void 0:l.is_verified)||!1,is_pro:(l==null?void 0:l.is_pro)||!1,anonymous_mode:(l==null?void 0:l.anonymous_mode)||!1})},[l]),o.useEffect(()=>{if(a){const s=xe.filter(E=>E.user_id===a.id),n=X.filter(E=>E.organizer_id===a.id),g=Se.filter(E=>{var y;return(y=E.members)==null?void 0:y.some(H=>H.user_id===a.id)}),w=s.reduce((E,y)=>E+(y.likes_count||0),0),C=s.reduce((E,y)=>E+(y.comments_count||0),0),T=s.length>0?(w+C)/s.length:0;Ss({totalPosts:s.length,totalEvents:n.length,totalCommunities:g.length,totalFollowers:(l==null?void 0:l.followers_count)||0,totalFollowing:(l==null?void 0:l.following_count)||0,totalLikes:w,totalComments:C,engagementRate:Math.round(T*10)/10})}},[a,xe,X,Se,l]),o.useCallback(s=>S(null,null,function*(){try{yield Qe(s),Ke(n=>D(D({},n),s)),i({title:"Profile Updated",description:"Your profile has been updated successfully."})}catch(n){i({title:"Update Failed",description:"Unable to update your profile. Please try again.",variant:"destructive"})}}),[Qe,i]);const Ps=()=>S(null,null,function*(){if(!(!he.trim()||!a||!h))try{const{data:s}=yield v.from("chat_conversations").select("id").or(`and(client_id.eq.${a.id},artist_id.eq.${h}),and(client_id.eq.${h},artist_id.eq.${a.id})`).single();let n=s==null?void 0:s.id;if(!n){const{data:w,error:C}=yield v.from("chat_conversations").insert({client_id:a.id,artist_id:h,status:"active"}).select().single();if(C)throw C;n=w.id}const{error:g}=yield v.from("chat_messages").insert({conversation_id:n,sender_id:a.id,message:he.trim(),message_type:"text"});if(g)throw g;i({title:"Message Sent",description:"Your message has been sent successfully"}),Ve(""),N(!1),x(`/chat/${n}`)}catch(s){console.error("Error sending message:",s),i({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}}),Fs=()=>{vs(!0),i({title:"Connection Request Sent",description:"Your connection request has been sent"}),V(!1)},Ds=()=>S(null,null,function*(){if(!a){i({title:"Sign in required",description:"Please sign in to book artists",variant:"destructive"});return}if(!(r!=null&&r.id)||r.id===c||!r.is_available){i({title:"Artist not available",description:"This artist is not available for booking at the moment",variant:"destructive"});return}if(!me||!be||!Ne||!we||!_e){i({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}try{const{data:s}=yield v.from("artist_bookings").select("id").eq("user_id",a.id).eq("artist_id",r==null?void 0:r.user_id).eq("event_date",me).single();if(s){i({title:"Booking already exists",description:"You have already sent a booking request for this date and artist.",variant:"destructive"});return}const{error:n}=yield v.from("artist_bookings").insert({user_id:a.id,artist_id:r==null?void 0:r.user_id,event_date:me,event_location:be,event_description:Ne,budget_min:parseFloat(we),budget_max:ye?parseFloat(ye):null,contact_info:_e,status:"pending"});if(n)throw n;i({title:"Booking request sent",description:"Your booking request has been sent to the artist"}),Q(!1),Te(""),ze(""),Ye(""),$e(""),Re(""),Ie("")}catch(s){console.error("Error creating booking:",s),i({title:"Error",description:"Failed to send booking request",variant:"destructive"})}}),Ms=()=>S(null,null,function*(){if(!a){i({title:"Sign in required",description:"Please sign in to post discussions",variant:"destructive"});return}if(!ke.trim()||!Ce.trim()){i({title:"Missing information",description:"Please fill in both title and content",variant:"destructive"});return}Ge(!0);try{const{data:s,error:n}=yield v.from("artists").select("id").eq("user_id",c).single();if(n)throw new Error("Artist profile not found");const{data:g,error:w}=yield v.from("artist_discussions").insert({user_id:a.id,artist_id:s.id,title:ke,content:Ce,status:"pending"}).select().single();if(w)throw w;try{yield gs.createDiscussionRequestNotification(c,g,a.id)}catch(C){console.error("Error creating discussion request notification:",C)}i({title:"Discussion submitted",description:"Your discussion request has been sent to the artist for approval"}),He(""),We("")}catch(s){console.error("Error submitting discussion:",s),i({title:"Error",description:"Failed to submit discussion request",variant:"destructive"})}finally{Ge(!1)}});o.useCallback(s=>S(null,null,function*(){try{i({title:"Avatar Updated",description:"Your avatar has been updated successfully."})}catch(n){i({title:"Upload Failed",description:"Unable to upload your avatar. Please try again.",variant:"destructive"})}}),[i]),o.useCallback(s=>S(null,null,function*(){try{i({title:"Cover Updated",description:"Your cover image has been updated successfully."})}catch(n){i({title:"Upload Failed",description:"Unable to upload your cover image. Please try again.",variant:"destructive"})}}),[i]),o.useCallback(()=>S(null,null,function*(){try{bs(!de),i({title:de?"Unfollowed":"Following",description:de?"You've unfollowed this user":"You're now following this user"})}catch(s){i({title:"Follow Failed",description:"Unable to follow this user. Please try again.",variant:"destructive"})}}),[i,de]),o.useCallback(()=>{N(!0)},[]),o.useCallback(()=>{V(!0)},[]);const Ee=()=>{if(!l)return 0;let s=0;const n=6;return l!=null&&l.display_name&&s++,l!=null&&l.bio&&s++,l!=null&&l.avatar_url&&s++,l!=null&&l.location_city&&s++,a!=null&&a.email&&s++,a!=null&&a.created_at&&s++,Math.round(s/n*100)};return Es?e.jsx(Pe,{children:e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Loading Profile..."}),e.jsx("p",{className:"text-muted-foreground",children:"Getting profile information"})]})})}):!d&&!r?e.jsx(Pe,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"The profile you're looking for doesn't exist or has been removed."}),e.jsxs(m,{onClick:()=>x("/"),children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),"Back to Home"]})]})}):e.jsx(Pe,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs(m,{variant:"ghost",onClick:()=>x(-1),className:"mb-4",children:[e.jsx(cs,{className:"w-4 h-4 mr-2"}),"Back"]}),u?e.jsx(f,{className:"relative overflow-hidden border-0 shadow-xl",children:e.jsx(M,{children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs(re,{className:"h-32 w-32 mx-auto md:mx-0",children:[e.jsx(ie,{src:r==null?void 0:r.avatar_url}),e.jsx(le,{className:"text-2xl",children:((Je=r==null?void 0:r.display_name)==null?void 0:Je.charAt(0))||"A"})]}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2 md:gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:r==null?void 0:r.display_name}),(r==null?void 0:r.is_verified)&&e.jsx(_,{variant:"secondary",children:"Verified"}),(r==null?void 0:r.is_available)&&e.jsx(_,{variant:"outline",className:"text-green-600 border-green-600",children:"Available"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4 mb-4 text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-1",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsxs("span",{children:[r==null?void 0:r.location_city,", ",r==null?void 0:r.location_state]})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-1",children:[e.jsx(Ws,{className:"h-4 w-4"}),e.jsxs("span",{children:["$",r==null?void 0:r.hourly_rate_min,"-$",r==null?void 0:r.hourly_rate_max,"/hr"]})]}),e.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-1",children:[e.jsx(ds,{className:"h-4 w-4"}),e.jsxs("span",{children:[r==null?void 0:r.experience_years," years experience"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4 justify-center md:justify-start",children:(Ue=r==null?void 0:r.artist_skills)==null?void 0:Ue.map(s=>e.jsx(_,{variant:"outline",children:s},s))}),e.jsxs("div",{className:"flex items-center gap-6 mb-4 justify-center md:justify-start text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-foreground",children:ks})," followers"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-foreground",children:Cs})," following"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center md:justify-start",children:[e.jsxs(m,{size:"lg",className:"w-full sm:w-auto",onClick:()=>Q(!0),children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Book Now"]}),e.jsx(rt,{userId:c,size:"lg",className:"w-full sm:w-auto"}),a&&a.id!==c&&e.jsxs(m,{variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:()=>N(!0),children:[e.jsx(R,{className:"h-4 w-4 mr-2"})," Message"]})]})]})]})})}):e.jsxs(f,{className:"relative overflow-hidden border-0 shadow-xl bg-gradient-to-br from-white via-blue-50/30 to-purple-50/30 dark:from-gray-900 dark:via-blue-900/20 dark:to-purple-900/20",children:[e.jsxs("div",{className:"h-48 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/10"}),b&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs(m,{variant:"secondary",size:"sm",className:"bg-white/20 backdrop-blur-sm border-white/30 text-white hover:bg-white/30",onClick:()=>F(!I),children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),e.jsx(p,{className:"relative pt-0 pb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end gap-6 -mt-16",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(re,{className:"h-24 w-24 border-4 border-white shadow-2xl ring-4 ring-blue-100/50",children:[e.jsx(ie,{src:(d==null?void 0:d.avatar_url)||se.avatar_url}),e.jsx(le,{className:"text-2xl font-bold bg-gradient-to-br from-blue-500 to-purple-600 text-white",children:((es=d==null?void 0:d.full_name)==null?void 0:es.charAt(0))||((ss=se.display_name)==null?void 0:ss.charAt(0))||((ts=a==null?void 0:a.email)==null?void 0:ts.charAt(0).toUpperCase())})]}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:e.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),e.jsx("div",{className:"flex-1 space-y-3",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:(d==null?void 0:d.full_name)||se.display_name||((as=a==null?void 0:a.email)==null?void 0:as.split("@")[0])}),(d==null?void 0:d.verified)&&e.jsxs(_,{variant:"secondary",className:"bg-blue-100 text-blue-800 border-blue-200",children:[e.jsx(fe,{className:"h-3 w-3 mr-1"}),"Verified"]}),se.is_pro&&e.jsxs(_,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Pro Member"]})]}),e.jsx("p",{className:"text-muted-foreground text-lg",children:(d==null?void 0:d.email)||(a==null?void 0:a.email)}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:[e.jsx(J,{className:"h-3 w-3"}),"Joined ",new Date((d==null?void 0:d.joined_date)||(a==null?void 0:a.created_at)||"").toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded-full",children:[e.jsx(U,{className:"h-3 w-3"}),"Active Member"]})]})]}),b&&e.jsxs("div",{className:"text-center md:text-right space-y-2",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Profile Completion"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[Ee(),"%"]}),e.jsxs("div",{className:"relative",children:[e.jsx($s,{value:Ee(),className:"w-24 h-3 bg-gray-200 dark:bg-gray-700"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full opacity-20"})]})]}),Ee()<100&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Complete your profile to unlock more features"})]})]})})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:[e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-blue-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(ge,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300 mb-1",children:B.totalPosts}),e.jsx("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Posts"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-green-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(J,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300 mb-1",children:B.totalEvents}),e.jsx("div",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Events"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/20 dark:to-purple-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-purple-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(A,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300 mb-1",children:B.totalCommunities}),e.jsx("div",{className:"text-sm font-medium text-purple-600 dark:text-purple-400",children:"Communities"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-red-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(hs,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-red-700 dark:text-red-300 mb-1",children:B.totalFollowers}),e.jsx("div",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Followers"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-indigo-50 to-indigo-100 dark:from-indigo-900/20 dark:to-indigo-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-indigo-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(xs,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-indigo-700 dark:text-indigo-300 mb-1",children:B.totalFollowing}),e.jsx("div",{className:"text-sm font-medium text-indigo-600 dark:text-indigo-400",children:"Following"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-orange-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(ds,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300 mb-1",children:B.totalLikes}),e.jsx("div",{className:"text-sm font-medium text-orange-600 dark:text-orange-400",children:"Likes"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-cyan-50 to-cyan-100 dark:from-cyan-900/20 dark:to-cyan-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-cyan-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(R,{className:"h-6 w-6 text-white"})}),e.jsx("div",{className:"text-2xl font-bold text-cyan-700 dark:text-cyan-300 mb-1",children:B.totalComments}),e.jsx("div",{className:"text-sm font-medium text-cyan-600 dark:text-cyan-400",children:"Comments"})]})}),e.jsx(f,{className:"group hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer border-0 bg-gradient-to-br from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20",children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-pink-500 rounded-xl flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(Os,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"text-2xl font-bold text-pink-700 dark:text-pink-300 mb-1",children:[B.engagementRate,"%"]}),e.jsx("div",{className:"text-sm font-medium text-pink-600 dark:text-pink-400",children:"Engagement"})]})})]}),e.jsxs(zs,{value:k,onValueChange:P,className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(Ys,{className:`grid ${u?"grid-cols-3":"grid-cols-4 md:grid-cols-6"} bg-gray-100 dark:bg-gray-800 p-1 rounded-xl shadow-inner`,children:[e.jsxs(Y,{value:"overview",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(U,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),u?e.jsxs(e.Fragment,{children:[e.jsxs(Y,{value:"portfolio",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(Gs,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Portfolio"})]}),e.jsxs(Y,{value:"discussions",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(R,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Discussions"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Y,{value:"posts",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Posts"})]}),e.jsxs(Y,{value:"events",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Events"})]}),e.jsxs(Y,{value:"communities",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Communities"})]}),b&&e.jsxs(e.Fragment,{children:[e.jsxs(Y,{value:"subscription",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Subscription"})]}),e.jsxs(Y,{value:"settings",className:"flex items-center gap-2 data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow-sm rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700/50",children:[e.jsx(Le,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]})]})]})}),e.jsx($,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(f,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs(M,{className:"pb-4",children:[e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(Vs,{className:"w-5 h-5 text-white"})}),"Quick Actions"]}),e.jsx(te,{children:"Jump into your most common tasks with one click"})]}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(m,{variant:"outline",className:"group h-auto p-6 flex flex-col gap-3 hover:bg-blue-50 hover:border-blue-200 dark:hover:bg-blue-900/20 dark:hover:border-blue-700 transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",onClick:()=>x("/create"),children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(Qs,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Create Post"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Share your thoughts"})]})]}),e.jsxs(m,{variant:"outline",className:"group h-auto p-6 flex flex-col gap-3 hover:bg-green-50 hover:border-green-200 dark:hover:bg-green-900/20 dark:hover:border-green-700 transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",onClick:()=>x("/events"),children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(J,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Browse Events"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Find local events"})]})]}),e.jsxs(m,{variant:"outline",className:"group h-auto p-6 flex flex-col gap-3 hover:bg-purple-50 hover:border-purple-200 dark:hover:bg-purple-900/20 dark:hover:border-purple-700 transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",onClick:()=>x("/communities"),children:[e.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(A,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Find Communities"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Connect with others"})]})]}),e.jsxs(m,{variant:"outline",className:"group h-auto p-6 flex flex-col gap-3 hover:bg-indigo-50 hover:border-indigo-200 dark:hover:bg-indigo-900/20 dark:hover:border-indigo-700 transition-all duration-300 hover:shadow-md hover:-translate-y-0.5",onClick:()=>x("/messages"),children:[e.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(R,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:"Messages"}),e.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Chat with friends"})]})]})]})})]}),e.jsxs(f,{className:"border-0 shadow-lg bg-gradient-to-br from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[e.jsxs(M,{className:"pb-4",children:[e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-blue-500 rounded-lg flex items-center justify-center",children:e.jsx(U,{className:"w-5 h-5 text-white"})}),"Recent Activity"]}),e.jsx(te,{children:"Your latest interactions and updates across the platform"})]}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:xe.slice(0,3).map((s,n)=>e.jsxs(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},className:"group flex gap-4 p-4 rounded-xl border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-700 hover:bg-blue-50/50 dark:hover:bg-blue-900/10 transition-all duration-300 hover:shadow-md",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(ge,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-sm truncate mb-1",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2 line-clamp-2",children:s.content}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-full",children:new Date(s.created_at).toLocaleDateString()}),e.jsx(_,{variant:"outline",className:"text-xs",children:"Post"})]})]})]},s.id))})})]})]})}),e.jsx($,{value:"posts",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:xe.filter(s=>s.user_id===(a==null?void 0:a.id)).map((s,n)=>{var g;return e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:e.jsx(st,{post:Z(D({},s),{title:s.title||"Untitled Post",author:{id:s.user_id,name:(d==null?void 0:d.full_name)||((g=a==null?void 0:a.email)==null?void 0:g.split("@")[0])||"User",avatar:d==null?void 0:d.avatar_url,verified:d==null?void 0:d.verified}}),onLike:w=>{i({title:"Liked!",description:"Post added to your likes."})},onComment:w=>{i({title:"Comment",description:"Comment functionality coming soon!"})},onShare:w=>{i({title:"Shared!",description:"Post shared successfully."})},onBookmark:w=>{i({title:"Bookmarked!",description:"Post saved to your bookmarks."})}})},s.id)})})}),e.jsx($,{value:"events",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:X.filter(s=>s.organizer_id===(a==null?void 0:a.id)).map((s,n)=>e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:e.jsx(et,{event:s,onAttend:g=>{i({title:"Event Attended!",description:"You're now attending this event."})},onLike:g=>{i({title:"Event Liked!",description:"Event added to your likes."})}})},s.id))})}),e.jsx($,{value:"communities",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Se.filter(s=>{var n;return(n=s.members)==null?void 0:n.some(g=>g.user_id===(a==null?void 0:a.id))}).map((s,n)=>e.jsx(G.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n*.1},children:e.jsx(it,{community:s,onJoin:g=>{i({title:"Joined Community!",description:"You are now a member of this community."})},onLeave:g=>{i({title:"Left Community",description:"You are no longer a member of this community."})},onShare:g=>{i({title:"Community Shared!",description:"Community shared successfully."})}})},s.id))})}),e.jsx($,{value:"subscription",className:"space-y-6",children:e.jsxs(f,{children:[e.jsxs(M,{children:[e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx(O,{className:"w-6 h-6 text-yellow-500"}),"Subscription Status"]}),e.jsx(te,{children:"Manage your subscription and unlock premium features"})]}),e.jsx(p,{className:"space-y-6",children:se.is_pro?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(O,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Pro Member"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"You have access to all premium features and benefits."}),e.jsxs(m,{variant:"outline",children:[e.jsx(Le,{className:"w-4 h-4 mr-2"}),"Manage Subscription"]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(O,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Free Account"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Upgrade to Pro to unlock premium features and benefits."}),e.jsxs(m,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 hover:from-yellow-500 hover:to-orange-600",children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Upgrade to Pro"]})]})})]})}),u&&e.jsx($,{value:"portfolio",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(M,{children:e.jsx(z,{children:"Portfolio"})}),e.jsx(p,{children:r!=null&&r.portfolio_urls&&r.portfolio_urls.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.portfolio_urls.map((s,n)=>e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:e.jsx("img",{src:s,alt:`Portfolio ${n+1}`,className:"w-full h-full object-cover rounded-lg"})},n))}):e.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No portfolio items available."})})]})}),u&&e.jsxs($,{value:"discussions",className:"space-y-6",children:[a&&e.jsxs(f,{children:[e.jsxs(M,{children:[e.jsx(z,{children:"Start a Discussion"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your discussion will be sent to the artist for approval before being visible to others."})]}),e.jsxs(p,{className:"space-y-4",children:[e.jsx(ae,{placeholder:"Discussion title",value:ke,onChange:s=>He(s.target.value)}),e.jsx(ue,{placeholder:"What would you like to discuss?",value:Ce,onChange:s=>We(s.target.value),rows:4}),e.jsx(m,{onClick:Ms,disabled:Oe,className:"w-full",children:Oe?"Submitting...":"Submit for Approval"})]})]}),e.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map(s=>{var n;return e.jsxs(f,{children:[e.jsx(M,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(re,{className:"h-8 w-8",children:[e.jsx(ie,{src:s.user_avatar_url}),e.jsx(le,{children:((n=s.user_display_name)==null?void 0:n.charAt(0))||"U"})]}),e.jsxs("div",{children:[e.jsx(z,{className:"text-lg",children:s.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",s.user_display_name," • ",new Date(s.created_at).toLocaleDateString()]})]})]}),s.is_pinned&&e.jsx(_,{variant:"secondary",children:"Pinned"})]})}),e.jsxs(p,{children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:s.content}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"h-4 w-4"}),e.jsx("span",{children:s.likes_count})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.replies_count," replies"]})]})]})]})]},s.id)}):e.jsx(f,{children:e.jsx(p,{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No discussions yet. Be the first to start one!"})})})})]}),!u&&b&&e.jsx($,{value:"settings",className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(f,{children:[e.jsxs(M,{children:[e.jsx(z,{children:"Account Settings"}),e.jsx(te,{children:"Manage your account and preferences"})]}),e.jsxs(p,{className:"space-y-3",children:[e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>F(!0),children:[e.jsx(ms,{className:"h-4 w-4 mr-2"}),"Edit Profile"]}),e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>x("/settings"),children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),"Account Settings"]}),e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>x("/privacy"),children:[e.jsx(xs,{className:"h-4 w-4 mr-2"}),"Privacy Settings"]}),e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>x("/notifications"),children:[e.jsx(Ks,{className:"h-4 w-4 mr-2"}),"Notifications"]})]})]}),e.jsxs(f,{children:[e.jsxs(M,{children:[e.jsx(z,{children:"Quick Actions"}),e.jsx(te,{children:"Frequently used features"})]}),e.jsxs(p,{className:"space-y-3",children:[e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>x("/messages"),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Messages"]}),e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>x("/bookmarks"),children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),"Bookmarks"]}),e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>x("/subscription"),children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Subscription"]}),e.jsxs(m,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.reload(),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]})]})]})})]}),u&&e.jsx(Fe,{open:ve,onOpenChange:Q,children:e.jsxs(De,{className:"max-w-md",children:[e.jsx(Me,{children:e.jsxs(Ae,{children:["Book ",r==null?void 0:r.display_name]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium",children:"Event Date"}),e.jsx(ae,{type:"datetime-local",value:me,onChange:s=>Te(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium",children:"Event Location"}),e.jsx(ae,{placeholder:"Event location",value:be,onChange:s=>ze(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium",children:"Event Description"}),e.jsx(ue,{placeholder:"Describe your event...",value:Ne,onChange:s=>Ye(s.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium",children:"Min Budget ($)"}),e.jsx(ae,{type:"number",placeholder:"500",value:we,onChange:s=>$e(s.target.value)})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium",children:"Max Budget ($)"}),e.jsx(ae,{type:"number",placeholder:"1000",value:ye,onChange:s=>Re(s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-medium",children:"Contact Information"}),e.jsx(ue,{placeholder:"Your phone number, email, or other contact details",value:_e,onChange:s=>Ie(s.target.value)})]}),e.jsx(m,{onClick:Ds,className:"w-full",children:"Send Booking Request"})]})]})}),e.jsx(Fe,{open:j,onOpenChange:N,children:e.jsxs(De,{className:"max-w-2xl",children:[e.jsxs(Me,{children:[e.jsxs(Ae,{children:["Send Message to ",u?r==null?void 0:r.display_name:d==null?void 0:d.full_name]}),e.jsx(ns,{children:"Send a direct message to this user"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"message",children:"Your Message"}),e.jsx(ue,{id:"message",placeholder:"Type your message here...",value:he,onChange:s=>Ve(s.target.value),rows:4})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(m,{className:"flex-1",onClick:Ps,disabled:!he.trim(),children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Send Message"]}),e.jsx(m,{variant:"outline",onClick:()=>N(!1),children:"Cancel"})]})]})]})}),e.jsx(Fe,{open:je,onOpenChange:V,children:e.jsxs(De,{className:"max-w-md",children:[e.jsxs(Me,{children:[e.jsxs(Ae,{children:["Connect with ",u?r==null?void 0:r.display_name:d==null?void 0:d.full_name]}),e.jsx(ns,{children:"Send a connection request to this user"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["This will send a connection request to ",u?r==null?void 0:r.display_name:d==null?void 0:d.full_name,". Once accepted, you'll be able to see their updates and message them directly."]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(m,{className:"flex-1",onClick:Fs,children:[e.jsx(ne,{className:"w-4 h-4 mr-2"}),"Send Request"]}),e.jsx(m,{variant:"outline",onClick:()=>V(!1),children:"Cancel"})]})]})]})})]})})};export{Tt as default};
