import{f as C,j as s,C as k,B as r,v as z}from"./main-B2Z1A0fl.js";import{B as o}from"./badge-CdNeXDip.js";import{S as _,A as y,b as E,c as M,E as P}from"./ResponsiveLayout-CYnOsYqc.js";import{H as h}from"./plus-B4gpjJdq.js";import{M as A}from"./message-circle-_vsuaFG3.js";import{C as O}from"./calendar-Cawp_lnB.js";import{C as U}from"./clock-DJLknj0F.js";import{M as $}from"./map-pin-CZucSvvB.js";import{U as p}from"./alert-DX9hSffn.js";import{U as D}from"./user-etsi-1kT.js";import{T as B}from"./ticket-B5xBOMkw.js";import{f as F}from"./index-BccyXWdq.js";const Y=({event:e,onAttend:t,onBook:i,onLike:l,onChat:c,showOrganizer:g=!0,verified:u=!1})=>{const m=C(),f=a=>{try{return F(new Date(a),"MMM dd, yyyy")}catch(H){return a}},j=a=>a===0?"Free":`$${a}`,n=()=>e.organizer_name||"Event Organizer",N=()=>e.organizer_avatar||"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face",d=()=>{m(`/event/${e.id}`)},w=a=>{a.stopPropagation(),m(`/profile/${e.user_id}`)},v=a=>{a.stopPropagation(),t==null||t(e.id)},b=a=>{a.stopPropagation(),i==null||i(e.id)},x=a=>{a.stopPropagation(),l==null||l(e.id)};return s.jsxs(k,{className:"overflow-hidden hover:shadow-lg transition-shadow duration-300 cursor-pointer group",onClick:d,children:[s.jsx("div",{className:"relative",children:s.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.jsx("img",{src:e.image_url||"https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=800&h=400&fit=crop",alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute top-3 left-3",children:s.jsx(o,{className:"bg-orange-500 hover:bg-orange-600 text-white font-semibold",children:j(e.price)})}),u&&s.jsx("div",{className:"absolute top-3 left-20",children:s.jsxs(o,{className:"bg-blue-500 hover:bg-blue-600 text-white",children:[s.jsx(_,{className:"w-3 h-3 mr-1"}),"Verified"]})}),s.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.jsx(r,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/20 hover:bg-white/30 text-white",onClick:x,children:s.jsx(h,{className:"w-4 h-4"})}),s.jsx(r,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 bg-white/20 hover:bg-white/30 text-white",onClick:a=>{a.stopPropagation(),c==null||c(e.id,e.user_id)},children:s.jsx(A,{className:"w-4 h-4"})})]})]})}),s.jsxs(z,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:e.title}),e.description&&s.jsx("p",{className:"text-muted-foreground text-sm mb-3 line-clamp-2",children:e.description}),s.jsxs("div",{className:"space-y-2 mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(O,{className:"w-4 h-4"}),s.jsx("span",{children:f(e.event_date)})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(U,{className:"w-4 h-4"}),s.jsx("span",{children:e.event_time})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx($,{className:"w-4 h-4"}),s.jsx("span",{children:e.location_name})]})]}),e.category&&s.jsx("div",{className:"mb-3",children:s.jsx(o,{variant:"secondary",className:"text-xs",children:e.category})}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-3",children:[s.jsx(p,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.attendees_count," / ",e.max_attendees||"âˆž"," attending"]})]}),g&&s.jsxs("div",{className:"flex items-center gap-2 mb-4 p-2 rounded-lg hover:bg-muted transition-colors cursor-pointer",onClick:w,children:[s.jsxs(y,{className:"w-8 h-8",children:[s.jsx(E,{src:N()}),s.jsx(M,{className:"text-xs",children:n().charAt(0)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:n()}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Event Organizer"})]}),s.jsx(D,{className:"w-4 h-4 text-muted-foreground"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(r,{variant:e.user_attending?"default":"outline",size:"sm",className:"flex-1",onClick:v,children:[s.jsx(p,{className:"w-4 h-4 mr-1"}),e.user_attending?"Attending":"Attend"]}),s.jsxs(r,{variant:"outline",size:"sm",className:"flex-1",onClick:b,children:[s.jsx(B,{className:"w-4 h-4 mr-1"}),"Book"]}),s.jsxs(r,{variant:"outline",size:"sm",className:"flex-1",onClick:x,children:[s.jsx(h,{className:"w-4 h-4 mr-1"}),"Like"]})]}),s.jsx("div",{className:"mt-3 text-center",children:s.jsxs(r,{variant:"ghost",size:"sm",className:"text-xs text-muted-foreground hover:text-primary",onClick:d,children:[s.jsx(P,{className:"w-3 h-3 mr-1"}),"View Details"]})})]})]})};export{Y as E};
