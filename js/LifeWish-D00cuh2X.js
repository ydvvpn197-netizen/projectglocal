var Le=Object.defineProperty,Ee=Object.defineProperties;var Te=Object.getOwnPropertyDescriptors;var ye=Object.getOwnPropertySymbols;var Fe=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var ce=(t,r,s)=>r in t?Le(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,q=(t,r)=>{for(var s in r||(r={}))Fe.call(r,s)&&ce(t,s,r[s]);if(ye)for(var s of ye(r))Pe.call(r,s)&&ce(t,s,r[s]);return t},A=(t,r)=>Ee(t,Te(r));var ne=(t,r,s)=>ce(t,typeof r!="symbol"?r+"":r,s);var f=(t,r,s)=>new Promise((a,i)=>{var l=c=>{try{p(s.next(c))}catch(h){i(h)}},y=c=>{try{p(s.throw(c))}catch(h){i(h)}},p=c=>c.done?a(c.value):Promise.resolve(c.value).then(l,y);p((s=s.apply(t,r)).next())});import{c as Ue,r as b,j as e,C,p as R,q as K,B as g,v as W,Q as o,X as De,s as m,u as qe,af as Ae}from"./main-Dczk40-q.js";import{B as Ve,u as J,a as de}from"./useMutation-Db8OWyjM.js";import{T as Me,a as Ie,b as oe,c as he}from"./tabs-ChvN7mKq.js";import{S as I}from"./separator-CnmZayxo.js";import{A as xe,a as pe,U as V}from"./alert-vAohCTxn.js";import{D as Y,e as ae,a as Q,b as G,c as X}from"./dialog-kL65frRC.js";import{u as ze,a as $e,o as Oe,b as Re,_ as He,s as fe}from"./schemas-DMZ6hVDA.js";import{I as ve}from"./index-DxDoSqvO.js";import{T as Ke}from"./textarea-fzgM4rGq.js";import{S as Ye,a as Qe,b as Ge,c as Xe,d as me}from"./select-B_T1mZfW.js";import{L as T}from"./label-KS36zHkM.js";import{B as k}from"./badge-iBsRNaSn.js";import{S as Je}from"./switch-B6gYJ-ue.js";import{H as v,P as je}from"./plus-B7hFD5Z2.js";import{S as Ze}from"./save-DN_6e_8W.js";import{S as F}from"./shield-Bq_L1461.js";import{L as P}from"./lock-r-hFD5rh.js";import{G as M}from"./globe-DZrEywGl.js";import{E as ie}from"./eye-CXD-3Vg7.js";import{A as B,b as ee,c as se,R as Be,S as es}from"./ResponsiveLayout-CxdDAcTl.js";import{A as ss,a as ts,b as rs,c as as,d as is,e as ls,f as cs,g as ns,h as ds}from"./alert-dialog-CEXbGQL0.js";import{C as Z}from"./checkbox-C46tIEHU.js";import{S as te}from"./share-2-CeGn1hMG.js";import{S as os}from"./search-CoqTXUJe.js";import{U as re}from"./user-xzPyfs-H.js";import{C as hs}from"./check-Dn5E7z_E.js";import{P as we}from"./pen-square-BFdqAlw9.js";import{T as be}from"./index-BCwUGNws.js";import{C as _e}from"./calendar-DbYgxsnG.js";import{f as Se}from"./index-BBJee05w.js";import"./index-Bvi8qGb8.js";import"./index-p4sF6Wge.js";import"./index-MbWpnwLW.js";import"./chevron-up-BzEWPbkd.js";import"./databaseUtils-DDxBFZda.js";import"./scroll-area-Ya-nYYPz.js";import"./useNotifications-DdfHYMMR.js";import"./notificationService-DiBkqnn5.js";import"./bell-CB9MQoCr.js";import"./zap-BM2f935p.js";import"./message-square-BskFJ3te.js";import"./map-pin-B65WKje7.js";import"./wifi-D1BoRTe0.js";import"./log-out-vClmguiA.js";import"./index-DmkGowGY.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=Ue("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),ms=Oe({title:fe().min(1,"Title is required").max(100,"Title must be less than 100 characters"),content:fe().min(10,"Content must be at least 10 characters").max(2e3,"Content must be less than 2000 characters"),visibility:He(["private","public","family"]),is_encrypted:Re().default(!0)}),Ne=({wish:t,onSave:r,onCancel:s,mode:a="create"})=>{var w,E,L;const[i,l]=b.useState((w=t==null?void 0:t.is_encrypted)!=null?w:!0),[y,p]=b.useState(!1),c=ze({resolver:$e(ms),defaultValues:{title:(t==null?void 0:t.title)||"",content:(t==null?void 0:t.content)||"",visibility:(t==null?void 0:t.visibility)||"private",is_encrypted:(E=t==null?void 0:t.is_encrypted)!=null?E:!0}}),h=x=>f(void 0,null,function*(){try{const U={title:x.title,content:x.content,visibility:x.visibility,is_encrypted:x.is_encrypted};yield new Promise(S=>setTimeout(S,1e3));const z={id:(t==null?void 0:t.id)||"new-id",user_id:"current-user",title:x.title,content:x.content,visibility:x.visibility,is_encrypted:x.is_encrypted,created_at:(t==null?void 0:t.created_at)||new Date().toISOString(),updated_at:new Date().toISOString()};r==null||r(z),o.success(a==="create"?"Life wish created successfully":"Life wish updated successfully")}catch(U){console.error("Error saving life wish:",U),o.error("Failed to save life wish")}}),_=x=>{switch(x){case"private":return e.jsx(P,{className:"w-4 h-4"});case"public":return e.jsx(M,{className:"w-4 h-4"});case"family":return e.jsx(V,{className:"w-4 h-4"});default:return e.jsx(P,{className:"w-4 h-4"})}},N=x=>{switch(x){case"private":return"Only you can see this wish";case"public":return"Visible to everyone in the community memorial space";case"family":return"Shared with designated family members";default:return""}},u=x=>{switch(x){case"private":return"bg-gray-100 text-gray-700";case"public":return"bg-blue-100 text-blue-700";case"family":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return y?e.jsxs(C,{className:"border-2 border-primary/20",children:[e.jsx(R,{className:"bg-gradient-to-r from-primary/5 to-secondary/5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{className:"flex items-center gap-2 text-primary",children:[e.jsx(v,{className:"w-5 h-5"}),"Preview"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{variant:"outline",size:"sm",onClick:()=>p(!1),children:[e.jsx(Ve,{className:"w-4 h-4 mr-2"}),"Edit"]}),e.jsxs(g,{size:"sm",onClick:c.handleSubmit(h),children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})}),e.jsx(W,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2",children:c.watch("title")||"Your Life Wish"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_(c.watch("visibility")),e.jsx(k,{className:u(c.watch("visibility")),children:c.watch("visibility")}),i&&e.jsxs(k,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Encrypted"]})]})]}),e.jsx(I,{}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-lg leading-relaxed text-gray-700 whitespace-pre-wrap",children:c.watch("content")||"Your life wish content will appear here..."})})}),e.jsx("div",{className:"text-center text-sm text-gray-500 mt-4",children:e.jsx("p",{children:"This is how your life wish will appear to others"})})]})})]}):e.jsxs(C,{className:"border-2 border-primary/20",children:[e.jsxs(R,{className:"bg-gradient-to-r from-primary/5 to-secondary/5",children:[e.jsxs(K,{className:"flex items-center gap-2 text-primary",children:[e.jsx(v,{className:"w-5 h-5"}),a==="create"?"Create Life Wish":"Edit Life Wish"]}),e.jsxs(xe,{children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx(pe,{children:"Share what you want to be remembered for. This is a safe space to express your deepest wishes and legacy."})]})]}),e.jsx(W,{className:"p-6",children:e.jsxs("form",{onSubmit:c.handleSubmit(h),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"title",className:"text-base font-medium",children:"What do you want to be remembered for?"}),e.jsx(ve,A(q({id:"title"},c.register("title")),{placeholder:"e.g., A person who brought joy to others",className:"mt-2 text-lg"})),c.formState.errors.title&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.formState.errors.title.message})]}),e.jsxs("div",{children:[e.jsx(T,{htmlFor:"content",className:"text-base font-medium",children:"Your Life Wish"}),e.jsx(Ke,A(q({id:"content"},c.register("content")),{placeholder:"Share your thoughts, dreams, and what you hope your legacy will be. What impact do you want to have on the world? What values do you want to pass on?",className:"mt-2 min-h-[200px] text-base leading-relaxed",rows:8})),c.formState.errors.content&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.formState.errors.content.message}),e.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[((L=c.watch("content"))==null?void 0:L.length)||0," / 2000 characters"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:i?"Encrypted":"Not encrypted"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{className:"text-base font-medium",children:"Privacy Settings"}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[_(c.watch("visibility")),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Visibility"}),e.jsx("div",{className:"text-sm text-gray-500",children:N(c.watch("visibility"))})]})]}),e.jsxs(Ye,{value:c.watch("visibility"),onValueChange:x=>c.setValue("visibility",x),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(Ge,{})}),e.jsxs(Xe,{children:[e.jsx(me,{value:"private",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Private"]})}),e.jsx(me,{value:"family",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Family"]})}),e.jsx(me,{value:"public",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Public"]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Encryption"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Keep your wish secure with encryption"})]})]}),e.jsx(Je,{checked:i,onCheckedChange:x=>{l(x),c.setValue("is_encrypted",x)}})]})]})]}),e.jsxs(xe,{className:"bg-blue-50 border-blue-200",children:[e.jsx(F,{className:"h-4 w-4 text-blue-600"}),e.jsx(pe,{className:"text-blue-800",children:"Your privacy is important to us. Private wishes are encrypted and only visible to you. Family wishes are shared only with designated family members. Public wishes contribute to our community memorial space."})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[s&&e.jsx(g,{type:"button",variant:"outline",onClick:s,className:"flex-1",children:"Cancel"}),e.jsxs(g,{type:"button",variant:"outline",onClick:()=>p(!0),className:"flex-1",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Preview"]}),e.jsxs(g,{type:"submit",className:"flex-1 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),a==="create"?"Create Wish":"Save Changes"]})]})]})})]})},Ce=({wish:t,onShare:r,children:s})=>{const[a,i]=b.useState(!1),[l,y]=b.useState(""),[p,c]=b.useState([]),[h,_]=b.useState([]),[N,u]=b.useState({canView:!0,canEdit:!1,canShare:!1,canDelete:!1}),[w,E]=b.useState(!1),[L,x]=b.useState(!1),U=n=>f(void 0,null,function*(){if(!n.trim()){c([]);return}E(!0);try{const{data:j,error:H}=yield m.from("profiles").select("user_id, display_name, username, avatar_url").or(`display_name.ilike.%${n}%,username.ilike.%${n}%`).limit(10);if(H)throw H;const{data:{user:le}}=yield m.auth.getUser(),ke=(j==null?void 0:j.filter(D=>D.user_id!==(le==null?void 0:le.id)).map(D=>({id:D.user_id,email:`${D.username||D.display_name}@example.com`,display_name:D.display_name||D.username||"Unknown User",username:D.username,avatar_url:D.avatar_url})))||[];c(ke)}catch(j){console.error("Error searching users:",j),o.error("Failed to search users")}finally{E(!1)}});b.useEffect(()=>{const n=setTimeout(()=>{U(l)},300);return()=>clearTimeout(n)},[l]);const z=n=>{h.find(j=>j.id===n.id)||_([...h,n]),y(""),c([])},S=n=>{_(h.filter(j=>j.id!==n))},d=()=>f(void 0,null,function*(){if(h.length===0){o.error("Please select at least one user to share with");return}x(!0);try{const{data:{user:n}}=yield m.auth.getUser();if(!n)throw new Error("Not authenticated");for(const j of h){const{error:H}=yield m.from("life_wish_shares").insert({wish_id:t.id,shared_by:n.id,shared_with:j.id,share_type:"user",permissions:N});if(H)throw H}o.success(`Life wish shared with ${h.length} user(s)`),i(!1),_([]),r==null||r(t)}catch(n){console.error("Error sharing life wish:",n),o.error("Failed to share life wish")}finally{x(!1)}});return e.jsxs(Y,{open:a,onOpenChange:i,children:[e.jsx(ae,{asChild:!0,children:s}),e.jsxs(Q,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(G,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-5 h-5 text-primary"}),"Share Life Wish"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:t.content}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(k,{variant:"outline",className:"text-xs",children:t.visibility==="public"?"Public":t.visibility==="family"?"Family":"Private"}),t.is_encrypted&&e.jsx(k,{variant:"secondary",className:"text-xs",children:"Encrypted"})]})]}),e.jsx(I,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(T,{htmlFor:"user-search",children:"Search Users"}),e.jsxs("div",{className:"relative mt-1",children:[e.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(ve,{id:"user-search",placeholder:"Search by name or username...",value:l,onChange:n=>y(n.target.value),className:"pl-10"})]})]}),p.length>0&&e.jsx("div",{className:"border rounded-lg max-h-40 overflow-y-auto",children:p.map(n=>e.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 cursor-pointer border-b last:border-b-0",onClick:()=>z(n),children:[e.jsxs(B,{className:"w-8 h-8",children:[e.jsx(ee,{src:n.avatar_url}),e.jsx(se,{children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:n.display_name||n.username||"Unknown User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]}),e.jsx(g,{variant:"ghost",size:"sm",children:e.jsx(hs,{className:"w-4 h-4"})})]},n.id))}),h.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs(T,{children:["Selected Users (",h.length,")"]}),e.jsx("div",{className:"space-y-2",children:h.map(n=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs(B,{className:"w-8 h-8",children:[e.jsx(ee,{src:n.avatar_url}),e.jsx(se,{children:e.jsx(re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:n.display_name||n.username||"Unknown User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:n.email})]}),e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>S(n.id),children:e.jsx(De,{className:"w-4 h-4"})})]},n.id))})]})]}),e.jsx(I,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{children:"Permissions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"can-view",checked:N.canView,onCheckedChange:n=>u(j=>A(q({},j),{canView:!!n}))}),e.jsxs(T,{htmlFor:"can-view",className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Can view"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"can-edit",checked:N.canEdit,onCheckedChange:n=>u(j=>A(q({},j),{canEdit:!!n}))}),e.jsxs(T,{htmlFor:"can-edit",className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4"}),"Can edit"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"can-share",checked:N.canShare,onCheckedChange:n=>u(j=>A(q({},j),{canShare:!!n}))}),e.jsxs(T,{htmlFor:"can-share",className:"flex items-center gap-2",children:[e.jsx(te,{className:"w-4 h-4"}),"Can share"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Z,{id:"can-delete",checked:N.canDelete,onCheckedChange:n=>u(j=>A(q({},j),{canDelete:!!n}))}),e.jsxs(T,{htmlFor:"can-delete",className:"flex items-center gap-2",children:[e.jsx(be,{className:"w-4 h-4"}),"Can delete"]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(g,{variant:"outline",onClick:()=>i(!1),disabled:L,children:"Cancel"}),e.jsx(g,{onClick:d,disabled:h.length===0||L,children:L?"Sharing...":`Share with ${h.length} user(s)`})]})]})]})]})},We=({wish:t,showUserInfo:r=!1,onEdit:s,onDelete:a,onShare:i,isOwner:l=!1,className:y=""})=>{const[p,c]=b.useState(!1),[h,_]=b.useState(!1),{user:N}=qe(),u=(N==null?void 0:N.id)===t.user_id,w=S=>{switch(S){case"private":return e.jsx(P,{className:"w-4 h-4"});case"public":return e.jsx(M,{className:"w-4 h-4"});case"family":return e.jsx(V,{className:"w-4 h-4"});default:return e.jsx(P,{className:"w-4 h-4"})}},E=S=>{switch(S){case"private":return"bg-gray-100 text-gray-700 border-gray-200";case"public":return"bg-blue-100 text-blue-700 border-blue-200";case"family":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},L=S=>{switch(S){case"private":return"Private";case"public":return"Public";case"family":return"Family";default:return"Private"}},x=()=>f(void 0,null,function*(){_(!0);try{yield a==null?void 0:a(t.id)}finally{_(!1)}}),U=S=>Se(new Date(S),{addSuffix:!0}),z=t.content.length>200?t.content.substring(0,200)+"...":t.content;return e.jsxs(C,{className:`group hover:shadow-lg transition-all duration-300 border-2 hover:border-primary/20 ${y}`,children:[e.jsx(R,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[r&&e.jsxs(B,{className:"w-10 h-10",children:[e.jsx(ee,{src:"/placeholder-avatar.jpg"}),e.jsx(se,{children:e.jsx(re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-primary transition-colors",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsxs(k,{variant:"outline",className:`${E(t.visibility)} text-xs`,children:[w(t.visibility),e.jsx("span",{className:"ml-1",children:L(t.visibility)})]}),t.is_encrypted&&e.jsxs(k,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 border-yellow-200 text-xs",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Encrypted"]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(_e,{className:"w-3 h-3"}),U(t.created_at)]})]})]})]}),(l||u)&&e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs(Y,{children:[e.jsx(ae,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"sm",children:e.jsx(ie,{className:"w-4 h-4"})})}),e.jsxs(Q,{className:"max-w-2xl",children:[e.jsx(G,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary"}),t.title]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[w(t.visibility),e.jsx(k,{className:E(t.visibility),children:L(t.visibility)}),t.is_encrypted&&e.jsxs(k,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Encrypted"]})]}),e.jsx(I,{}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-lg leading-relaxed text-gray-700 whitespace-pre-wrap",children:t.content})})}),e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Created ",U(t.created_at)]})]})]})]}),s&&e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>s(t),children:e.jsx(we,{className:"w-4 h-4"})}),e.jsx(Ce,{wish:t,onShare:()=>i==null?void 0:i(t),children:e.jsx(g,{variant:"ghost",size:"sm",children:e.jsx(te,{className:"w-4 h-4"})})}),a&&e.jsxs(ss,{children:[e.jsx(ts,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(be,{className:"w-4 h-4"})})}),e.jsxs(rs,{children:[e.jsxs(as,{children:[e.jsx(is,{children:"Delete Life Wish"}),e.jsxs(ls,{children:['Are you sure you want to delete "',t.title,'"? This action cannot be undone and will permanently remove this life wish.']})]}),e.jsxs(cs,{children:[e.jsx(ns,{children:"Cancel"}),e.jsx(ds,{onClick:x,disabled:h,className:"bg-red-600 hover:bg-red-700",children:h?"Deleting...":"Delete"})]})]})]})]})]})}),e.jsx(W,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:p?t.content:z}),t.content.length>200&&e.jsx(g,{variant:"link",className:"p-0 h-auto text-primary hover:text-primary/80",onClick:()=>c(!p),children:p?"Show less":"Read more"})]}),e.jsx("div",{className:"flex items-center justify-center pt-2",children:e.jsxs("div",{className:"flex items-center gap-1 text-primary/60",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"A life wish shared with love"})]})})]})})]})},xs=t=>e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-secondary/5 rounded-lg -z-10"}),e.jsx(We,A(q({},t),{className:"bg-white/80 backdrop-blur-sm border-primary/30"}))]}),ps=({wish:t,sharedBy:r,sharedAt:s,permissions:a,onShare:i,className:l=""})=>{const[y,p]=b.useState(!1),c=w=>{switch(w){case"private":return e.jsx(P,{className:"w-4 h-4"});case"public":return e.jsx(M,{className:"w-4 h-4"});case"family":return e.jsx(V,{className:"w-4 h-4"});default:return e.jsx(P,{className:"w-4 h-4"})}},h=w=>{switch(w){case"private":return"bg-gray-100 text-gray-700 border-gray-200";case"public":return"bg-blue-100 text-blue-700 border-blue-200";case"family":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=w=>{switch(w){case"private":return"Private";case"public":return"Public";case"family":return"Family";default:return"Private"}},N=w=>Se(new Date(w),{addSuffix:!0}),u=t.content.length>200?t.content.substring(0,200)+"...":t.content;return e.jsxs(C,{className:`group hover:shadow-lg transition-all duration-300 border-2 border-green-200 hover:border-green-300 ${l}`,children:[e.jsx(R,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(B,{className:"w-10 h-10",children:[e.jsx(ee,{src:r==null?void 0:r.avatar_url}),e.jsx(se,{children:e.jsx(re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 group-hover:text-primary transition-colors",children:t.title}),e.jsxs(k,{variant:"outline",className:"bg-green-100 text-green-700 border-green-200 text-xs",children:[e.jsx(ge,{className:"w-3 h-3 mr-1"}),"Shared"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"outline",className:`${h(t.visibility)} text-xs`,children:[c(t.visibility),e.jsx("span",{className:"ml-1",children:_(t.visibility)})]}),t.is_encrypted&&e.jsxs(k,{variant:"secondary",className:"bg-yellow-100 text-yellow-700 border-yellow-200 text-xs",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Encrypted"]}),e.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx(_e,{className:"w-3 h-3"}),N(t.created_at)]})]}),r&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Shared by ",e.jsx("span",{className:"font-medium",children:r.display_name||r.username||"Unknown User"}),s&&` ${N(s)}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsxs(Y,{children:[e.jsx(ae,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"sm",children:e.jsx(ie,{className:"w-4 h-4"})})}),e.jsxs(Q,{className:"max-w-2xl",children:[e.jsx(G,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-primary"}),t.title]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[c(t.visibility),e.jsx(k,{className:h(t.visibility),children:_(t.visibility)}),t.is_encrypted&&e.jsxs(k,{variant:"secondary",className:"bg-yellow-100 text-yellow-700",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Encrypted"]}),e.jsxs(k,{variant:"outline",className:"bg-green-100 text-green-700",children:[e.jsx(ge,{className:"w-3 h-3 mr-1"}),"Shared"]})]}),r&&e.jsxs("div",{className:"text-sm text-gray-600",children:["Shared by ",e.jsx("span",{className:"font-medium",children:r.display_name||r.username||"Unknown User"}),s&&` ${N(s)}`]}),e.jsx(I,{}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white p-6 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-lg leading-relaxed text-gray-700 whitespace-pre-wrap",children:t.content})})}),e.jsxs("div",{className:"text-sm text-gray-500 text-center",children:["Created ",N(t.created_at)]})]})]})]}),(a==null?void 0:a.canShare)&&e.jsx(Ce,{wish:t,onShare:()=>i==null?void 0:i(t),children:e.jsx(g,{variant:"ghost",size:"sm",children:e.jsx(te,{className:"w-4 h-4"})})})]})]})}),e.jsx(W,{className:"pt-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"prose max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed",children:y?t.content:u}),t.content.length>200&&e.jsx(g,{variant:"link",className:"p-0 h-auto text-primary hover:text-primary/80",onClick:()=>p(!y),children:y?"Show less":"Read more"})]}),e.jsx("div",{className:"flex items-center justify-center pt-2",children:e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(v,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"A life wish shared with love"})]})})]})})]})},O=class O{constructor(){ne(this,"encryptionKey","your-encryption-key")}static getInstance(){return O.instance||(O.instance=new O),O.instance}encryptText(r){return btoa(r)}decryptText(r){return atob(r)}createLifeWish(r){return f(this,null,function*(){var s;try{const{title:a,content:i,visibility:l,is_encrypted:y=!0}=r,p={title:a,visibility:l,is_encrypted:y};y?(p.encrypted_content=this.encryptText(i),p.content=""):p.content=i;const{data:c,error:h}=yield m.from("life_wishes").insert(A(q({},p),{user_id:(s=(yield m.auth.getUser()).data.user)==null?void 0:s.id})).select().single();if(h)throw h;return c.is_encrypted&&c.encrypted_content&&(c.content=this.decryptText(c.encrypted_content)),o.success("Life wish created successfully"),c}catch(a){throw console.error("Error creating life wish:",a),o.error("Failed to create life wish"),a}})}getMyLifeWishes(){return f(this,null,function*(){var r;try{const{data:s,error:a}=yield m.from("life_wishes").select("*").eq("user_id",(r=(yield m.auth.getUser()).data.user)==null?void 0:r.id).order("updated_at",{ascending:!1});if(a)throw a;return(s||[]).map(l=>(l.is_encrypted&&l.encrypted_content&&(l.content=this.decryptText(l.encrypted_content)),l))}catch(s){throw console.error("Error fetching life wishes:",s),o.error("Failed to fetch life wishes"),s}})}getMyPrivateLifeWishes(){return f(this,null,function*(){var r;try{const{data:s,error:a}=yield m.from("life_wishes").select("*").eq("user_id",(r=(yield m.auth.getUser()).data.user)==null?void 0:r.id).eq("visibility","private").order("updated_at",{ascending:!1});if(a)throw a;return(s||[]).map(l=>(l.is_encrypted&&l.encrypted_content&&(l.content=this.decryptText(l.encrypted_content)),l))}catch(s){throw console.error("Error fetching private life wishes:",s),o.error("Failed to fetch private life wishes"),s}})}getPublicLifeWishes(){return f(this,null,function*(){try{const{data:r,error:s}=yield m.from("life_wishes").select("*").eq("visibility","public").order("created_at",{ascending:!1});if(s)throw s;return yield Promise.all((r||[]).map(i=>f(this,null,function*(){i.is_encrypted&&i.encrypted_content&&(i.content=this.decryptText(i.encrypted_content));try{const{data:l}=yield m.from("profiles").select("display_name, avatar_url").eq("user_id",i.user_id).single();i.user_profile=l||{}}catch(l){console.warn("Could not fetch profile for user:",i.user_id),i.user_profile={}}return i})))}catch(r){throw console.error("Error fetching public life wishes:",r),o.error("Failed to fetch public life wishes"),r}})}getSharedLifeWishes(){return f(this,null,function*(){var r;try{const{data:s,error:a}=yield m.from("life_wishes").select(`
          *,
          life_wish_shares!inner(shared_with)
        `).eq("life_wish_shares.shared_with",(r=(yield m.auth.getUser()).data.user)==null?void 0:r.id).order("created_at",{ascending:!1});if(a)throw a;return(s||[]).map(l=>(l.is_encrypted&&l.encrypted_content&&(l.content=this.decryptText(l.encrypted_content)),l))}catch(s){throw console.error("Error fetching shared life wishes:",s),o.error("Failed to fetch shared life wishes"),s}})}getLifeWish(r){return f(this,null,function*(){try{const{data:s,error:a}=yield m.from("life_wishes").select("*").eq("id",r).single();if(a)throw a;return s?(s.is_encrypted&&s.encrypted_content&&(s.content=this.decryptText(s.encrypted_content)),s):null}catch(s){throw console.error("Error fetching life wish:",s),o.error("Failed to fetch life wish"),s}})}updateLifeWish(r,s){return f(this,null,function*(){try{const a={};s.title&&(a.title=s.title),s.visibility&&(a.visibility=s.visibility),s.is_encrypted!==void 0&&(a.is_encrypted=s.is_encrypted),s.content&&(s.is_encrypted!==!1?(a.encrypted_content=this.encryptText(s.content),a.content=""):(a.content=s.content,a.encrypted_content=null));const{data:i,error:l}=yield m.from("life_wishes").update(a).eq("id",r).select().single();if(l)throw l;return i.is_encrypted&&i.encrypted_content&&(i.content=this.decryptText(i.encrypted_content)),o.success("Life wish updated successfully"),i}catch(a){throw console.error("Error updating life wish:",a),o.error("Failed to update life wish"),a}})}deleteLifeWish(r){return f(this,null,function*(){try{const{error:s}=yield m.from("life_wishes").delete().eq("id",r);if(s)throw s;o.success("Life wish deleted successfully")}catch(s){throw console.error("Error deleting life wish:",s),o.error("Failed to delete life wish"),s}})}shareLifeWish(r,s){return f(this,null,function*(){var a;try{const{data:i,error:l}=yield m.from("life_wish_shares").insert({wish_id:r,shared_by:(a=(yield m.auth.getUser()).data.user)==null?void 0:a.id,shared_with:s.shareType==="user"?s.sharedWith:null,shared_email:s.shareType==="email"?s.sharedEmail:null,share_type:s.shareType,permissions:s.permissions||{},expires_at:s.expiresAt}).select().single();if(l)throw l;return o.success("Life wish shared successfully"),i}catch(i){throw console.error("Error sharing life wish:",i),o.error("Failed to share life wish"),i}})}getLifeWishShares(r){return f(this,null,function*(){try{const{data:s,error:a}=yield m.from("life_wish_shares").select("*").eq("wish_id",r).order("created_at",{ascending:!1});if(a)throw a;return s||[]}catch(s){throw console.error("Error fetching life wish shares:",s),o.error("Failed to fetch life wish shares"),s}})}removeShare(r){return f(this,null,function*(){try{const{error:s}=yield m.from("life_wish_shares").delete().eq("id",r);if(s)throw s;o.success("Share removed successfully")}catch(s){throw console.error("Error removing share:",s),o.error("Failed to remove share"),s}})}getMySharedWishes(){return f(this,null,function*(){var r;try{const{data:s,error:a}=yield m.from("life_wish_shares").select(`
          *,
          life_wishes!inner(title, visibility)
        `).eq("shared_by",(r=(yield m.auth.getUser()).data.user)==null?void 0:r.id).order("created_at",{ascending:!1});if(a)throw a;return s||[]}catch(s){throw console.error("Error fetching shared wishes:",s),o.error("Failed to fetch shared wishes"),s}})}hasPermissionToView(r){return f(this,null,function*(){var s;try{const a=(s=(yield m.auth.getUser()).data.user)==null?void 0:s.id;if(!a)return!1;const{data:i}=yield m.from("life_wishes").select("id").eq("id",r).eq("user_id",a).single();if(i)return!0;const{data:l}=yield m.from("life_wishes").select("id").eq("id",r).eq("visibility","public").single();if(l)return!0;const{data:y}=yield m.from("life_wish_shares").select("id").eq("wish_id",r).eq("shared_with",a).single();return!!y}catch(a){return console.error("Error checking permissions:",a),!1}})}getLifeWishStats(){return f(this,null,function*(){try{const r=yield this.getMyLifeWishes(),s=yield this.getMyPrivateLifeWishes(),a=yield this.getSharedLifeWishes();return{total:r.length,private:s.length,public:r.filter(i=>i.visibility==="public").length,family:r.filter(i=>i.visibility==="family").length,shared:a.length}}catch(r){return console.error("Error fetching life wish stats:",r),{total:0,private:0,public:0,family:0,shared:0}}})}};ne(O,"instance");let ue=O;const $=ue.getInstance(),ct=()=>{const[t,r]=b.useState("my-wishes"),[s,a]=b.useState(!1),[i,l]=b.useState(null);Ae();const{data:y=[],refetch:p}=J({queryKey:["my-private-life-wishes"],queryFn:()=>$.getMyPrivateLifeWishes()}),{data:c=[],refetch:h}=J({queryKey:["public-life-wishes"],queryFn:()=>$.getPublicLifeWishes()}),{data:_=[],refetch:N}=J({queryKey:["shared-life-wishes"],queryFn:()=>$.getSharedLifeWishes()}),{data:u}=J({queryKey:["life-wish-stats"],queryFn:()=>$.getLifeWishStats()}),w=de({mutationFn:d=>$.createLifeWish(d),onSuccess:()=>{p(),a(!1),o.success("Life wish created successfully")},onError:d=>{console.error("Error creating life wish:",d),o.error("Failed to create life wish")}}),E=de({mutationFn:({wishId:d,updates:n})=>$.updateLifeWish(d,n),onSuccess:()=>{p(),l(null),o.success("Life wish updated successfully")},onError:d=>{console.error("Error updating life wish:",d),o.error("Failed to update life wish")}}),L=d=>{i&&E.mutate({wishId:i.id,updates:d})},x=de({mutationFn:d=>$.deleteLifeWish(d),onSuccess:()=>{p(),o.success("Life wish deleted successfully")},onError:d=>{console.error("Error deleting life wish:",d),o.error("Failed to delete life wish")}}),U=d=>{w.mutate(d)},z=d=>{x.mutate(d)},S=d=>{N(),o.success("Life wish shared successfully")};return e.jsx(Be,{children:e.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-6 h-6 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Life Wishes"}),e.jsx("p",{className:"text-gray-600",children:"Preserve and share your life's most important wishes"})]})]}),e.jsxs(Y,{open:s,onOpenChange:a,children:[e.jsx(ae,{asChild:!0,children:e.jsxs(g,{className:"bg-pink-600 hover:bg-pink-700",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Create Life Wish"]})}),e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(G,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-pink-600"}),"Create New Life Wish"]})}),e.jsx(Ne,{mode:"create",onSave:U,onCancel:()=>a(!1)})]})]})]}),e.jsxs(xe,{className:"bg-pink-50 border-pink-200",children:[e.jsx(v,{className:"h-4 w-4 text-pink-600"}),e.jsxs(pe,{className:"text-pink-800",children:[e.jsx("strong",{children:"Life Wishes:"})," Create, preserve, and share your most important life wishes with loved ones. These can include personal messages, legacy wishes, or important decisions you want to communicate."]})]})]}),u&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[e.jsx(C,{children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Private Wishes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(u==null?void 0:u.private)||0})]}),e.jsx(P,{className:"w-8 h-8 text-pink-600"})]})})}),e.jsx(C,{children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Public Wishes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(u==null?void 0:u.public)||0})]}),e.jsx(M,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(C,{children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Shared With Me"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(u==null?void 0:u.shared)||0})]}),e.jsx(V,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(C,{children:e.jsx(W,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Wishes"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(u==null?void 0:u.total)||0})]}),e.jsx(v,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsxs(Me,{value:t,onValueChange:r,className:"space-y-6",children:[e.jsxs(Ie,{className:"grid w-full grid-cols-3",children:[e.jsxs(oe,{value:"my-wishes",className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"My Wishes"]}),e.jsxs(oe,{value:"public",className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-4 h-4"}),"Public Wishes"]}),e.jsxs(oe,{value:"shared",className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Shared With Me"]})]}),e.jsx(he,{value:"my-wishes",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(C,{children:[e.jsx(R,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5"}),"My Wishes"]})}),e.jsxs(W,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("p",{children:"Your private life wishes that are only visible to you. These are your personal thoughts and wishes that you want to keep private."})}),e.jsx(I,{}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-3 h-3"}),e.jsx("span",{children:"Private and secure"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-3 h-3"}),e.jsx("span",{children:"Encrypted by default"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3"}),e.jsx("span",{children:"Personal wishes only"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:y.length===0?e.jsx(C,{children:e.jsxs(W,{className:"text-center py-12",children:[e.jsx(P,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No private wishes yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Create your first private life wish to get started. These are personal messages, legacy wishes, or important decisions you want to keep private and secure."}),e.jsxs(g,{onClick:()=>a(!0),className:"bg-pink-600 hover:bg-pink-700",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),"Create Private Wish"]})]})}):e.jsx("div",{className:"space-y-6",children:y.map(d=>e.jsx(We,{wish:d,showUserInfo:!1,onEdit:()=>l(d),onDelete:()=>z(d.id),onShare:S,isOwner:!0},d.id))})})]})}),e.jsx(he,{value:"public",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(C,{children:[e.jsx(R,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5"}),"Public Wishes"]})}),e.jsxs(W,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("p",{children:"All public life wishes from the community, including your own public wishes. These are shared openly to inspire and connect with others."})}),e.jsx(I,{}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-3 h-3"}),e.jsx("span",{children:"Publicly shared"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(es,{className:"w-3 h-3"}),e.jsx("span",{children:"Community inspiration"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3"}),e.jsx("span",{children:"Your public wishes included"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:c.length===0?e.jsx(C,{children:e.jsxs(W,{className:"text-center py-12",children:[e.jsx(M,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No public wishes yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"When others share their life wishes publicly, they'll appear here for community inspiration."})]})}):e.jsx("div",{className:"space-y-6",children:c.map(d=>e.jsx(xs,{wish:d,showUserInfo:!0},d.id))})})]})}),e.jsx(he,{value:"shared",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(C,{children:[e.jsx(R,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5"}),"Shared With Me"]})}),e.jsxs(W,{className:"space-y-4",children:[e.jsx("div",{className:"text-sm text-gray-600",children:e.jsx("p",{children:"Life wishes that others have specifically shared with you. These are private wishes that people have chosen to share with you personally."})}),e.jsx(I,{}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3"}),e.jsx("span",{children:"Personal connections"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-3 h-3"}),e.jsx("span",{children:"Trusted sharing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"w-3 h-3"}),e.jsx("span",{children:"Shared by others"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-3",children:_.length===0?e.jsx(C,{children:e.jsxs(W,{className:"text-center py-12",children:[e.jsx(V,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No shared wishes yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"When others share their life wishes with you, they'll appear here."})]})}):e.jsx("div",{className:"space-y-6",children:_.map(d=>e.jsx(ps,{wish:d,onShare:S},d.id))})})]})})]}),i&&e.jsx(Y,{open:!!i,onOpenChange:()=>l(null),children:e.jsxs(Q,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(G,{children:e.jsxs(X,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-pink-600"}),"Edit Life Wish"]})}),e.jsx(Ne,{wish:i,mode:"edit",onSave:L,onCancel:()=>l(null)})]})})]})})};export{ct as default};
