var K=Object.defineProperty,X=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var L=(l,a,s)=>a in l?K(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s,y=(l,a)=>{for(var s in a||(a={}))ee.call(a,s)&&L(l,s,a[s]);if(I)for(var s of I(a))se.call(a,s)&&L(l,s,a[s]);return l},v=(l,a)=>X(l,Z(a));var V=(l,a,s)=>L(l,typeof a!="symbol"?a+"":a,s);var x=(l,a,s)=>new Promise((t,r)=>{var i=n=>{try{u(s.next(n))}catch(m){r(m)}},o=n=>{try{u(s.throw(n))}catch(m){r(m)}},u=n=>n.done?t(n.value):Promise.resolve(n.value).then(i,o);u((s=s.apply(l,a)).next())});import{r as j,j as e,w as U,G as k,l as P,U as F,p as R,ah as ae,ad as te,ae as ie,o as H,a9 as re}from"./chunk-COTa-BBv.js";import{M as le}from"./chunk-CCzjeD9P.js";import{T as ce,a as ne,b as E,c as q}from"./chunk-Cvi3W8GP.js";import{a as oe,C as p,b as g,B as w,c as z,d as Q,f as de}from"./main-BEfTDqLJ.js";import{I as M}from"./chunk-D_ypG4Oz.js";import{T as Y}from"./chunk-D4l967KG.js";import{B as D}from"./chunk-uGCRAzUf.js";import{S as B,a as O,b as $,c as G,d as b}from"./chunk-4itbAUBr.js";import{A as me,a as he}from"./chunk-CUWa97pq.js";import{s as d}from"./chunk-CasIWBEQ.js";import"./chunk-DvlvDbdf.js";import"./chunk-BlluHz2J.js";import"./chunk-DJzzOJWe.js";import"./chunk-BA32w1ww.js";import"./chunk-lml2Yya-.js";import"./chunk-BbYMEagT.js";import"./chunk-DMZnIisE.js";import"./chunk-DmQrF9DI.js";import"./chunk-CIYZFH9Q.js";import"./chunk-BREtysGH.js";import"./chunk-COG8KeUH.js";import"./chunk-C4jjqBrH.js";const W=class W{static getInstance(){return W.instance||(W.instance=new W),W.instance}createLifeWish(o,u,n,m){return x(this,arguments,function*(a,s,t,r,i=[]){const{data:{user:h}}=yield d.auth.getUser();if(!h)throw new Error("User not authenticated");const{data:S,error:N}=yield d.from("life_wishes").insert({user_id:h.id,title:a,content:s,visibility:t,category:r,tags:i,is_active:!0}).select().single();if(N)throw N;return S})}getUserWishes(){return x(this,null,function*(){const{data:{user:a}}=yield d.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=yield d.from("life_wishes").select("*").eq("user_id",a.id).eq("is_active",!0).order("created_at",{ascending:!1});if(t)throw t;return s||[]})}updateLifeWish(a,s){return x(this,null,function*(){const{data:{user:t}}=yield d.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:i}=yield d.from("life_wishes").update(v(y({},s),{updated_at:new Date().toISOString()})).eq("id",a).eq("user_id",t.id).select().single();if(i)throw i;return r})}deleteLifeWish(a){return x(this,null,function*(){const{data:{user:s}}=yield d.auth.getUser();if(!s)throw new Error("User not authenticated");const{error:t}=yield d.from("life_wishes").update({is_active:!1}).eq("id",a).eq("user_id",s.id);if(t)throw t})}getPublicWishes(a=20,s=0){return x(this,null,function*(){const{data:t,error:r}=yield d.from("life_wishes").select(`
        *,
        profiles:user_id (
          display_name,
          avatar_url,
          is_anonymous
        )
      `).eq("visibility","public").eq("is_active",!0).order("created_at",{ascending:!1}).range(s,s+a-1);if(r)throw r;return t||[]})}getFamilyWishes(){return x(this,null,function*(){const{data:{user:a}}=yield d.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=yield d.from("family_access").select("profile_id").eq("user_id",a.id).eq("status","approved");if(t)throw t;if(s&&s.length>0){const r=s.map(u=>u.profile_id),{data:i,error:o}=yield d.from("life_wishes").select(`
          *,
          profiles:user_id (
            display_name,
            avatar_url
          )
        `).in("user_id",r).eq("visibility","family").eq("is_active",!0).order("created_at",{ascending:!1});if(o)throw o;return i||[]}return[]})}addTimelineEntry(a,s,t=!1){return x(this,null,function*(){const{data:{user:r}}=yield d.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:i,error:o}=yield d.from("life_wishes").select("user_id").eq("id",a).eq("user_id",r.id).single();if(o||!i)throw new Error("Wish not found or access denied");const{data:u,error:n}=yield d.from("life_wish_timeline").insert({user_id:r.id,wish_id:a,content:s,is_public:t}).select().single();if(n)throw n;return u})}getWishTimeline(a){return x(this,null,function*(){const{data:{user:s}}=yield d.auth.getUser();if(!s)throw new Error("User not authenticated");const{data:t,error:r}=yield d.from("life_wish_timeline").select("*").eq("wish_id",a).order("timestamp",{ascending:!1});if(r)throw r;return t||[]})}updateMemorialProfile(a,s,t,r=!1,i){return x(this,null,function*(){const{data:{user:o}}=yield d.auth.getUser();if(!o)throw new Error("User not authenticated");const{data:u,error:n}=yield d.from("memorial_profiles").select("*").eq("user_id",o.id).single();if(n&&n.code!=="PGRST116")throw n;if(u){const{data:m,error:h}=yield d.from("memorial_profiles").update({display_name:a,bio:s,avatar_url:t,is_memorial:r,memorial_date:i,updated_at:new Date().toISOString()}).eq("user_id",o.id).select().single();if(h)throw h;return m}else{const{data:m,error:h}=yield d.from("memorial_profiles").insert({user_id:o.id,display_name:a,bio:s,avatar_url:t,is_memorial:r,memorial_date:i}).select().single();if(h)throw h;return m}})}getMemorialProfile(){return x(this,null,function*(){const{data:{user:a}}=yield d.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=yield d.from("memorial_profiles").select(`
        *,
        life_wishes!inner(*)
      `).eq("user_id",a.id).single();if(t&&t.code!=="PGRST116")throw t;return s||null})}getPublicMemorials(a=20,s=0){return x(this,null,function*(){const{data:t,error:r}=yield d.from("memorial_profiles").select(`
        *,
        life_wishes!inner(*)
      `).eq("is_memorial",!0).order("created_at",{ascending:!1}).range(s,s+a-1);if(r)throw r;return t||[]})}searchWishes(a,s){return x(this,null,function*(){let t=d.from("life_wishes").select(`
        *,
        profiles:user_id (
          display_name,
          avatar_url,
          is_anonymous
        )
      `).eq("visibility","public").eq("is_active",!0);s&&(t=t.eq("category",s)),a&&(t=t.or(`title.ilike.%${a}%,content.ilike.%${a}%,tags.cs.{${a}}`));const{data:r,error:i}=yield t.order("created_at",{ascending:!1});if(i)throw i;return r||[]})}getWishStats(){return x(this,null,function*(){const{data:{user:a}}=yield d.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=yield d.from("life_wishes").select("visibility, category").eq("user_id",a.id).eq("is_active",!0);if(t)throw t;const r={totalWishes:(s==null?void 0:s.length)||0,publicWishes:(s==null?void 0:s.filter(i=>i.visibility==="public").length)||0,privateWishes:(s==null?void 0:s.filter(i=>i.visibility==="private").length)||0,familyWishes:(s==null?void 0:s.filter(i=>i.visibility==="family").length)||0,categories:{}};return s==null||s.forEach(i=>{r.categories[i.category]=(r.categories[i.category]||0)+1}),r})}requestFamilyAccess(a,s){return x(this,null,function*(){const{data:{user:t}}=yield d.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:r}=yield d.from("family_access").insert({user_id:t.id,profile_id:a,relationship:s,status:"pending"});if(r)throw r})}getPendingFamilyRequests(){return x(this,null,function*(){const{data:{user:a}}=yield d.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=yield d.from("family_access").select(`
        *,
        requester:user_id (
          display_name,
          avatar_url
        )
      `).eq("profile_id",a.id).eq("status","pending");if(t)throw t;return s||[]})}updateFamilyAccessRequest(a,s){return x(this,null,function*(){const{data:{user:t}}=yield d.auth.getUser();if(!t)throw new Error("User not authenticated");const{error:r}=yield d.from("family_access").update({status:s}).eq("id",a).eq("profile_id",t.id);if(r)throw r})}};V(W,"instance");let A=W;const _=A.getInstance();function xe({className:l}){const{user:a}=oe(),[s,t]=j.useState("my-wishes"),[r,i]=j.useState(!1),[o,u]=j.useState([]),[n,m]=j.useState(null),[h,S]=j.useState(null);j.useEffect(()=>{a&&N()},[a]);const N=()=>x(null,null,function*(){try{i(!0);const[C,T,c]=yield Promise.all([_.getUserWishes(),_.getMemorialProfile(),_.getWishStats()]);u(C),m(T),S(c)}catch(C){console.error("Error loading user data:",C)}finally{i(!1)}});return a?e.jsxs("div",{className:`space-y-6 ${l}`,children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(U,{className:"h-8 w-8 text-pink-600"}),e.jsx("h1",{className:"text-3xl font-bold",children:"Life Wishes"})]}),e.jsx("p",{className:"text-muted-foreground",children:"Share what you want to be remembered as and create your legacy"})]}),h&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(p,{children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-4 w-4 text-pink-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Total Wishes"})]}),e.jsx("p",{className:"text-2xl font-bold",children:h.totalWishes})]})}),e.jsx(p,{children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Public"})]}),e.jsx("p",{className:"text-2xl font-bold",children:h.publicWishes})]})}),e.jsx(p,{children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Private"})]}),e.jsx("p",{className:"text-2xl font-bold",children:h.privateWishes})]})}),e.jsx(p,{children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4 text-purple-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Family"})]}),e.jsx("p",{className:"text-2xl font-bold",children:h.familyWishes})]})})]}),e.jsxs(ce,{value:s,onValueChange:t,className:"w-full",children:[e.jsxs(ne,{className:"grid w-full grid-cols-4",children:[e.jsx(E,{value:"my-wishes",children:"My Wishes"}),e.jsx(E,{value:"memorial",children:"Memorial"}),e.jsx(E,{value:"community",children:"Community"}),e.jsx(E,{value:"timeline",children:"Timeline"})]}),e.jsx(q,{value:"my-wishes",className:"space-y-4",children:e.jsx(ue,{wishes:o,onRefresh:N})}),e.jsx(q,{value:"memorial",className:"space-y-4",children:e.jsx(fe,{profile:n,onUpdate:N})}),e.jsx(q,{value:"community",className:"space-y-4",children:e.jsx(je,{})}),e.jsx(q,{value:"timeline",className:"space-y-4",children:e.jsx(pe,{wishes:o})})]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs(me,{children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx(he,{children:"Please sign in to access your Life Wishes."})]})})}function ue({wishes:l,onRefresh:a}){const[s,t]=j.useState(!1),[r,i]=j.useState(!1),[o,u]=j.useState(null),[n,m]=j.useState({title:"",content:"",visibility:"private",category:"other",tags:""}),h=()=>{m({title:"",content:"",visibility:"private",category:"other",tags:""}),u(null),t(!1)},S=()=>x(null,null,function*(){if(!(!n.title.trim()||!n.content.trim())){i(!0);try{const c=n.tags.split(",").map(f=>f.trim()).filter(f=>f);o?yield _.updateLifeWish(o.id,n):yield _.createLifeWish(n.title,n.content,n.visibility,n.category,c),h(),a()}catch(c){console.error("Error saving wish:",c)}finally{i(!1)}}}),N=c=>x(null,null,function*(){if(confirm("Are you sure you want to delete this wish?"))try{yield _.deleteLifeWish(c),a()}catch(f){console.error("Error deleting wish:",f)}}),C=c=>{m({title:c.title,content:c.content,visibility:c.visibility,category:c.category,tags:c.tags.join(", ")}),u(c),t(!0)},T=c=>{switch(c){case"public":return e.jsx(k,{className:"h-4 w-4 text-green-500"});case"private":return e.jsx(P,{className:"h-4 w-4 text-blue-500"});case"family":return e.jsx(F,{className:"h-4 w-4 text-purple-500"});default:return e.jsx(P,{className:"h-4 w-4 text-gray-500"})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"My Life Wishes"}),e.jsxs(w,{onClick:()=>t(!0),children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"New Wish"]})]}),s&&e.jsxs(p,{children:[e.jsx(z,{children:e.jsx(Q,{children:o?"Edit Wish":"Create New Wish"})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Title"}),e.jsx(M,{value:n.title,onChange:c=>m(f=>v(y({},f),{title:c.target.value})),placeholder:"What do you want to be remembered for?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Content"}),e.jsx(Y,{value:n.content,onChange:c=>m(f=>v(y({},f),{content:c.target.value})),placeholder:"Share your thoughts, values, memories, or advice...",rows:6})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Visibility"}),e.jsxs(B,{value:n.visibility,onValueChange:c=>m(f=>v(y({},f),{visibility:c})),children:[e.jsx(O,{children:e.jsx($,{})}),e.jsxs(G,{children:[e.jsx(b,{value:"private",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Private"})]})}),e.jsx(b,{value:"family",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:"Family Only"})]})}),e.jsx(b,{value:"public",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Public"})]})})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Category"}),e.jsxs(B,{value:n.category,onValueChange:c=>m(f=>v(y({},f),{category:c})),children:[e.jsx(O,{children:e.jsx($,{})}),e.jsxs(G,{children:[e.jsx(b,{value:"legacy",children:"Legacy"}),e.jsx(b,{value:"values",children:"Values"}),e.jsx(b,{value:"memories",children:"Memories"}),e.jsx(b,{value:"advice",children:"Advice"}),e.jsx(b,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Tags (comma-separated)"}),e.jsx(M,{value:n.tags,onChange:c=>m(f=>v(y({},f),{tags:c.target.value})),placeholder:"family, love, kindness, wisdom..."})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(w,{onClick:S,disabled:r||!n.title.trim()||!n.content.trim(),children:r?"Saving...":o?"Update Wish":"Create Wish"}),e.jsx(w,{variant:"outline",onClick:h,children:"Cancel"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[l.map(c=>e.jsx(p,{children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[T(c.visibility),e.jsx(D,{variant:"outline",children:c.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(c.createdAt).toLocaleDateString()})]}),e.jsx("h4",{className:"font-medium mb-2",children:c.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 whitespace-pre-wrap",children:c.content}),c.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:c.tags.map((f,J)=>e.jsxs(D,{variant:"secondary",className:"text-xs",children:[e.jsx(ae,{className:"h-3 w-3 mr-1"}),f]},J))})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(w,{variant:"outline",size:"sm",onClick:()=>C(c),children:e.jsx(te,{className:"h-4 w-4"})}),e.jsx(w,{variant:"outline",size:"sm",onClick:()=>N(c.id),children:e.jsx(ie,{className:"h-4 w-4"})})]})]})})},c.id)),l.length===0&&e.jsx(p,{children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No life wishes yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Share what you want to be remembered for"}),e.jsxs(w,{onClick:()=>t(!0),className:"mt-4",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Create Your First Wish"]})]})})]})]})}function fe({profile:l,onUpdate:a}){const[s,t]=j.useState(!1),[r,i]=j.useState(!1),[o,u]=j.useState({displayName:"",bio:"",avatar:"",isMemorial:!1,memorialDate:""});j.useEffect(()=>{l&&u({displayName:l.displayName||"",bio:l.bio||"",avatar:l.avatar||"",isMemorial:l.isMemorial||!1,memorialDate:l.memorialDate||""})},[l]);const n=()=>x(null,null,function*(){if(o.displayName.trim()){i(!0);try{yield _.updateMemorialProfile(o.displayName,o.bio,o.avatar,o.isMemorial,o.memorialDate||void 0),t(!1),a()}catch(m){console.error("Error updating profile:",m)}finally{i(!1)}}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Memorial Profile"}),e.jsx(w,{onClick:()=>t(!0),children:l?"Edit Profile":"Create Profile"})]}),l&&!s&&e.jsx(p,{children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[l.avatar&&e.jsx("img",{src:l.avatar,alt:l.displayName,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-xl font-semibold",children:l.displayName}),e.jsx("p",{className:"text-muted-foreground mt-1",children:l.bio}),l.isMemorial&&l.memorialDate&&e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(H,{className:"h-4 w-4 text-red-500"}),e.jsxs("span",{className:"text-sm text-red-600",children:["In Loving Memory â€¢ ",new Date(l.memorialDate).toLocaleDateString()]})]})]})]})})}),s&&e.jsxs(p,{children:[e.jsxs(z,{children:[e.jsx(Q,{children:"Memorial Profile"}),e.jsx(de,{children:"Set up how you want to be remembered in the community"})]}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Display Name"}),e.jsx(M,{value:o.displayName,onChange:m=>u(h=>v(y({},h),{displayName:m.target.value})),placeholder:"How should you be remembered?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Bio"}),e.jsx(Y,{value:o.bio,onChange:m=>u(h=>v(y({},h),{bio:m.target.value})),placeholder:"Tell your story...",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Avatar URL (Optional)"}),e.jsx(M,{value:o.avatar,onChange:m=>u(h=>v(y({},h),{avatar:m.target.value})),placeholder:"https://example.com/avatar.jpg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isMemorial",checked:o.isMemorial,onChange:m=>u(h=>v(y({},h),{isMemorial:m.target.checked}))}),e.jsx("label",{htmlFor:"isMemorial",className:"text-sm font-medium",children:"This is a memorial profile"})]}),o.isMemorial&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Memorial Date"}),e.jsx(M,{type:"date",value:o.memorialDate,onChange:m=>u(h=>v(y({},h),{memorialDate:m.target.value}))})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(w,{onClick:n,disabled:r||!o.displayName.trim(),children:r?"Saving...":"Save Profile"}),e.jsx(w,{variant:"outline",onClick:()=>t(!1),children:"Cancel"})]})]})]})]})}function je(){const[l,a]=j.useState([]),[s,t]=j.useState(!1);j.useEffect(()=>{r()},[]);const r=()=>x(null,null,function*(){try{t(!0);const i=yield _.getPublicMemorials();a(i)}catch(i){console.error("Error loading memorials:",i)}finally{t(!1)}});return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Community Memorials"}),e.jsxs("div",{className:"grid gap-4",children:[l.map(i=>e.jsx(p,{children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[i.avatar_url&&e.jsx("img",{src:i.avatar_url,alt:i.display_name,className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium",children:i.display_name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:i.bio}),i.memorial_date&&e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(H,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-600",children:new Date(i.memorial_date).toLocaleDateString()})]}),e.jsx("div",{className:"mt-2",children:e.jsxs(D,{variant:"outline",children:[i.wish_count," wishes"]})})]})]})})},i.id)),l.length===0&&!s&&e.jsx(p,{children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No public memorials yet"})]})}),s&&e.jsx("div",{className:"text-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-pink-500 mx-auto"})})]})]})}function pe({wishes:l}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Wish Timeline"}),e.jsxs("div",{className:"space-y-4",children:[l.map(a=>e.jsx(p,{children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h4",{className:"font-medium",children:a.title}),e.jsx(D,{variant:"outline",children:a.category}),e.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(a.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:a.content})]})]})})},a.id)),l.length===0&&e.jsx(p,{children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx(re,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"No wishes in your timeline yet"})]})})]})]})}function Re(){return e.jsx(le,{children:e.jsx(xe,{})})}export{Re as default};
