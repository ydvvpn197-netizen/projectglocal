var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{b as o,u as l,r as c,j as m,B as d}from"./index-B5IYdG7F.js";import{C as p,a as j,b as x,d as h}from"./card-Bm1jiGt-.js";import{I as v}from"./input-C4_QhDnm.js";import{L as g}from"./label-BIAuZBUP.js";import{T as u}from"./textarea-DnhiZrYB.js";import{S as f,a as _,b as y,c as b,d as N}from"./select-DME_qdt9.js";import{R as C}from"./ResponsiveLayout-BzUw0buI.js";import{u as w}from"./useEvents-CUKPPFr-.js";import{C as O}from"./index-DD_J5sPn.js";import{C as S}from"./clock-BZvZzp4Q.js";import{M as F}from"./map-pin-BwnggLrZ.js";import{U as E}from"./users-Dh-Bdb-k.js";import{D}from"./dollar-sign-DW2P0OIR.js";import{T as P}from"./tag-Dx1_YTf2.js";import"./index-jVOyRz7F.js";import"./index-9msbY5CZ.js";import"./Combination-BxRIZ8rt.js";import"./index-_KG4atBu.js";import"./chevron-up-DvjQ7ry8.js";import"./check-C9wwFfOs.js";import"./separator-BZYZTYLW.js";import"./sheet-CgDUfSpi.js";import"./NotificationBell-DtnEojo4.js";import"./badge-Dh5Uj8vN.js";import"./scroll-area-Beiyt5Kx.js";import"./useNotifications-C0wifgqF.js";import"./tabs-DPPBWbFC.js";import"./bell-qeMkXRtc.js";import"./settings-DSEWn2wM.js";import"./user-UOowhO7W.js";import"./index-DWtoKlrM.js";import"./NotificationButton-CqXjP_LK.js";import"./search-Co_OHmlK.js";import"./zap-DPSXpNso.js";import"./message-square-j4RxGxzk.js";import"./alert-CQybxmNr.js";import"./log-out-DchhrZ8K.js";import"./useLocation-BN9qq_uk.js";import"./locationService-BBE-Ay-I.js";import"./pointsService-D9LdhHSC.js";const T=()=>{const e=o(),{user:T}=l(),{createEvent:q}=w(),[I,B]=c.useState(!1),[L,k]=c.useState({title:"",description:"",event_date:"",event_time:"",location_name:"",category:"",max_attendees:"",price:"",image_url:"",tags:""}),M=(e,o)=>{k(l=>((e,a)=>t(e,s(a)))(((e,t)=>{for(var s in t||(t={}))r.call(t,s)&&n(e,s,t[s]);if(a)for(var s of a(t))i.call(t,s)&&n(e,s,t[s]);return e})({},l),{[e]:o}))};return m.jsx(C,{children:m.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(O,{className:"h-6 w-6 text-primary"}),m.jsx("h1",{className:"text-3xl font-bold",children:"Create Event"})]}),m.jsxs(p,{children:[m.jsx(j,{children:m.jsx(x,{children:"Event Details"})}),m.jsx(h,{children:m.jsxs("form",{onSubmit:t=>((e,s,a)=>new Promise((r,i)=>{var n=e=>{try{l(a.next(e))}catch(t){i(t)}},o=e=>{try{l(a.throw(e))}catch(t){i(t)}},l=e=>e.done?r(e.value):Promise.resolve(e.value).then(n,o);l((a=a.apply(e,s)).next())}))(void 0,null,function*(){if(t.preventDefault(),!T)return void e("/signin");B(!0);const s={title:L.title,description:L.description,event_date:L.event_date,event_time:L.event_time,location_name:L.location_name,category:L.category||void 0,max_attendees:L.max_attendees?parseInt(L.max_attendees):void 0,price:L.price?parseFloat(L.price):0,image_url:L.image_url||void 0,tags:L.tags?L.tags.split(",").map(e=>e.trim()):void 0};(yield q(s))&&e("/events"),B(!1)}),className:"space-y-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(g,{htmlFor:"title",children:"Event Title *"}),m.jsx(v,{id:"title",value:L.title,onChange:e=>M("title",e.target.value),placeholder:"Enter event title",required:!0})]}),m.jsxs("div",{children:[m.jsx(g,{htmlFor:"description",children:"Description"}),m.jsx(u,{id:"description",value:L.description,onChange:e=>M("description",e.target.value),placeholder:"Describe your event",rows:3})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"event_date",className:"flex items-center gap-2",children:[m.jsx(O,{className:"h-4 w-4"}),"Date *"]}),m.jsx(v,{id:"event_date",type:"date",value:L.event_date,onChange:e=>M("event_date",e.target.value),min:(new Date).toISOString().split("T")[0],required:!0})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"event_time",className:"flex items-center gap-2",children:[m.jsx(S,{className:"h-4 w-4"}),"Time *"]}),m.jsx(v,{id:"event_time",type:"time",value:L.event_time,onChange:e=>M("event_time",e.target.value),required:!0})]})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"location_name",className:"flex items-center gap-2",children:[m.jsx(F,{className:"h-4 w-4"}),"Location *"]}),m.jsx(v,{id:"location_name",value:L.location_name,onChange:e=>M("location_name",e.target.value),placeholder:"Event venue or address",required:!0})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(g,{children:"Category"}),m.jsxs(f,{value:L.category,onValueChange:e=>M("category",e),children:[m.jsx(_,{children:m.jsx(y,{placeholder:"Select category"})}),m.jsx(b,{children:["Art & Culture","Music","Food & Drink","Sports & Fitness","Technology","Business","Education","Health & Wellness","Community","Entertainment","Other"].map(e=>m.jsx(N,{value:e,children:e},e))})]})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"max_attendees",className:"flex items-center gap-2",children:[m.jsx(E,{className:"h-4 w-4"}),"Max Attendees"]}),m.jsx(v,{id:"max_attendees",type:"number",value:L.max_attendees,onChange:e=>M("max_attendees",e.target.value),placeholder:"Optional",min:"1"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"price",className:"flex items-center gap-2",children:[m.jsx(D,{className:"h-4 w-4"}),"Price (USD)"]}),m.jsx(v,{id:"price",type:"number",value:L.price,onChange:e=>M("price",e.target.value),placeholder:"0 for free events",min:"0",step:"0.01"})]}),m.jsxs("div",{children:[m.jsx(g,{htmlFor:"image_url",children:"Image URL"}),m.jsx(v,{id:"image_url",type:"url",value:L.image_url,onChange:e=>M("image_url",e.target.value),placeholder:"Optional event image"})]})]}),m.jsxs("div",{children:[m.jsxs(g,{htmlFor:"tags",className:"flex items-center gap-2",children:[m.jsx(P,{className:"h-4 w-4"}),"Tags"]}),m.jsx(v,{id:"tags",value:L.tags,onChange:e=>M("tags",e.target.value),placeholder:"photography, outdoor, beginner (comma separated)"})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsx(d,{type:"submit",disabled:I,className:"flex-1",children:I?"Creating...":"Create Event"}),m.jsx(d,{type:"button",variant:"outline",onClick:()=>e("/events"),children:"Cancel"})]})]})})]})]})})};export{T as default};
