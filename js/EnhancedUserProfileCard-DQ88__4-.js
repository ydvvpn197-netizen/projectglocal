var N=(s,b,o)=>new Promise((v,g)=>{var u=c=>{try{m(o.next(c))}catch(L){g(L)}},F=c=>{try{m(o.throw(c))}catch(L){g(L)}},m=c=>c.done?v(c.value):Promise.resolve(c.value).then(u,F);m((o=o.apply(s,b)).next())});import{r as l,j as e,C,b as x,p as X,v as y,B as i}from"./main-jfCIwKxb.js";import{A as P,b as z,c as U,S as V,E as me}from"./ResponsiveLayout-Dd-U-XTf.js";import{B as f}from"./badge-Cxniq3nT.js";import{C as I}from"./check-circle-DlKkeJkD.js";import{M as H}from"./map-pin-B5hnRU36.js";import{T as he}from"./trending-up-XhhBv7nP.js";import{M as fe}from"./mail-Cm13v54X.js";import{U as Y}from"./user-plus-mmQnd1x9.js";import{M as ee}from"./message-circle-BzbuDOEE.js";import{P as je}from"./pen-square-Ciuy6KYM.js";import{S as Ne}from"./share-2-DOcEOH4v.js";import{Z as be}from"./zap-C2TAeX5H.js";import{U as ve}from"./alert-f_BC70aV.js";import{U as $}from"./user-cZSM4iEh.js";import{G as ge}from"./globe-DZ7FpNQD.js";import{P as ue}from"./phone-iat_oT5N.js";import{H as pe}from"./plus-Bi3vU8QF.js";import{M as we}from"./message-square-oWFCH1Pi.js";import{S as ke}from"./shield-C-Scp_5m.js";const qe=({user:s,onFollow:b,onMessage:o,onViewProfile:v,onShare:g,onEdit:u,onContact:F,showActions:m=!0,showStats:c=!0,showSocialLinks:L=!1,showSkills:A=!1,showInterests:Ce=!1,className:p,variant:E="default",loading:se=!1,error:ae=null,animate:B=!0,interactive:M=!0})=>{var Q;const[j,le]=l.useState(s.isFollowing||!1),[t,r]=l.useState(!1),[q,n]=l.useState(ae),[te,O]=l.useState(!1),[w,ie]=l.useState(!1),[D,re]=l.useState(0),ne=l.useCallback(()=>{ie(!w),re(a=>w?a-1:a+1)},[w]),K=l.useCallback(a=>{O(a)},[]),d=l.useMemo(()=>s.name?s.name:"Anonymous User",[s.name]),k=l.useMemo(()=>s.bio?s.bio:null,[s.bio]),h=l.useMemo(()=>s.location?s.location:null,[s.location]),T=l.useMemo(()=>d.charAt(0).toUpperCase(),[d]),G=l.useMemo(()=>s.verified===!0,[s.verified]),R=l.useMemo(()=>s.isOnline===!0,[s.isOnline]),W=l.useMemo(()=>s.isPremium===!0,[s.isPremium]);l.useMemo(()=>s.isFeatured===!0,[s.isFeatured]);const _=l.useCallback(()=>N(void 0,null,function*(){if(!(!b||t))try{r(!0),n(null),yield b(s.id),le(!j)}catch(a){n(a instanceof Error?a.message:"Failed to follow user")}finally{r(!1)}}),[b,s.id,j,t]),Z=l.useCallback(()=>N(void 0,null,function*(){if(!(!o||t))try{r(!0),n(null),yield o(s.id)}catch(a){n(a instanceof Error?a.message:"Failed to send message")}finally{r(!1)}}),[o,s.id,t]),de=l.useCallback(()=>N(void 0,null,function*(){if(!(!v||t))try{r(!0),n(null),yield v(s.id)}catch(a){n(a instanceof Error?a.message:"Failed to view profile")}finally{r(!1)}}),[v,s.id,t]),ce=l.useCallback(()=>N(void 0,null,function*(){if(!(!g||t))try{r(!0),n(null),yield g(s.id)}catch(a){n(a instanceof Error?a.message:"Failed to share profile")}finally{r(!1)}}),[g,s.id,t]),oe=l.useCallback(()=>N(void 0,null,function*(){if(!(!u||t))try{r(!0),n(null),yield u(s.id)}catch(a){n(a instanceof Error?a.message:"Failed to edit profile")}finally{r(!1)}}),[u,s.id,t]),xe=l.useCallback(()=>N(void 0,null,function*(){if(!(!F||t))try{r(!0),n(null),yield F(s.id)}catch(a){n(a instanceof Error?a.message:"Failed to contact user")}finally{r(!1)}}),[F,s.id,t]);if(se)return e.jsxs(C,{className:x("w-full animate-pulse",p),"data-testid":"loading-skeleton",children:[e.jsx(X,{className:"pb-4",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-muted rounded-full"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-4 bg-muted rounded w-32"}),e.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]})}),e.jsxs(y,{className:"space-y-3",children:[e.jsx("div",{className:"h-3 bg-muted rounded w-full"}),e.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]});const J=q&&e.jsxs("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[e.jsx(ke,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Error loading profile"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:q})]});return E==="minimal"?e.jsx(C,{className:x("w-full transition-all duration-200",M&&"hover:shadow-md cursor-pointer",B&&"animate-in fade-in-0 slide-in-from-bottom-2",p),onMouseEnter:()=>M&&O(!0),onMouseLeave:()=>M&&O(!1),"data-testid":"enhanced-user-profile-card-minimal",children:e.jsx(y,{className:"p-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(P,{className:"h-10 w-10",children:[e.jsx(z,{src:s.avatar,alt:d}),e.jsx(U,{className:"text-sm",children:T})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-medium text-sm truncate",children:d}),G&&e.jsx(I,{className:"h-3 w-3 text-blue-500 flex-shrink-0","data-testid":"verified-badge"}),R&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full","data-testid":"online-indicator"})]}),h&&e.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),h]})]})]})})}):E==="compact"?e.jsx(C,{className:x("w-full transition-all duration-200",M&&"hover:shadow-md",B&&"animate-in fade-in-0 slide-in-from-bottom-2",p),"data-testid":"enhanced-user-profile-card-compact",children:e.jsxs(y,{className:"p-4",children:[J,e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(P,{className:"h-12 w-12",children:[e.jsx(z,{src:s.avatar,alt:d}),e.jsx(U,{children:T})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h3",{className:"font-semibold text-sm truncate",children:d}),G&&e.jsx(I,{className:"h-4 w-4 text-blue-500 flex-shrink-0","data-testid":"verified-badge"}),R&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full","data-testid":"online-indicator"}),W&&e.jsx(V,{className:"h-4 w-4 text-yellow-500 flex-shrink-0","data-testid":"premium-badge"})]}),k&&e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:k}),h&&e.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),h]})]}),m&&e.jsx(i,{size:"sm",variant:j?"outline":"default",onClick:_,disabled:t,className:"flex-shrink-0",children:j?"Following":"Follow"})]})]})}):E==="default"?e.jsxs(C,{className:x("w-full transition-all duration-200",M&&"hover:shadow-md hover:scale-[1.02]",B&&"animate-in fade-in-0 slide-in-from-bottom-2",te&&"shadow-lg ring-2 ring-primary/20",p),"data-testid":"enhanced-user-profile-card-default",onMouseEnter:()=>K(!0),onMouseLeave:()=>K(!1),children:[J,e.jsx(X,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(P,{className:"h-20 w-20",children:[e.jsx(z,{src:s.avatar,alt:d}),e.jsx(U,{className:"text-lg",children:T})]}),R&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-background","data-testid":"online-indicator"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h2",{className:"text-xl font-bold",children:d}),G&&e.jsx(I,{className:"h-5 w-5 text-blue-500","data-testid":"verified-badge"}),((Q=s.badges)==null?void 0:Q.includes("trending"))&&e.jsx(he,{className:"h-5 w-5 text-orange-500","data-testid":"trending-badge"}),W&&e.jsx(V,{className:"h-5 w-5 text-yellow-500","data-testid":"premium-badge"})]}),k&&e.jsx("p",{className:"text-muted-foreground",children:k}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[h&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:h})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:s.email})]})]})]})]}),m&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(i,{variant:j?"outline":"default",onClick:_,disabled:t,className:"flex-shrink-0","aria-label":`${j?"Unfollow":"Follow"} ${d}`,children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),j?"Following":"Follow",t&&e.jsx("span",{"data-testid":"loading-indicator",className:"ml-2",children:"..."})]}),e.jsxs(i,{variant:"outline",onClick:Z,disabled:t,className:"flex-shrink-0",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Message"]}),u&&e.jsxs(i,{variant:"ghost",size:"sm",onClick:oe,disabled:t,className:"flex-shrink-0","aria-label":"Edit profile",children:[e.jsx(je,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]}),e.jsxs(i,{variant:"ghost",size:"sm",onClick:ce,disabled:t,className:"flex-shrink-0","aria-label":"Share profile",children:[e.jsx(Ne,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Share"})]})]})]})}),e.jsxs(y,{className:"space-y-4",children:[A&&s.skills&&s.skills.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.skills.map((a,S)=>e.jsxs(f,{variant:"secondary",children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),a]},S))})]}),c&&(s.followersCount!==void 0||s.followingCount!==void 0)&&e.jsxs("div",{className:"flex items-center space-x-6 py-4 border-t",children:[s.followersCount!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.followersCount.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Followers"})]}),s.followingCount!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.followingCount.toLocaleString()}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Following"})]}),s.eventsCount!==void 0&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.eventsCount}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Events"})]})]}),L&&s.socialLinks&&e.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t",children:[s.socialLinks.twitter&&e.jsx(i,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs("a",{href:s.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:[e.jsx(ve,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Twitter"})]})}),s.socialLinks.linkedin&&e.jsx(i,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs("a",{href:s.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"LinkedIn"})]})}),s.socialLinks.github&&e.jsx(i,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs("a",{href:s.socialLinks.github,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:[e.jsx(me,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"GitHub"})]})}),s.socialLinks.website&&e.jsx(i,{variant:"ghost",size:"sm",asChild:!0,children:e.jsxs("a",{href:s.socialLinks.website,target:"_blank",rel:"noopener noreferrer","aria-label":"Website",children:[e.jsx(ge,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Website"})]})}),s.socialLinks.phone&&e.jsxs(i,{variant:"ghost",size:"sm",onClick:xe,"aria-label":"Phone",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Phone"})]})]}),v&&e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(i,{variant:"outline",onClick:de,disabled:t,className:"w-full",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"View Full Profile"]})}),e.jsx("div",{className:"pt-4 border-t",children:e.jsxs(i,{variant:"ghost",size:"sm",onClick:ne,className:x("w-full transition-all duration-200",w&&"text-red-500 hover:text-red-600"),children:[e.jsx(pe,{className:x("h-4 w-4 mr-2 transition-all duration-200",w&&"fill-current")}),w?"Liked":"Like"," ",D>0&&`(${D})`]})})]})]}):E==="enterprise"?e.jsxs(C,{className:x("relative overflow-hidden border-2 border-slate-200 bg-gradient-to-br from-slate-50 to-slate-100 shadow-xl","hover:shadow-2xl hover:border-slate-300 transition-all duration-300",p),children:[e.jsx("div",{className:"absolute top-0 right-0 bg-slate-800 text-white px-3 py-1 text-xs font-bold rounded-bl-lg",children:"ENTERPRISE"}),e.jsxs(y,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(P,{className:"h-20 w-20 border-4 border-slate-200",children:[e.jsx(z,{src:s.avatar,alt:s.name}),e.jsx(U,{className:"text-lg font-bold bg-slate-700 text-white",children:s.name.split(" ").map(a=>a[0]).join("")})]}),s.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 bg-green-500 border-4 border-white rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-800 truncate",children:s.name}),s.verified&&e.jsxs(f,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[e.jsx(I,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),s.bio&&e.jsx("p",{className:"text-slate-600 text-sm mb-3 line-clamp-2",children:s.bio}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:s.eventsCount||0}),e.jsx("div",{className:"text-xs text-slate-500",children:"Events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:s.projectsCount||0}),e.jsx("div",{className:"text-xs text-slate-500",children:"Projects"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:s.followersCount||0}),e.jsx("div",{className:"text-xs text-slate-500",children:"Followers"})]})]}),A&&s.skills&&s.skills.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Key Skills"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.skills.slice(0,4).map((a,S)=>e.jsx(f,{variant:"outline",className:"text-xs bg-slate-100 border-slate-300",children:a},S)),s.skills.length>4&&e.jsxs(f,{variant:"outline",className:"text-xs bg-slate-100 border-slate-300",children:["+",s.skills.length-4," more"]})]})]})]})]}),m&&e.jsxs("div",{className:"flex space-x-2 mt-4 pt-4 border-t border-slate-200",children:[e.jsxs(i,{size:"sm",className:"flex-1 bg-slate-800 hover:bg-slate-900",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),"View Profile"]}),e.jsxs(i,{size:"sm",variant:"outline",className:"border-slate-300",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}):E==="dark"?e.jsxs(C,{className:x("relative overflow-hidden border border-slate-700 bg-gradient-to-br from-slate-900 to-slate-800 text-white shadow-2xl","hover:shadow-slate-900/50 hover:border-slate-600 transition-all duration-300",p),children:[e.jsx("div",{className:"absolute top-0 right-0 bg-slate-600 text-slate-200 px-3 py-1 text-xs font-bold rounded-bl-lg",children:"DARK"}),e.jsx(y,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(P,{className:"h-20 w-20 border-4 border-slate-600 ring-2 ring-slate-500",children:[e.jsx(z,{src:s.avatar,alt:d}),e.jsx(U,{className:"bg-slate-700 text-slate-200 text-xl font-bold",children:d.charAt(0)})]}),s.isOnline&&e.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 border-2 border-slate-800 rounded-full"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white truncate",children:d}),s.verified&&e.jsxs(f,{className:"bg-blue-600 text-white text-xs",children:[e.jsx(I,{className:"h-3 w-3 mr-1"}),"Verified"]}),s.isPremium&&e.jsxs(f,{className:"bg-amber-600 text-white text-xs",children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),k&&e.jsx("p",{className:"text-slate-300 text-sm mb-3 line-clamp-2",children:k}),h&&e.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-3",children:[e.jsx(H,{className:"h-4 w-4 mr-2"}),h]})]})}),c&&e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.followersCount||0}),e.jsx("div",{className:"text-xs text-slate-400",children:"Followers"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.followingCount||0}),e.jsx("div",{className:"text-xs text-slate-400",children:"Following"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:s.eventsCount||0}),e.jsx("div",{className:"text-xs text-slate-400",children:"Events"})]})]}),A&&s.skills&&s.skills.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Skills"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.skills.slice(0,3).map((a,S)=>e.jsx(f,{variant:"secondary",className:"bg-slate-700 text-slate-200 border-slate-600",children:a},S)),s.skills.length>3&&e.jsxs(f,{variant:"secondary",className:"bg-slate-700 text-slate-200 border-slate-600",children:["+",s.skills.length-3," more"]})]})]}),m&&e.jsxs("div",{className:"flex gap-2",children:[b&&e.jsxs(i,{variant:s.isFollowing?"default":"outline",size:"sm",onClick:_,disabled:t,className:x("flex-1",s.isFollowing?"bg-slate-600 hover:bg-slate-700 text-white":"border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white"),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),s.isFollowing?"Following":"Follow"]}),o&&e.jsxs(i,{variant:"outline",size:"sm",onClick:Z,disabled:t,className:"border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Message"]})]})]})]})})]}):null};export{qe as E};
