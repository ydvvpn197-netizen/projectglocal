var Re=Object.defineProperty,Se=Object.defineProperties;var ke=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var W=(r,a,s)=>a in r?Re(r,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[a]=s,x=(r,a)=>{for(var s in a||(a={}))$.call(a,s)&&W(r,s,a[s]);if(F)for(var s of F(a))J.call(a,s)&&W(r,s,a[s]);return r},g=(r,a)=>Se(r,ke(a));var R=(r,a)=>{var s={};for(var o in r)$.call(r,o)&&a.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&F)for(var o of F(r))a.indexOf(o)<0&&J.call(r,o)&&(s[o]=r[o]);return s};var H=(r,a,s)=>new Promise((o,t)=>{var c=d=>{try{u(s.next(d))}catch(h){t(h)}},n=d=>{try{u(s.throw(d))}catch(h){t(h)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(c,n);u((s=s.apply(r,a)).next())});import{r as l,h as Ie,j as e,i as Z,P as M,k as U,l as T,n as Ae,o as Ee,R as ee,b as se,u as Fe,f as Me,C as Pe,p as Ge,q as De,t as _e,v as Le,B as A,L as He}from"./main-jfCIwKxb.js";import{u as Te,I as S}from"./index-DGobKVbi.js";import{L as f}from"./label-BhjyL16S.js";import{d as re,R as Be,I as Ue,T as qe,a as ze,b as X,c as Y}from"./tabs-Bho2AISw.js";import{S as Q}from"./separator-CQeeh5sy.js";import{U as Oe}from"./UniformHeader-Bapf2pDd.js";import{u as Ve}from"./index-BqrjOP3n.js";import{a as Ke}from"./index-DCmZQWeX.js";import{T as We}from"./textarea-Dm2RgXBl.js";import{S as $e,a as Je,b as Xe,c as Ye,d as k}from"./select-BK9ujtwJ.js";import"./useLocationManager-FvdWdASY.js";import"./locationService-D_4XBFWa.js";import"./databaseUtils-Cc-GydU0.js";import"./badge-Cxniq3nT.js";import"./index-CaL9moq2.js";import"./scroll-area-Bsyy6uVd.js";import"./useNotifications-DlynYvan.js";import"./notificationService-DPR46Nx3.js";import"./bell-CXNc_0l5.js";import"./check-CWeqS_MX.js";import"./user-cZSM4iEh.js";import"./search-DIpOLffQ.js";import"./map-pin-B5hnRU36.js";import"./log-out-CxjypOOW.js";import"./chevron-up-DhaGujCg.js";var q="Radio",[Qe,ae]=Z(q),[Ze,es]=Qe(q),te=l.forwardRef((r,a)=>{const N=r,{__scopeRadio:s,name:o,checked:t=!1,required:c,disabled:n,value:u="on",onCheck:d,form:h}=N,y=R(N,["__scopeRadio","name","checked","required","disabled","value","onCheck","form"]),[v,p]=l.useState(null),b=U(a,C=>p(C)),m=l.useRef(!1),j=v?h||!!v.closest("form"):!0;return e.jsxs(Ze,{scope:s,checked:t,disabled:n,children:[e.jsx(M.button,g(x({type:"button",role:"radio","aria-checked":t,"data-state":ne(t),"data-disabled":n?"":void 0,disabled:n,value:u},y),{ref:b,onClick:T(r.onClick,C=>{t||d==null||d(),j&&(m.current=C.isPropagationStopped(),m.current||C.stopPropagation())})})),j&&e.jsx(le,{control:v,bubbles:!m.current,name:o,value:u,checked:t,required:c,disabled:n,form:h,style:{transform:"translateX(-100%)"}})]})});te.displayName=q;var oe="RadioIndicator",ie=l.forwardRef((r,a)=>{const n=r,{__scopeRadio:s,forceMount:o}=n,t=R(n,["__scopeRadio","forceMount"]),c=es(oe,s);return e.jsx(Ae,{present:o||c.checked,children:e.jsx(M.span,g(x({"data-state":ne(c.checked),"data-disabled":c.disabled?"":void 0},t),{ref:a}))})});ie.displayName=oe;var ss="RadioBubbleInput",le=l.forwardRef((n,c)=>{var u=n,{__scopeRadio:r,control:a,checked:s,bubbles:o=!0}=u,t=R(u,["__scopeRadio","control","checked","bubbles"]);const d=l.useRef(null),h=U(d,c),y=Ve(s),v=Ee(a);return l.useEffect(()=>{const p=d.current;if(!p)return;const b=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(b,"checked").set;if(y!==s&&j){const N=new Event("click",{bubbles:o});j.call(p,s),p.dispatchEvent(N)}},[y,s,o]),e.jsx(M.input,g(x({type:"radio","aria-hidden":!0,defaultChecked:s},t),{tabIndex:-1,ref:h,style:g(x(x({},t.style),v),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});le.displayName=ss;function ne(r){return r?"checked":"unchecked"}var rs=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],P="RadioGroup",[as,Gs]=Z(P,[re,ae]),ce=re(),de=ae(),[ts,os]=as(P),ue=l.forwardRef((r,a)=>{const C=r,{__scopeRadioGroup:s,name:o,defaultValue:t,value:c,required:n=!1,disabled:u=!1,orientation:d,dir:h,loop:y=!0,onValueChange:v}=C,p=R(C,["__scopeRadioGroup","name","defaultValue","value","required","disabled","orientation","dir","loop","onValueChange"]),b=ce(s),m=Te(h),[j,N]=Ie({prop:c,defaultProp:t!=null?t:null,onChange:v,caller:P});return e.jsx(ts,{scope:s,name:o,required:n,disabled:u,value:j,onValueChange:N,children:e.jsx(Be,g(x({asChild:!0},b),{orientation:d,dir:m,loop:y,children:e.jsx(M.div,g(x({role:"radiogroup","aria-required":n,"aria-orientation":d,"data-disabled":u?"":void 0,dir:m},p),{ref:a}))}))})});ue.displayName=P;var me="RadioGroupItem",pe=l.forwardRef((r,a)=>{const b=r,{__scopeRadioGroup:s,disabled:o}=b,t=R(b,["__scopeRadioGroup","disabled"]),c=os(me,s),n=c.disabled||o,u=ce(s),d=de(s),h=l.useRef(null),y=U(a,h),v=c.value===t.value,p=l.useRef(!1);return l.useEffect(()=>{const m=N=>{rs.includes(N.key)&&(p.current=!0)},j=()=>p.current=!1;return document.addEventListener("keydown",m),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",m),document.removeEventListener("keyup",j)}},[]),e.jsx(Ue,g(x({asChild:!0},u),{focusable:!n,active:v,children:e.jsx(te,g(x(x({disabled:n,required:c.required,checked:v},d),t),{name:c.name,ref:y,onCheck:()=>c.onValueChange(t.value),onKeyDown:T(m=>{m.key==="Enter"&&m.preventDefault()}),onFocus:T(t.onFocus,()=>{var m;p.current&&((m=h.current)==null||m.click())})}))}))});pe.displayName=me;var is="RadioGroupIndicator",he=l.forwardRef((r,a)=>{const c=r,{__scopeRadioGroup:s}=c,o=R(c,["__scopeRadioGroup"]),t=de(s);return e.jsx(ie,g(x(x({},t),o),{ref:a}))});he.displayName=is;var xe=ue,fe=pe,ls=he;const ve=ee.forwardRef((o,s)=>{var t=o,{className:r}=t,a=R(t,["className"]);return e.jsx(xe,g(x({className:se("grid gap-2",r)},a),{ref:s}))});ve.displayName=xe.displayName;const B=ee.forwardRef((o,s)=>{var t=o,{className:r}=t,a=R(t,["className"]);return e.jsx(fe,g(x({ref:s,className:se("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r)},a),{children:e.jsx(ls,{className:"flex items-center justify-center",children:e.jsx(Ke,{className:"h-2.5 w-2.5 fill-current text-current"})})}))});B.displayName=fe.displayName;const Ds=()=>{const[r,a]=l.useState(!1),[s,o]=l.useState(""),[t,c]=l.useState(""),[n,u]=l.useState(!1),[d,h]=l.useState(""),[y,v]=l.useState(""),[p,b]=l.useState("user"),[m,j]=l.useState([]),[N,C]=l.useState(""),[z,je]=l.useState(""),[O,ge]=l.useState(""),[V,ye]=l.useState(""),{user:G,session:D,loading:_,signIn:Ne,signUp:be,signInWithOAuth:Ce}=Fe(),I=Me();if(l.useEffect(()=>{!_&&G&&D&&(console.log("User is already authenticated, redirecting to feed"),I("/feed",{replace:!0}))},[G,D,_,I]),_)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});if(G&&D)return null;const K=i=>H(void 0,null,function*(){i.preventDefault(),u(!0);try{if(r){const{error:w}=yield be(s,t,d,y,p);if(!w)if(p==="artist"){const we={bio:N,artistSkills:m,hourlyRateMin:parseFloat(z)||0,hourlyRateMax:parseFloat(O)||0,portfolioUrls:V.split(",").map(L=>L.trim()).filter(L=>L.length>0)};I("/artist-onboarding",{state:{artistData:we}})}else I("/feed")}else{const{error:w}=yield Ne(s,t);w||I("/feed")}}catch(w){console.error("Auth error:",w)}finally{u(!1)}}),E=i=>H(void 0,null,function*(){u(!0);try{const{error:w}=yield Ce(i);w||I("/feed")}catch(w){console.error("Social auth error:",w)}finally{u(!1)}});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-accent/5",children:[e.jsx(Oe,{showAuthButtons:!1,showLocationButton:!1}),e.jsx("div",{className:"flex items-center justify-center p-4 pt-12",children:e.jsxs("div",{className:"w-full max-w-6xl grid lg:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Welcome to Glocal"}),e.jsx("p",{className:"text-xl text-muted-foreground",children:"Connect with your local community, discover events, and find amazing artists in your area."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold",children:"üìç"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Hyperlocal Discovery"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Find events, services, and people right in your neighborhood"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold",children:"üé®"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Book Local Artists"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect with talented creators for your next event"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-primary-foreground font-bold",children:"üí¨"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Safe Communication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Chat with others after mutual approval"})]})]})]})]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs(Pe,{className:"w-full max-w-md",children:[e.jsxs(Ge,{className:"space-y-1",children:[e.jsx(De,{className:"text-2xl text-center",children:r?"Create Account":"Welcome Back"}),e.jsx(_e,{className:"text-center",children:r?"Join your local community today":"Sign in to your account to continue"})]}),e.jsx(Le,{children:e.jsxs(qe,{value:r?"signup":"signin",onValueChange:i=>a(i==="signup"),children:[e.jsxs(ze,{className:"grid w-full grid-cols-2",children:[e.jsx(X,{value:"signin",children:"Sign In"}),e.jsx(X,{value:"signup",children:"Sign Up"})]}),e.jsxs(Y,{value:"signin",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>E("google"),disabled:n,children:[e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>E("facebook"),disabled:n,children:[e.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(Q,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"email",children:"Email"}),e.jsx(S,{id:"email",type:"email",placeholder:"Enter your email",value:s,onChange:i=>o(i.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"password",children:"Password"}),e.jsx(S,{id:"password",type:"password",placeholder:"Enter your password",value:t,onChange:i=>c(i.target.value),required:!0})]}),e.jsx(A,{type:"submit",className:"w-full",disabled:n,children:n?"Signing In...":"Sign In"}),e.jsx("div",{className:"text-center",children:e.jsx(He,{to:"/forgot-password",className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})]}),e.jsxs(Y,{value:"signup",className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>E("google"),disabled:n,children:[e.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>E("facebook"),disabled:n,children:[e.jsx("svg",{className:"mr-2 h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(Q,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-email",children:"Email"}),e.jsx(S,{id:"signup-email",type:"email",placeholder:"Enter your email",value:s,onChange:i=>o(i.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"signup-password",children:"Password"}),e.jsx(S,{id:"signup-password",type:"password",placeholder:"Create a password",value:t,onChange:i=>c(i.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"first-name",children:"First Name"}),e.jsx(S,{id:"first-name",type:"text",placeholder:"First name",value:d,onChange:i=>h(i.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"last-name",children:"Last Name"}),e.jsx(S,{id:"last-name",type:"text",placeholder:"Last name",value:y,onChange:i=>v(i.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{children:"Account Type"}),e.jsxs(ve,{value:p,onValueChange:i=>b(i),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{value:"user",id:"user"}),e.jsx(f,{htmlFor:"user",children:"Regular User"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{value:"artist",id:"artist"}),e.jsx(f,{htmlFor:"artist",children:"Artist/Creator"})]})]})]}),p==="artist"&&e.jsxs("div",{className:"space-y-4 border rounded-lg p-4 bg-muted/50",children:[e.jsx("h4",{className:"font-medium",children:"Artist Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"artist-skills",children:"Primary Skills"}),e.jsxs($e,{onValueChange:i=>j([i]),children:[e.jsx(Je,{children:e.jsx(Xe,{placeholder:"Select your primary skill"})}),e.jsxs(Ye,{children:[e.jsx(k,{value:"Music",children:"Music"}),e.jsx(k,{value:"Photography",children:"Photography"}),e.jsx(k,{value:"Art",children:"Art"}),e.jsx(k,{value:"Dance",children:"Dance"}),e.jsx(k,{value:"Comedy",children:"Comedy"}),e.jsx(k,{value:"DJ",children:"DJ"}),e.jsx(k,{value:"Catering",children:"Catering"}),e.jsx(k,{value:"Decoration",children:"Decoration"}),e.jsx(k,{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"bio",children:"Bio"}),e.jsx(We,{id:"bio",placeholder:"Tell us about yourself and your work...",value:N,onChange:i=>C(i.target.value),rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"hourly-rate-min",children:"Min Hourly Rate ($)"}),e.jsx(S,{id:"hourly-rate-min",type:"number",placeholder:"50",value:z,onChange:i=>je(i.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"hourly-rate-max",children:"Max Hourly Rate ($)"}),e.jsx(S,{id:"hourly-rate-max",type:"number",placeholder:"200",value:O,onChange:i=>ge(i.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"portfolio-urls",children:"Portfolio URLs (comma separated)"}),e.jsx(S,{id:"portfolio-urls",type:"text",placeholder:"https://example.com, https://portfolio.com",value:V,onChange:i=>ye(i.target.value)})]})]}),e.jsx(A,{type:"submit",className:"w-full",disabled:n,children:n?"Creating Account...":"Create Account"})]})]})]})})]})})]})})]})};export{Ds as default};
