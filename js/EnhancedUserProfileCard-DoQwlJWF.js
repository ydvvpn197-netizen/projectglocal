var e=(e,s,a)=>new Promise((l,t)=>{var i=e=>{try{n(a.next(e))}catch(s){t(s)}},r=e=>{try{n(a.throw(e))}catch(s){t(s)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(i,r);n((a=a.apply(e,s)).next())});import{r as s,j as a,C as l,e as t,v as i,y as r,B as n}from"./main-6fHUpRzT.js";import{A as d,a as c,b as o,i as m}from"./sheet-D2smYKYW.js";import{B as x}from"./badge-Bj-CyBpD.js";import{C as h}from"./check-circle-Bfeu-Ke9.js";import{M as j}from"./map-pin-DJOBTPKn.js";import{T as u}from"./trending-up-EJ6gDKFP.js";import{M as f}from"./mail-BnzztWu8.js";import{U as N}from"./user-plus-Bi9Uv9Tf.js";import{M as v}from"./message-circle-clGX_rmg.js";import{P as b}from"./pen-square-CXs4EIjz.js";import{S as g}from"./share-2-D3j1vOAy.js";import{Z as p}from"./zap-Dyj-3m1T.js";import{U as w}from"./users-Czby48qY.js";import{U as k}from"./user-DoINJrqZ.js";import{E as y,H as C}from"./ResponsiveLayout-Bc2JEU4o.js";import{G as F}from"./globe-BcuJ5ITU.js";import{P as E}from"./phone-B5y4ncfk.js";import{M as L}from"./message-square-BNIlY-fX.js";import{S}from"./shield-CcNVjYJS.js";const M=({user:M,onFollow:P,onMessage:z,onViewProfile:U,onShare:A,onEdit:V,onContact:I,showActions:R=!0,showStats:H=!0,showSocialLinks:O=!1,showSkills:T=!1,showInterests:_=!1,className:B,variant:G="default",loading:K=!1,error:W=null,animate:$=!0,interactive:q=!0})=>{var Z;const[D,J]=s.useState(M.isFollowing||!1),[X,Q]=s.useState(!1),[Y,ee]=s.useState(W),[se,ae]=s.useState(!1),[le,te]=s.useState(!1),[ie,re]=s.useState(0),ne=s.useCallback(()=>{te(!le),re(e=>le?e-1:e+1)},[le]),de=s.useCallback(e=>{ae(e)},[]),ce=s.useMemo(()=>M.name?M.name:"Anonymous User",[M.name]),oe=s.useMemo(()=>M.bio?M.bio:null,[M.bio]),me=s.useMemo(()=>M.location?M.location:null,[M.location]),xe=s.useMemo(()=>ce.charAt(0).toUpperCase(),[ce]),he=s.useMemo(()=>!0===M.verified,[M.verified]),je=s.useMemo(()=>!0===M.isOnline,[M.isOnline]),ue=s.useMemo(()=>!0===M.isPremium,[M.isPremium]);s.useMemo(()=>!0===M.isFeatured,[M.isFeatured]);const fe=s.useCallback(()=>e(void 0,null,function*(){if(P&&!X)try{Q(!0),ee(null),yield P(M.id),J(!D)}catch(e){ee(e instanceof Error?e.message:"Failed to follow user")}finally{Q(!1)}}),[P,M.id,D,X]),Ne=s.useCallback(()=>e(void 0,null,function*(){if(z&&!X)try{Q(!0),ee(null),yield z(M.id)}catch(e){ee(e instanceof Error?e.message:"Failed to send message")}finally{Q(!1)}}),[z,M.id,X]),ve=s.useCallback(()=>e(void 0,null,function*(){if(U&&!X)try{Q(!0),ee(null),yield U(M.id)}catch(e){ee(e instanceof Error?e.message:"Failed to view profile")}finally{Q(!1)}}),[U,M.id,X]),be=s.useCallback(()=>e(void 0,null,function*(){if(A&&!X)try{Q(!0),ee(null),yield A(M.id)}catch(e){ee(e instanceof Error?e.message:"Failed to share profile")}finally{Q(!1)}}),[A,M.id,X]),ge=s.useCallback(()=>e(void 0,null,function*(){if(V&&!X)try{Q(!0),ee(null),yield V(M.id)}catch(e){ee(e instanceof Error?e.message:"Failed to edit profile")}finally{Q(!1)}}),[V,M.id,X]),pe=s.useCallback(()=>e(void 0,null,function*(){if(I&&!X)try{Q(!0),ee(null),yield I(M.id)}catch(e){ee(e instanceof Error?e.message:"Failed to contact user")}finally{Q(!1)}}),[I,M.id,X]);if(K)return a.jsxs(l,{className:t("w-full animate-pulse",B),"data-testid":"loading-skeleton",children:[a.jsx(i,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-32"}),a.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]})}),a.jsxs(r,{className:"space-y-3",children:[a.jsx("div",{className:"h-3 bg-muted rounded w-full"}),a.jsx("div",{className:"h-3 bg-muted rounded w-3/4"})]})]});const we=Y&&a.jsxs("div",{className:"mb-4 p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-destructive",children:[a.jsx(S,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Error loading profile"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Y})]});return"minimal"===G?a.jsx(l,{className:t("w-full transition-all duration-200",q&&"hover:shadow-md cursor-pointer",$&&"animate-in fade-in-0 slide-in-from-bottom-2",B),onMouseEnter:()=>q&&ae(!0),onMouseLeave:()=>q&&ae(!1),"data-testid":"enhanced-user-profile-card-minimal",children:a.jsx(r,{className:"p-3",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(d,{className:"h-10 w-10",children:[a.jsx(c,{src:M.avatar,alt:ce}),a.jsx(o,{className:"text-sm",children:xe})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-medium text-sm truncate",children:ce}),he&&a.jsx(h,{className:"h-3 w-3 text-blue-500 flex-shrink-0","data-testid":"verified-badge"}),je&&a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full","data-testid":"online-indicator"})]}),me&&a.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center",children:[a.jsx(j,{className:"h-3 w-3 mr-1"}),me]})]})]})})}):"compact"===G?a.jsx(l,{className:t("w-full transition-all duration-200",q&&"hover:shadow-md",$&&"animate-in fade-in-0 slide-in-from-bottom-2",B),"data-testid":"enhanced-user-profile-card-compact",children:a.jsxs(r,{className:"p-4",children:[we,a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(d,{className:"h-12 w-12",children:[a.jsx(c,{src:M.avatar,alt:ce}),a.jsx(o,{children:xe})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-sm truncate",children:ce}),he&&a.jsx(h,{className:"h-4 w-4 text-blue-500 flex-shrink-0","data-testid":"verified-badge"}),je&&a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full","data-testid":"online-indicator"}),ue&&a.jsx(m,{className:"h-4 w-4 text-yellow-500 flex-shrink-0","data-testid":"premium-badge"})]}),oe&&a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:oe}),me&&a.jsxs("p",{className:"text-xs text-muted-foreground truncate flex items-center",children:[a.jsx(j,{className:"h-3 w-3 mr-1"}),me]})]}),R&&a.jsx(n,{size:"sm",variant:D?"outline":"default",onClick:fe,disabled:X,className:"flex-shrink-0",children:D?"Following":"Follow"})]})]})}):"default"===G?a.jsxs(l,{className:t("w-full transition-all duration-200",q&&"hover:shadow-md hover:scale-[1.02]",$&&"animate-in fade-in-0 slide-in-from-bottom-2",se&&"shadow-lg ring-2 ring-primary/20",B),"data-testid":"enhanced-user-profile-card-default",onMouseEnter:()=>de(!0),onMouseLeave:()=>de(!1),children:[we,a.jsx(i,{className:"pb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(d,{className:"h-20 w-20",children:[a.jsx(c,{src:M.avatar,alt:ce}),a.jsx(o,{className:"text-lg",children:xe})]}),je&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-background","data-testid":"online-indicator"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h2",{className:"text-xl font-bold",children:ce}),he&&a.jsx(h,{className:"h-5 w-5 text-blue-500","data-testid":"verified-badge"}),(null==(Z=M.badges)?void 0:Z.includes("trending"))&&a.jsx(u,{className:"h-5 w-5 text-orange-500","data-testid":"trending-badge"}),ue&&a.jsx(m,{className:"h-5 w-5 text-yellow-500","data-testid":"premium-badge"})]}),oe&&a.jsx("p",{className:"text-muted-foreground",children:oe}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[me&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(j,{className:"h-4 w-4"}),a.jsx("span",{children:me})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(f,{className:"h-4 w-4"}),a.jsx("span",{children:M.email})]})]})]})]}),R&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(n,{variant:D?"outline":"default",onClick:fe,disabled:X,className:"flex-shrink-0","aria-label":`${D?"Unfollow":"Follow"} ${ce}`,children:[a.jsx(N,{className:"h-4 w-4 mr-2"}),D?"Following":"Follow",X&&a.jsx("span",{"data-testid":"loading-indicator",className:"ml-2",children:"..."})]}),a.jsxs(n,{variant:"outline",onClick:Ne,disabled:X,className:"flex-shrink-0",children:[a.jsx(v,{className:"h-4 w-4 mr-2"}),"Message"]}),V&&a.jsxs(n,{variant:"ghost",size:"sm",onClick:ge,disabled:X,className:"flex-shrink-0","aria-label":"Edit profile",children:[a.jsx(b,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Edit"})]}),a.jsxs(n,{variant:"ghost",size:"sm",onClick:be,disabled:X,className:"flex-shrink-0","aria-label":"Share profile",children:[a.jsx(g,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Share"})]})]})]})}),a.jsxs(r,{className:"space-y-4",children:[T&&M.skills&&M.skills.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Skills"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:M.skills.map((e,s)=>a.jsxs(x,{variant:"secondary",children:[a.jsx(p,{className:"h-3 w-3 mr-1"}),e]},s))})]}),H&&(void 0!==M.followersCount||void 0!==M.followingCount)&&a.jsxs("div",{className:"flex items-center space-x-6 py-4 border-t",children:[void 0!==M.followersCount&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:M.followersCount.toLocaleString()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Followers"})]}),void 0!==M.followingCount&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:M.followingCount.toLocaleString()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Following"})]}),void 0!==M.eventsCount&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:M.eventsCount}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Events"})]})]}),O&&M.socialLinks&&a.jsxs("div",{className:"flex items-center space-x-2 pt-4 border-t",children:[M.socialLinks.twitter&&a.jsx(n,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs("a",{href:M.socialLinks.twitter,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:[a.jsx(w,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Twitter"})]})}),M.socialLinks.linkedin&&a.jsx(n,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs("a",{href:M.socialLinks.linkedin,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:[a.jsx(k,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"LinkedIn"})]})}),M.socialLinks.github&&a.jsx(n,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs("a",{href:M.socialLinks.github,target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub",children:[a.jsx(y,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"GitHub"})]})}),M.socialLinks.website&&a.jsx(n,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs("a",{href:M.socialLinks.website,target:"_blank",rel:"noopener noreferrer","aria-label":"Website",children:[a.jsx(F,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Website"})]})}),M.socialLinks.phone&&a.jsxs(n,{variant:"ghost",size:"sm",onClick:pe,"aria-label":"Phone",children:[a.jsx(E,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Phone"})]})]}),U&&a.jsx("div",{className:"pt-4 border-t",children:a.jsxs(n,{variant:"outline",onClick:ve,disabled:X,className:"w-full",children:[a.jsx(k,{className:"h-4 w-4 mr-2"}),"View Full Profile"]})}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs(n,{variant:"ghost",size:"sm",onClick:ne,className:t("w-full transition-all duration-200",le&&"text-red-500 hover:text-red-600"),children:[a.jsx(C,{className:t("h-4 w-4 mr-2 transition-all duration-200",le&&"fill-current")}),le?"Liked":"Like"," ",ie>0&&`(${ie})`]})})]})]}):"enterprise"===G?a.jsxs(l,{className:t("relative overflow-hidden border-2 border-slate-200 bg-gradient-to-br from-slate-50 to-slate-100 shadow-xl","hover:shadow-2xl hover:border-slate-300 transition-all duration-300",B),children:[a.jsx("div",{className:"absolute top-0 right-0 bg-slate-800 text-white px-3 py-1 text-xs font-bold rounded-bl-lg",children:"ENTERPRISE"}),a.jsxs(r,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(d,{className:"h-20 w-20 border-4 border-slate-200",children:[a.jsx(c,{src:M.avatar,alt:M.name}),a.jsx(o,{className:"text-lg font-bold bg-slate-700 text-white",children:M.name.split(" ").map(e=>e[0]).join("")})]}),M.isOnline&&a.jsx("div",{className:"absolute -bottom-1 -right-1 h-6 w-6 bg-green-500 border-4 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-slate-800 truncate",children:M.name}),M.verified&&a.jsxs(x,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[a.jsx(h,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),M.bio&&a.jsx("p",{className:"text-slate-600 text-sm mb-3 line-clamp-2",children:M.bio}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:M.eventsCount||0}),a.jsx("div",{className:"text-xs text-slate-500",children:"Events"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:M.projectsCount||0}),a.jsx("div",{className:"text-xs text-slate-500",children:"Projects"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:M.followersCount||0}),a.jsx("div",{className:"text-xs text-slate-500",children:"Followers"})]})]}),T&&M.skills&&M.skills.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-700 mb-2",children:"Key Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[M.skills.slice(0,4).map((e,s)=>a.jsx(x,{variant:"outline",className:"text-xs bg-slate-100 border-slate-300",children:e},s)),M.skills.length>4&&a.jsxs(x,{variant:"outline",className:"text-xs bg-slate-100 border-slate-300",children:["+",M.skills.length-4," more"]})]})]})]})]}),R&&a.jsxs("div",{className:"flex space-x-2 mt-4 pt-4 border-t border-slate-200",children:[a.jsxs(n,{size:"sm",className:"flex-1 bg-slate-800 hover:bg-slate-900",children:[a.jsx(k,{className:"h-4 w-4 mr-2"}),"View Profile"]}),a.jsxs(n,{size:"sm",variant:"outline",className:"border-slate-300",children:[a.jsx(L,{className:"h-4 w-4 mr-2"}),"Contact"]})]})]})]}):"dark"===G?a.jsxs(l,{className:t("relative overflow-hidden border border-slate-700 bg-gradient-to-br from-slate-900 to-slate-800 text-white shadow-2xl","hover:shadow-slate-900/50 hover:border-slate-600 transition-all duration-300",B),children:[a.jsx("div",{className:"absolute top-0 right-0 bg-slate-600 text-slate-200 px-3 py-1 text-xs font-bold rounded-bl-lg",children:"DARK"}),a.jsx(r,{className:"p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(d,{className:"h-20 w-20 border-4 border-slate-600 ring-2 ring-slate-500",children:[a.jsx(c,{src:M.avatar,alt:ce}),a.jsx(o,{className:"bg-slate-700 text-slate-200 text-xl font-bold",children:ce.charAt(0)})]}),M.isOnline&&a.jsx("div",{className:"absolute -bottom-1 -right-1 h-5 w-5 bg-green-500 border-2 border-slate-800 rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-xl font-bold text-white truncate",children:ce}),M.verified&&a.jsxs(x,{className:"bg-blue-600 text-white text-xs",children:[a.jsx(h,{className:"h-3 w-3 mr-1"}),"Verified"]}),M.isPremium&&a.jsxs(x,{className:"bg-amber-600 text-white text-xs",children:[a.jsx(m,{className:"h-3 w-3 mr-1"}),"Premium"]})]}),oe&&a.jsx("p",{className:"text-slate-300 text-sm mb-3 line-clamp-2",children:oe}),me&&a.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-3",children:[a.jsx(j,{className:"h-4 w-4 mr-2"}),me]})]})}),H&&a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:M.followersCount||0}),a.jsx("div",{className:"text-xs text-slate-400",children:"Followers"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:M.followingCount||0}),a.jsx("div",{className:"text-xs text-slate-400",children:"Following"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:M.eventsCount||0}),a.jsx("div",{className:"text-xs text-slate-400",children:"Events"})]})]}),T&&M.skills&&M.skills.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-2",children:"Skills"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.skills.slice(0,3).map((e,s)=>a.jsx(x,{variant:"secondary",className:"bg-slate-700 text-slate-200 border-slate-600",children:e},s)),M.skills.length>3&&a.jsxs(x,{variant:"secondary",className:"bg-slate-700 text-slate-200 border-slate-600",children:["+",M.skills.length-3," more"]})]})]}),R&&a.jsxs("div",{className:"flex gap-2",children:[P&&a.jsxs(n,{variant:M.isFollowing?"default":"outline",size:"sm",onClick:fe,disabled:X,className:t("flex-1",M.isFollowing?"bg-slate-600 hover:bg-slate-700 text-white":"border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white"),children:[a.jsx(N,{className:"h-4 w-4 mr-2"}),M.isFollowing?"Following":"Follow"]}),z&&a.jsxs(n,{variant:"outline",size:"sm",onClick:Ne,disabled:X,className:"border-slate-600 text-slate-300 hover:bg-slate-700 hover:text-white",children:[a.jsx(v,{className:"h-4 w-4 mr-2"}),"Message"]})]})]})]})})]}):null};export{M as E};
