var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,l=(e,a)=>{for(var s in a||(a={}))i.call(a,s)&&n(e,s,a[s]);if(t)for(var s of t(a))r.call(a,s)&&n(e,s,a[s]);return e},d=(e,t)=>a(e,s(t)),o=(e,a)=>{var s={};for(var n in e)i.call(e,n)&&a.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&t)for(var n of t(e))a.indexOf(n)<0&&r.call(e,n)&&(s[n]=e[n]);return s},c=(e,a,s)=>new Promise((t,i)=>{var r=e=>{try{l(s.next(e))}catch(a){i(a)}},n=e=>{try{l(s.throw(e))}catch(a){i(a)}},l=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,n);l((s=s.apply(e,a)).next())});import{c as m,r as u,j as h,f as x,R as React,T as p,B as f,Z as g,g as b,p as v,q as j,t as N,u as w,a as y,_ as k,s as _,X as C,b as S,L as M,d as z}from"./index-B5IYdG7F.js";import{I as E}from"./input-C4_QhDnm.js";import{S as A}from"./separator-BZYZTYLW.js";import{c as L,e as O,H as P,P as R,S as T,A as q,a as F,b as I,i as D,d as G}from"./sheet-CgDUfSpi.js";import{N as B,c as U,e as W}from"./NotificationBell-DtnEojo4.js";import{N as H}from"./NotificationButton-CqXjP_LK.js";import{S as Z}from"./search-Co_OHmlK.js";import{M as Y}from"./map-pin-BwnggLrZ.js";import{C as $}from"./index-DD_J5sPn.js";import{U as V,M as J}from"./users-Dh-Bdb-k.js";import{P as K,Z as Q}from"./zap-DPSXpNso.js";import{M as X}from"./message-square-j4RxGxzk.js";import{U as ee}from"./user-UOowhO7W.js";import{S as ae}from"./settings-DSEWn2wM.js";import{D as se,a as te,b as ie,e as re,d as ne,u as le}from"./useNotifications-C0wifgqF.js";import{C as de,d as oe}from"./card-Bm1jiGt-.js";import{B as ce}from"./badge-Dh5Uj8vN.js";import{A as me,a as ue}from"./alert-CQybxmNr.js";import{L as he}from"./log-out-DchhrZ8K.js";
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=m("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),pe=m("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),fe=m("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),ge=m("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),be=m("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),ve=m("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),je=m("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);
/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function Ne(e){var a=e,{className:s}=a,t=o(a,["className"]);return h.jsx("div",l({className:x("animate-pulse rounded-md bg-muted",s)},t))}const we=u.createContext(null);function ye(){const e=u.useContext(we);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const ke=React.forwardRef((e,a)=>{var s=e,{defaultOpen:t=!0,open:i,onOpenChange:r,className:n,style:c,children:m}=s,f=o(s,["defaultOpen","open","onOpenChange","className","style","children"]);const g=function(){const[e,a]=u.useState(void 0);return u.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),s=()=>{a(window.innerWidth<768)};return e.addEventListener("change",s),a(window.innerWidth<768),()=>e.removeEventListener("change",s)},[]),!!e}(),[b,v]=u.useState(!1),[j,N]=u.useState(t),w=null!=i?i:j,y=u.useCallback(e=>{const a="function"==typeof e?e(w):e;r?r(a):N(a),document.cookie=`sidebar:state=${a}; path=/; max-age=604800`},[r,w]),k=u.useCallback(()=>g?v(e=>!e):y(e=>!e),[g,y,v]);u.useEffect(()=>{const e=e=>{"b"===e.key&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),k())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[k]);const _=w?"expanded":"collapsed",C=React.useMemo(()=>({state:_,open:w,setOpen:y,isMobile:g,openMobile:b,setOpenMobile:v,toggleSidebar:k}),[_,w,y,g,b,v,k]);return h.jsx(we.Provider,{value:C,children:h.jsx(p,{delayDuration:0,children:h.jsx("div",d(l({style:l({"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},c),className:x("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:a},f),{children:m}))})})});ke.displayName="SidebarProvider";const _e=React.forwardRef((e,a)=>{var s=e,{side:t="left",variant:i="sidebar",collapsible:r="offcanvas",className:n,children:c}=s,m=o(s,["side","variant","collapsible","className","children"]);const{isMobile:u,state:p,openMobile:f,setOpenMobile:g}=ye();return"none"===r?h.jsx("div",d(l({className:x("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a},m),{children:c})):u?h.jsx(L,d(l({open:f,onOpenChange:g},m),{children:h.jsx(O,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":"18rem"},side:t,children:h.jsx("div",{className:"flex h-full w-full flex-col",children:c})})})):h.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":p,"data-collapsible":"collapsed"===p?r:"","data-variant":i,"data-side":t,children:[h.jsx("div",{className:x("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===i||"inset"===i?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),h.jsx("div",d(l({className:x("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex","left"===t?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===i||"inset"===i?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n)},m),{children:h.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:c})}))]})});_e.displayName="Sidebar";const Ce=React.forwardRef((e,a)=>{var s=e,{className:t,onClick:i}=s,r=o(s,["className","onClick"]);const{toggleSidebar:n}=ye();return h.jsxs(f,d(l({ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:x("h-7 w-7",t),onClick:e=>{null==i||i(e),n()}},r),{children:[h.jsx(ge,{}),h.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]}))});Ce.displayName="SidebarTrigger";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);const{toggleSidebar:r}=ye();return h.jsx("button",l({ref:a,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:x("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t)},i))}).displayName="SidebarRail";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("main",l({ref:a,className:x("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t)},i))}).displayName="SidebarInset";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx(E,l({ref:a,"data-sidebar":"input",className:x("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t)},i))}).displayName="SidebarInput";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("div",l({ref:a,"data-sidebar":"header",className:x("flex flex-col gap-2 p-2",t)},i))}).displayName="SidebarHeader";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("div",l({ref:a,"data-sidebar":"footer",className:x("flex flex-col gap-2 p-2",t)},i))}).displayName="SidebarFooter";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx(A,l({ref:a,"data-sidebar":"separator",className:x("mx-2 w-auto bg-sidebar-border",t)},i))}).displayName="SidebarSeparator";const Se=React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("div",l({ref:a,"data-sidebar":"content",className:x("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t)},i))});Se.displayName="SidebarContent";const Me=React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("div",l({ref:a,"data-sidebar":"group",className:x("relative flex w-full min-w-0 flex-col p-2",t)},i))});Me.displayName="SidebarGroup";const ze=React.forwardRef((e,a)=>{var s=e,{className:t,asChild:i=!1}=s,r=o(s,["className","asChild"]);const n=i?g:"div";return h.jsx(n,l({ref:a,"data-sidebar":"group-label",className:x("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t)},r))});ze.displayName="SidebarGroupLabel";React.forwardRef((e,a)=>{var s=e,{className:t,asChild:i=!1}=s,r=o(s,["className","asChild"]);const n=i?g:"button";return h.jsx(n,l({ref:a,"data-sidebar":"group-action",className:x("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t)},r))}).displayName="SidebarGroupAction";const Ee=React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("div",l({ref:a,"data-sidebar":"group-content",className:x("w-full text-sm",t)},i))});Ee.displayName="SidebarGroupContent";const Ae=React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("ul",l({ref:a,"data-sidebar":"menu",className:x("flex w-full min-w-0 flex-col gap-1",t)},i))});Ae.displayName="SidebarMenu";const Le=React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("li",l({ref:a,"data-sidebar":"menu-item",className:x("group/menu-item relative",t)},i))});Le.displayName="SidebarMenuItem";const Oe=b("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Pe=React.forwardRef((e,a)=>{var s=e,{asChild:t=!1,isActive:i=!1,variant:r="default",size:n="default",tooltip:d,className:c}=s,m=o(s,["asChild","isActive","variant","size","tooltip","className"]);const u=t?g:"button",{isMobile:p,state:f}=ye(),b=h.jsx(u,l({ref:a,"data-sidebar":"menu-button","data-size":n,"data-active":i,className:x(Oe({variant:r,size:n}),c)},m));return d?("string"==typeof d&&(d={children:d}),h.jsxs(v,{children:[h.jsx(j,{asChild:!0,children:b}),h.jsx(N,l({side:"right",align:"center",hidden:"collapsed"!==f||p},d))]})):b});Pe.displayName="SidebarMenuButton";React.forwardRef((e,a)=>{var s=e,{className:t,asChild:i=!1,showOnHover:r=!1}=s,n=o(s,["className","asChild","showOnHover"]);const d=i?g:"button";return h.jsx(d,l({ref:a,"data-sidebar":"menu-action",className:x("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t)},n))}).displayName="SidebarMenuAction";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("div",l({ref:a,"data-sidebar":"menu-badge",className:x("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t)},i))}).displayName="SidebarMenuBadge";React.forwardRef((e,a)=>{var s=e,{className:t,showIcon:i=!1}=s,r=o(s,["className","showIcon"]);const n=React.useMemo(()=>`${Math.floor(40*Math.random())+50}%`,[]);return h.jsxs("div",d(l({ref:a,"data-sidebar":"menu-skeleton",className:x("rounded-md h-8 flex gap-2 px-2 items-center",t)},r),{children:[i&&h.jsx(Ne,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),h.jsx(Ne,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]}))}).displayName="SidebarMenuSkeleton";React.forwardRef((e,a)=>{var s=e,{className:t}=s,i=o(s,["className"]);return h.jsx("ul",l({ref:a,"data-sidebar":"menu-sub",className:x("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t)},i))}).displayName="SidebarMenuSub";React.forwardRef((e,a)=>{var s=o(e,[]);return h.jsx("li",l({ref:a},s))}).displayName="SidebarMenuSubItem";React.forwardRef((e,a)=>{var s=e,{asChild:t=!1,size:i="md",isActive:r,className:n}=s,d=o(s,["asChild","size","isActive","className"]);const c=t?g:"a";return h.jsx(c,l({ref:a,"data-sidebar":"menu-sub-button","data-size":i,"data-active":r,className:x("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===i&&"text-xs","md"===i&&"text-sm","group-data-[collapsible=icon]:hidden",n)},d))}).displayName="SidebarMenuSubButton";const Re=[{title:"Feed",url:"/feed",icon:P},{title:"Discover",url:"/discover",icon:Z},{title:"About",url:"/about",icon:Y},{title:"Events",url:"/events",icon:$},{title:"Community",url:"/community",icon:V},{title:"Book Artists",url:"/book-artist",icon:K}],Te=[{title:"Legal Assistant",url:"/legal-assistant",icon:be},{title:"Life Wishes",url:"/life-wish",icon:pe}],qe=[{title:"Artist Dashboard",url:"/artist-dashboard",icon:Q},{title:"Messages",url:"/messages",icon:X},{title:"News Feed",url:"/news",icon:fe},{title:"Profile",url:"/profile",icon:ee},{title:"Settings",url:"/settings",icon:ae}],Fe=[{title:"My Dashboard",url:"/user-dashboard",icon:ee},{title:"Messages",url:"/messages",icon:X},{title:"News Feed",url:"/news",icon:fe},{title:"Profile",url:"/profile",icon:ee},{title:"Settings",url:"/settings",icon:ae}];function Ie(){const{state:e}=ye(),{user:a}=w(),s=y().pathname,t="collapsed"===e,[i,r]=u.useState(!1),n=e=>s===e;Re.some(e=>n(e.url)),Te.some(e=>n(e.url)),u.useEffect(()=>{(()=>{c(this,null,function*(){if(a)try{const{data:e}=yield _.from("artists").select("id").eq("user_id",a.id).single();r(!!e)}catch(e){r(!1)}})})()},[a]);const l=i?qe:Fe;l.some(e=>n(e.url));const d=({isActive:e})=>e?"bg-sidebar-accent text-sidebar-accent-foreground font-medium":"hover:bg-sidebar-accent/50";return h.jsx(_e,{className:t?"w-14":"w-60",collapsible:"icon",children:h.jsxs(Se,{children:[!t&&h.jsx("div",{className:"p-4 border-b border-sidebar-border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h2",{className:"text-lg font-bold text-sidebar-foreground flex items-center gap-2",children:[h.jsx(Y,{className:"h-5 w-5 text-primary"}),"Glocal"]}),a?h.jsx(B,{}):h.jsx(H,{})]})}),h.jsx("div",{className:"p-2",children:h.jsx(Pe,{asChild:!0,children:h.jsxs(k,{to:"/create",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[h.jsx(R,{className:"h-4 w-4"}),!t&&h.jsx("span",{children:"Create Post"})]})})}),h.jsxs(Me,{children:[h.jsx(ze,{children:"Main"}),h.jsx(Ee,{children:h.jsx(Ae,{children:Re.map(e=>h.jsx(Le,{children:h.jsx(Pe,{asChild:!0,children:h.jsxs(k,{to:e.url,end:!0,className:d,children:[h.jsx(e.icon,{className:"h-4 w-4"}),!t&&h.jsx("span",{children:e.title})]})})},e.title))})})]}),h.jsxs(Me,{children:[h.jsx(ze,{children:"New Features"}),h.jsx(Ee,{children:h.jsx(Ae,{children:Te.map(e=>h.jsx(Le,{children:h.jsx(Pe,{asChild:!0,children:h.jsxs(k,{to:e.url,end:!0,className:d,children:[h.jsx(e.icon,{className:"h-4 w-4"}),!t&&h.jsx("span",{children:e.title})]})})},e.title))})})]}),h.jsxs(Me,{children:[h.jsx(ze,{children:"Account"}),h.jsx(Ee,{children:h.jsx(Ae,{children:l.map(e=>h.jsx(Le,{children:h.jsx(Pe,{asChild:!0,children:h.jsxs(k,{to:e.url,end:!0,className:d,children:[h.jsx(e.icon,{className:"h-4 w-4"}),!t&&h.jsx("span",{children:e.title})]})})},e.title))})})]})]})})}class De{static checkMarketingTables(){return c(this,null,function*(){if(null!==this.marketingTablesAvailable)return this.marketingTablesAvailable;try{const e=yield U("marketing_campaigns"),a=yield U("referral_program"),s=yield U("social_shares"),t=yield U("promotional_codes");return this.marketingTablesAvailable=e.exists&&a.exists&&s.exists&&t.exists,this.marketingTablesAvailable,this.marketingTablesAvailable}catch(e){return this.marketingTablesAvailable=!1,!1}})}static createCampaign(e){return c(this,null,function*(){if(!(yield this.checkMarketingTables()))throw new Error("Marketing features are not available. Please ensure database migrations are applied.");try{const{data:{user:a}}=yield _.auth.getUser();if(!a)throw new Error("User not authenticated");const{data:s,error:t}=yield _.from("marketing_campaigns").insert(d(l({},e),{created_by:a.id,status:e.status||"draft"})).select().single();if(t)throw t;return s}catch(a){throw a}})}static getCampaigns(e){return c(this,null,function*(){if(!(yield this.checkMarketingTables()))return[];try{let a=_.from("marketing_campaigns").select("*");(null==e?void 0:e.status)&&(a=a.eq("status",e.status)),(null==e?void 0:e.campaign_type)&&(a=a.eq("campaign_type",e.campaign_type)),(null==e?void 0:e.created_by)&&(a=a.eq("created_by",e.created_by));const{data:s,error:t}=yield a.order("created_at",{ascending:!1});if(t)throw t;return s||[]}catch(a){return[]}})}static getCampaign(e){return c(this,null,function*(){if(!(yield this.checkMarketingTables()))return null;try{const{data:a,error:s}=yield _.from("marketing_campaigns").select("*").eq("id",e).single();if(s&&"PGRST116"!==s.code)throw s;return a}catch(a){return null}})}static updateCampaign(e,a){return c(this,null,function*(){if(!(yield this.checkMarketingTables()))throw new Error("Marketing features are not available. Please ensure database migrations are applied.");try{const{data:s,error:t}=yield _.from("marketing_campaigns").update(d(l({},a),{updated_at:(new Date).toISOString()})).eq("id",e).select().single();if(t)throw t;return s}catch(s){throw s}})}static deleteCampaign(e){return c(this,null,function*(){if(!(yield this.checkMarketingTables()))throw new Error("Marketing features are not available. Please ensure database migrations are applied.");try{const{error:a}=yield _.from("marketing_campaigns").delete().eq("id",e);if(a)throw a;return!0}catch(a){return!1}})}static getActiveCampaigns(){return c(this,null,function*(){var e,a;if(!(yield this.checkMarketingTables()))return[];try{if(!_.auth||!_.from)return[];const s=(new Date).toISOString(),{data:t,error:i}=yield _.from("marketing_campaigns").select("*").eq("status","active").lte("start_date",s).gte("end_date",s).order("created_at",{ascending:!1});if(i){if((null==(e=i.message)?void 0:e.includes("No API key found"))||(null==(a=i.message)?void 0:a.includes("apikey")))return[];throw i}return t||[]}catch(s){return[]}})}static trackEvent(e,a,s){return c(this,null,function*(){if(yield this.checkMarketingTables())try{const{data:{user:t}}=yield _.auth.getUser();yield _.from("marketing_analytics").insert({event_type:e,event_data:a,campaign_id:s,user_id:null==t?void 0:t.id,session_id:sessionStorage.getItem("session_id"),ip_address:null,user_agent:navigator.userAgent,device_type:this.getDeviceType(),location_data:null})}catch(t){}})}static getAnalytics(e){return c(this,null,function*(){if(!(yield this.checkMarketingTables()))return W();try{let a=_.from("marketing_analytics").select("*");(null==e?void 0:e.event_type)&&(a=a.eq("event_type",e.event_type)),(null==e?void 0:e.campaign_id)&&(a=a.eq("campaign_id",e.campaign_id)),(null==e?void 0:e.date_from)&&(a=a.gte("created_at",e.date_from)),(null==e?void 0:e.date_to)&&(a=a.lte("created_at",e.date_to));const{data:s,error:t}=yield a;if(t)throw t;return s||[]}catch(a){return[]}})}static getDeviceType(){const e=navigator.userAgent;return/Mobile|Android|iPhone|iPad/.test(e)?"mobile":/Tablet|iPad/.test(e)?"tablet":"desktop"}}((e,a,s)=>{n(e,"symbol"!=typeof a?a+"":a,s)})(De,"marketingTablesAvailable",null);const Ge=({position:e="top",variant:a="default",maxCampaigns:s=3,className:t="",onDismiss:i,onAction:r})=>{var n,l;const[d,o]=u.useState([]),[m,x]=u.useState(0),[p,g]=u.useState(!0),[b,v]=u.useState(null),[j,N]=u.useState(null);u.useEffect(()=>{(()=>{c(void 0,null,function*(){try{const e=yield U("marketing_campaigns");if(N(e.exists),!e.exists)return v("Marketing features not available"),void g(!1)}catch(e){return N(!1),v("Unable to check marketing features"),void g(!1)}})})()},[]),u.useEffect(()=>{!1!==j?!0===j&&w():g(!1)},[j]);const w=()=>c(void 0,null,function*(){try{g(!0),v(null);let t=(yield De.getActiveCampaigns()).filter(s=>{var t,i,r,n,l;return!("top"!==e||!(null==(i=null==(t=s.campaign_config)?void 0:t.positions)?void 0:i.includes("top")))||(!("sidebar"!==e||!(null==(n=null==(r=s.campaign_config)?void 0:r.positions)?void 0:n.includes("sidebar")))||("featured"===a&&"promotional"===s.campaign_type||!("urgent"!==a||!(null==(l=s.campaign_config)?void 0:l.urgent))))});t=t.slice(0,s),o(t)}catch(t){v("Failed to load promotional campaigns")}finally{g(!1)}});u.useEffect(()=>{if(d.length<=1)return;const e=setInterval(()=>{x(e=>(e+1)%d.length)},5e3);return()=>clearInterval(e)},[d.length]);if(p)return null;if(b||0===d.length||!1===j)return null;const y=d[m];if(!y)return null;return h.jsx("div",{className:`relative ${t}`,children:h.jsx(de,{className:`border-2 ${(()=>{switch(a){case"featured":return"bg-gradient-to-r from-purple-600 to-blue-600 text-white border-purple-500";case"urgent":return"bg-gradient-to-r from-red-600 to-orange-600 text-white border-red-500";default:return"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-blue-500"}})()}`,children:h.jsx(oe,{className:"p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx(ce,{variant:"secondary",className:"text-xs",children:y.campaign_type}),(null==(n=y.campaign_config)?void 0:n.urgent)&&h.jsx(ce,{variant:"destructive",className:"text-xs",children:"Limited Time"})]}),h.jsx("h3",{className:"font-semibold text-lg mb-1",children:y.name}),y.description&&h.jsx("p",{className:"text-sm opacity-90 mb-3",children:y.description}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(f,{size:"sm",variant:"secondary",onClick:()=>(e=>{De.trackEvent("campaign_clicked",{campaign_id:e.id,campaign_type:e.campaign_type}),null==r||r(e)})(y),className:"bg-white/20 hover:bg-white/30 text-white border-white/30",children:[(null==(l=y.campaign_config)?void 0:l.cta_text)||"Learn More",h.jsx(xe,{className:"ml-1 h-3 w-3"})]}),d.length>1&&h.jsx("div",{className:"flex gap-1",children:d.map((e,a)=>h.jsx("button",{onClick:()=>x(a),className:"w-2 h-2 rounded-full transition-colors "+(a===m?"bg-white":"bg-white/50 hover:bg-white/70")},a))})]})]}),h.jsx(f,{size:"sm",variant:"ghost",onClick:()=>(e=>{o(a=>a.filter(a=>a.id!==e)),De.trackEvent("campaign_dismissed",{campaign_id:e}),null==i||i(e)})(y.id),className:"text-white/70 hover:text-white hover:bg-white/10",children:h.jsx(C,{className:"h-4 w-4"})})]})})})})},Be=({className:e})=>{const[a,s]=u.useState(navigator.onLine),[t,i]=u.useState(!1);return u.useEffect(()=>{const e=()=>{s(!0),i(!1)},a=()=>{s(!1),i(!0)};return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]),t?h.jsxs(me,{variant:"destructive",className:`mb-4 ${e}`,children:[h.jsx(ve,{className:"h-4 w-4"}),h.jsx(ue,{children:"You are currently offline. Some features may not work properly. Please check your internet connection."})]}):null},Ue=({className:e,user:a})=>{const[s,t]=u.useState(navigator.onLine);return u.useEffect(()=>{const e=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",a),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}},[]),a?h.jsx("div",{className:`flex items-center gap-2 text-sm ${e}`,children:s?h.jsxs(h.Fragment,{children:[h.jsx(je,{className:"h-4 w-4 text-green-500"}),h.jsx("span",{className:"text-green-700",children:"Online"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ve,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{className:"text-red-700",children:"Offline"})]})}):null};function We({children:e}){var a,s,t,i,r,n,l,d;const{signOut:o,user:m}=w(),u=S();y();const x=()=>{u("/signin")},p=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U";return h.jsx(ke,{children:h.jsxs("div",{className:"min-h-screen flex w-full bg-background",children:[h.jsx(Ie,{}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx(Be,{}),h.jsx(Ge,{position:"top",variant:"default",maxCampaigns:1,className:"z-40"}),h.jsx("header",{className:"h-16 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between h-full px-4 lg:px-6",children:[h.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[h.jsx(Ce,{}),h.jsxs(M,{to:"/",className:"flex items-center gap-2 font-bold text-lg lg:text-xl text-gradient",children:[h.jsx(T,{className:"h-5 w-5 lg:h-6 lg:w-6 text-primary"}),h.jsx("span",{className:"hidden sm:inline",children:"Glocal"}),h.jsx("span",{className:"sm:hidden",children:"G"})]})]}),h.jsx("div",{className:"flex-1 max-w-2xl mx-4 lg:mx-8 hidden lg:block",children:h.jsxs("div",{className:"relative",children:[h.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(E,{placeholder:"Search events, communities, discussions...",className:"pl-10 bg-muted/50 border-0 focus:bg-background transition-all duration-200"})]})}),h.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[h.jsx(Ue,{className:"mr-2 hidden lg:block",user:m}),m?h.jsxs(h.Fragment,{children:[h.jsxs(f,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground hidden lg:flex",children:[h.jsx(Y,{className:"h-4 w-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Local"})]}),h.jsxs(se,{children:[h.jsx(te,{asChild:!0,children:h.jsxs(f,{size:"sm",className:"btn-community",children:[h.jsx(R,{className:"h-4 w-4 mr-2"}),h.jsx("span",{className:"hidden sm:inline",children:"Create"})]})}),h.jsxs(ie,{align:"end",className:"w-64",children:[h.jsxs(re,{onClick:()=>u("/create"),className:"gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Create Post"]}),h.jsxs(re,{onClick:()=>u("/create-event"),className:"gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),"Create Event"]}),h.jsxs(re,{onClick:()=>u("/community/create-discussion"),className:"gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),"Start Discussion"]}),h.jsxs(re,{onClick:()=>u("/community/create-group"),className:"gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),"Create Group"]}),h.jsx(ne,{}),h.jsxs(re,{onClick:()=>u("/legal-assistant"),className:"gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Legal Assistant"]}),h.jsxs(re,{onClick:()=>u("/life-wish"),className:"gap-3",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500"}),"Life Wish"]})]})]}),m?h.jsx(B,{}):h.jsx(H,{}),h.jsxs(se,{children:[h.jsx(te,{asChild:!0,children:h.jsx(f,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:h.jsxs(q,{className:"h-8 w-8",children:[h.jsx(F,{src:null==(a=m.user_metadata)?void 0:a.avatar_url,alt:(null==(s=m.user_metadata)?void 0:s.full_name)||m.email}),h.jsx(I,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground text-xs",children:p((null==(t=m.user_metadata)?void 0:t.full_name)||m.email)})]})})}),h.jsxs(ie,{align:"end",className:"w-56",children:[h.jsxs("div",{className:"flex items-center justify-start gap-2 p-2",children:[h.jsxs(q,{className:"h-8 w-8",children:[h.jsx(F,{src:null==(i=m.user_metadata)?void 0:i.avatar_url,alt:(null==(r=m.user_metadata)?void 0:r.full_name)||m.email}),h.jsx(I,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:p((null==(n=m.user_metadata)?void 0:n.full_name)||m.email)})]}),h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:(null==(l=m.user_metadata)?void 0:l.full_name)||(null==(d=m.email)?void 0:d.split("@")[0])}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:m.email})]})]}),h.jsx(ne,{}),h.jsxs(re,{onClick:()=>u("/profile"),className:"gap-3",children:[h.jsx(ee,{className:"h-4 w-4"}),"Profile"]}),h.jsxs(re,{onClick:()=>u("/settings"),className:"gap-3",children:[h.jsx(ae,{className:"h-4 w-4"}),"Settings"]}),h.jsx(ne,{}),h.jsxs(re,{onClick:()=>c(this,null,function*(){yield o()}),className:"gap-3 text-red-600",children:[h.jsx(he,{className:"h-4 w-4"}),"Sign Out"]})]})]})]}):h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(f,{variant:"ghost",onClick:x,size:"sm",className:"hidden sm:flex",children:"Sign In"}),h.jsxs(f,{onClick:x,size:"sm",className:"btn-community",children:[h.jsx("span",{className:"hidden sm:inline",children:"Get Started"}),h.jsx("span",{className:"sm:hidden",children:"Sign In"})]})]})]})]})}),h.jsx("main",{className:"flex-1 overflow-auto bg-muted/20",children:h.jsx("div",{className:"container mx-auto px-4 py-4 lg:py-6",children:e})})]})]})})}const He=()=>{const{createNotification:e}=le(),{user:a}=w(),{toast:s}=z();return h.jsx(f,{onClick:()=>c(void 0,null,function*(){if(a)try{const t=[{user_id:a.id,type:"new_follower",title:"New Follower",message:"John Doe started following you!",data:{follower_id:"test-follower-1"}},{user_id:a.id,type:"event_reminder",title:"Event Reminder",message:'Your event "Community Art Walk" starts in 2 hours',data:{event_id:"test-event-1"}},{user_id:a.id,type:"booking_request",title:"New Booking Request",message:"You have a new booking request for a wedding event",data:{booking_id:"test-booking-1"}},{user_id:a.id,type:"message_request",title:"New Message",message:"You have a new message from Sarah Johnson",data:{conversation_id:"test-conversation-1"}},{user_id:a.id,type:"system_announcement",title:"System Update",message:"We've added new features to improve your experience!",data:{announcement_id:"test-announcement-1"}}];for(const a of t)yield e(a);s({title:"Test notifications created!",description:"Check your notification bell to see the new notifications."})}catch(t){s({title:"Error",description:"Failed to create test notifications",variant:"destructive"})}else s({title:"Error",description:"You must be logged in to test notifications",variant:"destructive"})}),variant:"outline",size:"sm",className:"text-xs",children:"Create Test Notifications"})},Ze=[{id:"all",label:"All",icon:Z},{id:"events",label:"Events",icon:$},{id:"communities",label:"Communities",icon:V},{id:"artists",label:"Artists",icon:D}],Ye=["Local Music Festival","Community Garden","Art Workshop","Book Club"],$e=["Summer Events","Local Artists","Community Groups","Food Festivals"];function Ve({placeholder:e="Search events, communities, artists...",className:a}){const[s,t]=u.useState(!1),[i,r]=u.useState(""),[n,l]=u.useState("all"),[d,o]=u.useState([]),[m,x]=u.useState(!1),p=u.useRef(null),g=S();u.useEffect(()=>{s&&p.current&&setTimeout(()=>{var e;return null==(e=p.current)?void 0:e.focus()},100)},[s]);const b=e=>c(this,null,function*(){if(!e.trim())return void o([]);x(!0),yield new Promise(e=>setTimeout(e,500));o([{id:"1",type:"event",title:"Local Music Festival 2024",description:"A three-day celebration of local music talent",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100&h=100&fit=crop",icon:h.jsx($,{className:"h-4 w-4"}),url:"/event/1"},{id:"2",type:"community",title:"Local Artists Network",description:"Connect with local artists and creators",image:"https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?w=100&h=100&fit=crop",icon:h.jsx(V,{className:"h-4 w-4"}),url:"/community/2"},{id:"3",type:"artist",title:"Sarah Chen - Musician",description:"Local singer-songwriter and guitarist",image:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop",icon:h.jsx(D,{className:"h-4 w-4"}),url:"/artist/3"}]),x(!1)});return h.jsxs(h.Fragment,{children:[h.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>t(!0),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[h.jsx(Z,{className:"h-4 w-4"}),h.jsx("span",{className:"hidden sm:inline",children:e}),h.jsx("span",{className:"sm:hidden",children:"Search"})]}),h.jsx(L,{open:s,onOpenChange:t,children:h.jsx(O,{side:"top",className:"h-full p-0",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"p-4 border-b border-border",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(f,{variant:"ghost",size:"sm",onClick:()=>t(!1),children:h.jsx(C,{className:"h-5 w-5"})}),h.jsx("form",{onSubmit:e=>{e.preventDefault(),b(i)},className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),h.jsx(E,{ref:p,value:i,onChange:e=>r(e.target.value),placeholder:e,className:"pl-10 pr-4 h-10"})]})})]})}),h.jsx("div",{className:"p-4 border-b border-border",children:h.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:Ze.map(e=>h.jsxs(f,{variant:n===e.id?"default":"outline",size:"sm",onClick:()=>l(e.id),className:"flex items-center gap-2 whitespace-nowrap",children:[h.jsx(e.icon,{className:"h-3 w-3"}),e.label]},e.id))})}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:i?h.jsx("div",{className:"p-4 space-y-3",children:m?h.jsx("div",{className:"flex items-center justify-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length>0?d.map(e=>h.jsx(de,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>(e=>{g(e.url),t(!1),r("")})(e),children:h.jsx(oe,{className:"p-3",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs(q,{className:"h-10 w-10",children:[h.jsx(F,{src:e.image,alt:e.title}),h.jsx(I,{className:"bg-primary/10",children:e.icon})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-medium text-sm truncate",children:e.title}),h.jsx(ce,{variant:"secondary",className:"text-xs",children:e.type})]}),h.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:e.description})]})]})})},e.id)):h.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[h.jsx(Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),h.jsx("p",{children:"No results found"}),h.jsx("p",{className:"text-sm",children:"Try different keywords"})]})}):h.jsxs("div",{className:"p-4 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-sm mb-3",children:"Recent Searches"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Ye.map(e=>h.jsx(f,{variant:"outline",size:"sm",onClick:()=>(e=>{r(e),b(e)})(e),className:"text-xs",children:e},e))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-sm mb-3",children:"Trending"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:$e.map(e=>h.jsx(f,{variant:"outline",size:"sm",onClick:()=>(e=>{r(e),b(e)})(e),className:"text-xs",children:e},e))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-sm mb-3",children:"Quick Actions"}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs(f,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{g("/events"),t(!1)},children:[h.jsx($,{className:"h-5 w-5"}),h.jsx("span",{className:"text-xs",children:"Browse Events"})]}),h.jsxs(f,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{g("/community"),t(!1)},children:[h.jsx(V,{className:"h-5 w-5"}),h.jsx("span",{className:"text-xs",children:"Find Communities"})]}),h.jsxs(f,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{g("/book-artist"),t(!1)},children:[h.jsx(D,{className:"h-5 w-5"}),h.jsx("span",{className:"text-xs",children:"Book Artists"})]}),h.jsxs(f,{variant:"outline",className:"h-16 flex-col gap-2",onClick:()=>{g("/discover"),t(!1)},children:[h.jsx(Y,{className:"h-5 w-5"}),h.jsx("span",{className:"text-xs",children:"Discover Local"})]})]})]})]})})]})})})]})}const Je=[{title:"Feed",url:"/feed",icon:P},{title:"Discover",url:"/discover",icon:Z},{title:"Events",url:"/events",icon:$},{title:"Community",url:"/community",icon:V},{title:"Artists",url:"/book-artist",icon:K}],Ke=[{title:"Legal Assistant",url:"/legal-assistant",icon:be},{title:"Life Wishes",url:"/life-wish",icon:pe}],Qe=[{title:"Dashboard",url:"/user-dashboard",icon:ee},{title:"Messages",url:"/messages",icon:X},{title:"News Feed",url:"/news",icon:fe},{title:"Profile",url:"/profile",icon:ee},{title:"Settings",url:"/settings",icon:ae}];function Xe({children:e}){var a,s,t,i,r,n,l,d;const{signOut:o,user:m}=w(),x=S(),p=y(),[g,b]=u.useState(!1),[v,j]=u.useState(!1);u.useEffect(()=>{const e=()=>{j(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);const N=e=>{x(e),b(!1)},k=e=>e?e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2):"U",_=e=>p.pathname===e;return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx(Be,{}),h.jsx(Ge,{position:"top",variant:"default",maxCampaigns:1,className:"z-40"}),h.jsx("header",{className:"sticky top-0 z-50 transition-all duration-200 "+(v?"bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 shadow-sm border-b border-border":"bg-background"),children:h.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[h.jsxs(M,{to:"/",className:"flex items-center gap-2 font-bold text-lg text-gradient",children:[h.jsx(T,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"hidden xs:inline",children:"Glocal"}),h.jsx("span",{className:"xs:hidden",children:"G"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs(f,{variant:"ghost",size:"sm",className:"hidden sm:flex gap-1 text-muted-foreground hover:text-foreground",children:[h.jsx(Y,{className:"h-4 w-4"}),h.jsx("span",{className:"text-xs",children:"Local"})]}),h.jsx(Ve,{}),m?h.jsx(B,{}):h.jsx(H,{}),h.jsx(He,{}),m?h.jsxs(se,{children:[h.jsx(te,{asChild:!0,children:h.jsx(f,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:h.jsxs(q,{className:"h-8 w-8",children:[h.jsx(F,{src:null==(a=m.user_metadata)?void 0:a.avatar_url,alt:(null==(s=m.user_metadata)?void 0:s.full_name)||m.email}),h.jsx(I,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground text-xs",children:k((null==(t=m.user_metadata)?void 0:t.full_name)||m.email)})]})})}),h.jsxs(ie,{align:"end",className:"w-56",children:[h.jsxs("div",{className:"flex items-center justify-start gap-2 p-2",children:[h.jsxs(q,{className:"h-8 w-8",children:[h.jsx(F,{src:null==(i=m.user_metadata)?void 0:i.avatar_url,alt:(null==(r=m.user_metadata)?void 0:r.full_name)||m.email}),h.jsx(I,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:k((null==(n=m.user_metadata)?void 0:n.full_name)||m.email)})]}),h.jsxs("div",{className:"flex flex-col space-y-1",children:[h.jsx("p",{className:"text-sm font-medium leading-none",children:(null==(l=m.user_metadata)?void 0:l.full_name)||(null==(d=m.email)?void 0:d.split("@")[0])}),h.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:m.email})]})]}),h.jsx(ne,{}),h.jsxs(re,{onClick:()=>N("/profile"),className:"gap-3",children:[h.jsx(ee,{className:"h-4 w-4"}),"Profile"]}),h.jsxs(re,{onClick:()=>N("/settings"),className:"gap-3",children:[h.jsx(ae,{className:"h-4 w-4"}),"Settings"]}),h.jsx(ne,{}),h.jsxs(re,{onClick:()=>c(this,null,function*(){yield o(),b(!1)}),className:"gap-3 text-red-600",children:[h.jsx(he,{className:"h-4 w-4"}),"Sign Out"]})]})]}):h.jsx(f,{onClick:()=>x("/signin"),size:"sm",className:"btn-community",children:"Sign In"}),h.jsxs(L,{open:g,onOpenChange:b,children:[h.jsx(G,{asChild:!0,children:h.jsx(f,{variant:"ghost",size:"sm",className:"lg:hidden",children:h.jsx(J,{className:"h-5 w-5"})})}),h.jsx(O,{side:"right",className:"w-80 p-0",children:h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"p-4 border-b border-border",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[h.jsx(T,{className:"h-5 w-5 text-primary"}),"Menu"]}),h.jsx(f,{variant:"ghost",size:"sm",onClick:()=>b(!1),children:h.jsx(C,{className:"h-4 w-4"})})]})}),h.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[h.jsx("div",{className:"space-y-2",children:h.jsxs(f,{onClick:()=>N("/create"),className:"w-full btn-community",children:[h.jsx(R,{className:"h-4 w-4 mr-2"}),"Create Post"]})}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Main"}),h.jsx("div",{className:"space-y-1",children:Je.map(e=>h.jsxs(f,{variant:_(e.url)?"secondary":"ghost",onClick:()=>N(e.url),className:"w-full justify-start",children:[h.jsx(e.icon,{className:"h-4 w-4 mr-3"}),e.title]},e.title))})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"New Features"}),h.jsx("div",{className:"space-y-1",children:Ke.map(e=>h.jsxs(f,{variant:_(e.url)?"secondary":"ghost",onClick:()=>N(e.url),className:"w-full justify-start",children:[h.jsx(e.icon,{className:"h-4 w-4 mr-3"}),e.title]},e.title))})]}),m&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Account"}),h.jsx("div",{className:"space-y-1",children:Qe.map(e=>h.jsxs(f,{variant:_(e.url)?"secondary":"ghost",onClick:()=>N(e.url),className:"w-full justify-start",children:[h.jsx(e.icon,{className:"h-4 w-4 mr-3"}),e.title]},e.title))})]})]})]})})]})]})]})}),h.jsx("main",{className:"flex-1 overflow-auto bg-muted/20",children:h.jsx("div",{className:"container mx-auto px-4 py-4 sm:py-6",children:e})}),h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border lg:hidden",children:h.jsxs("div",{className:"flex items-center justify-around h-16 px-2",children:[Je.map(e=>h.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>x(e.url),className:"flex flex-col items-center gap-1 h-12 w-12 p-0 "+(_(e.url)?"text-primary bg-primary/10":"text-muted-foreground hover:text-foreground"),children:[h.jsx(e.icon,{className:"h-5 w-5"}),h.jsx("span",{className:"text-xs",children:e.title})]},e.title)),h.jsxs(f,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"flex flex-col items-center gap-1 h-12 w-12 p-0 text-muted-foreground hover:text-foreground",children:[h.jsx(J,{className:"h-5 w-5"}),h.jsx("span",{className:"text-xs",children:"More"})]})]})}),h.jsx("div",{className:"h-16 lg:hidden"})]})}function ea({children:e}){const[a,s]=u.useState(!1);return u.useEffect(()=>{const e=()=>{s(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),a?h.jsx(Xe,{children:e}):h.jsx(We,{children:e})}export{xe as E,pe as H,ea as R,Ne as S,be as a};
