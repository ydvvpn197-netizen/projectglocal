var z=Object.defineProperty,M=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var L=(i,r,e)=>r in i?z(i,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[r]=e,N=(i,r)=>{for(var e in r||(r={}))T.call(r,e)&&L(i,e,r[e]);if(C)for(var e of C(r))V.call(r,e)&&L(i,e,r[e]);return i},A=(i,r)=>M(i,$(r));var o=(i,r,e)=>new Promise((s,a)=>{var l=n=>{try{d(e.next(n))}catch(x){a(x)}},u=n=>{try{d(e.throw(n))}catch(x){a(x)}},d=n=>n.done?s(n.value):Promise.resolve(n.value).then(l,u);d((e=e.apply(i,r)).next())});import{c as F,s as c,r as g,j as t,C as B,p as G,q as W,t as Y,v as H,B as v,N as I,X,S as J,V as q}from"./main-B2Z1A0fl.js";import{I as U}from"./index-yZSPA8A-.js";import{L as P}from"./label-naFpKG2V.js";import{A as K,a as Q,U as Z,M as ee}from"./alert-DX9hSffn.js";import{S as E}from"./shield-CZrQFOJQ.js";import{E as re}from"./eye-off-B3dPSqT9.js";import{E as te}from"./eye-DKsWSINO.js";import{L as O}from"./loader-2-BKFknEq3.js";import{S as R}from"./scroll-area-BhRuPQbm.js";import{B as se}from"./bar-chart-3-BOeHrMz9.js";import{L as D}from"./log-out-wiSeNNbg.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=F("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=F("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);class oe{isAdmin(){return o(this,null,function*(){try{const{data:{user:r}}=yield c.auth.getUser();if(!r)return!1;const{data:e,error:s}=yield c.from("admin_users").select("id").eq("user_id",r.id).eq("is_active",!0).single();return s?!1:!!e}catch(r){return console.error("Error checking admin status:",r),!1}})}getCurrentAdminUser(){return o(this,null,function*(){try{const{data:{user:r}}=yield c.auth.getUser();if(!r)return null;const{data:e,error:s}=yield c.from("admin_users").select(`
          *,
          role:admin_roles(*),
          profile:profiles(username, full_name, email, avatar_url)
        `).eq("user_id",r.id).eq("is_active",!0).single();return s?(console.error("Error fetching admin user:",s),null):e}catch(r){return console.error("Error getting current admin user:",r),null}})}checkPermission(r){return o(this,null,function*(){try{const{data:{user:e}}=yield c.auth.getUser();if(!e)return!1;const{data:s,error:a}=yield c.rpc("check_admin_permission",{required_permission:r,user_uuid:e.id});return a?(console.error("Error checking permission:",a),!1):s}catch(e){return console.error("Error checking permission:",e),!1}})}logAction(r,e,s,a,l=!0,u){return o(this,null,function*(){try{const{data:d,error:n}=yield c.rpc("log_admin_action",{action_type:r,resource_type:e,resource_id:s,action_data:a,success:l,error_message:u});return n?(console.error("Error logging admin action:",n),null):d}catch(d){return console.error("Error logging admin action:",d),null}})}getAdminUsers(r=1,e=20,s){return o(this,null,function*(){try{let a=c.from("admin_users").select(`
          *,
          role:admin_roles(*),
          profile:profiles(username, full_name, email, avatar_url)
        `,{count:"exact"});s!=null&&s.search&&(a=a.or(`profile.username.ilike.%${s.search}%,profile.full_name.ilike.%${s.search}%`)),s!=null&&s.role_id&&(a=a.eq("role_id",s.role_id)),(s==null?void 0:s.is_active)!==void 0&&(a=a.eq("is_active",s.is_active));const l=(r-1)*e;a=a.range(l,l+e-1),a=a.order("created_at",{ascending:!1});const{data:u,error:d,count:n}=yield a;if(d)throw d;return{data:u||[],pagination:{page:r,limit:e,total:n||0,total_pages:Math.ceil((n||0)/e)}}}catch(a){throw console.error("Error fetching admin users:",a),a}})}createAdminUser(r,e,s){return o(this,null,function*(){try{const{data:a,error:l}=yield c.from("admin_users").insert({user_id:r,role_id:e,two_factor_enabled:(s==null?void 0:s.twoFactorEnabled)||!1,ip_whitelist:(s==null?void 0:s.ipWhitelist)||[]}).select(`
          *,
          role:admin_roles(*),
          profile:profiles(username, full_name, email, avatar_url)
        `).single();if(l)throw l;return yield this.logAction("create","admin_user",a.id,{user_id:r,role_id:e}),a}catch(a){throw console.error("Error creating admin user:",a),a}})}updateAdminUser(r,e){return o(this,null,function*(){try{const{data:s,error:a}=yield c.from("admin_users").update(A(N({},e),{updated_at:new Date().toISOString()})).eq("id",r).select(`
          *,
          role:admin_roles(*),
          profile:profiles(username, full_name, email, avatar_url)
        `).single();if(a)throw a;return yield this.logAction("update","admin_user",r,e),s}catch(s){throw console.error("Error updating admin user:",s),s}})}deleteAdminUser(r){return o(this,null,function*(){try{const{error:e}=yield c.from("admin_users").delete().eq("id",r);if(e)throw e;yield this.logAction("delete","admin_user",r)}catch(e){throw console.error("Error deleting admin user:",e),e}})}getAdminRoles(){return o(this,null,function*(){try{const{data:r,error:e}=yield c.from("admin_roles").select("*").eq("is_active",!0).order("display_name");if(e)throw e;return r||[]}catch(r){throw console.error("Error fetching admin roles:",r),r}})}createAdminRole(r){return o(this,null,function*(){try{const{data:e,error:s}=yield c.from("admin_roles").insert(r).select().single();if(s)throw s;return yield this.logAction("create","admin_role",e.id,r),e}catch(e){throw console.error("Error creating admin role:",e),e}})}updateAdminRole(r,e){return o(this,null,function*(){try{const{data:s,error:a}=yield c.from("admin_roles").update(A(N({},e),{updated_at:new Date().toISOString()})).eq("id",r).select().single();if(a)throw a;return yield this.logAction("update","admin_role",r,e),s}catch(s){throw console.error("Error updating admin role:",s),s}})}deleteAdminRole(r){return o(this,null,function*(){try{const{error:e}=yield c.from("admin_roles").delete().eq("id",r);if(e)throw e;yield this.logAction("delete","admin_role",r)}catch(e){throw console.error("Error deleting admin role:",e),e}})}getAdminActions(r=1,e=50,s){return o(this,null,function*(){try{let a=c.from("admin_actions").select(`
          *,
          admin_user:admin_users(
            id,
            profile:profiles(username, full_name)
          )
        `,{count:"exact"});s!=null&&s.action_type&&(a=a.eq("action_type",s.action_type)),s!=null&&s.resource_type&&(a=a.eq("resource_type",s.resource_type)),s!=null&&s.admin_user_id&&(a=a.eq("admin_user_id",s.admin_user_id)),(s==null?void 0:s.success)!==void 0&&(a=a.eq("success",s.success)),s!=null&&s.date_from&&(a=a.gte("created_at",s.date_from)),s!=null&&s.date_to&&(a=a.lte("created_at",s.date_to));const l=(r-1)*e;a=a.range(l,l+e-1),a=a.order("created_at",{ascending:!1});const{data:u,error:d,count:n}=yield a;if(d)throw d;return{data:u||[],pagination:{page:r,limit:e,total:n||0,total_pages:Math.ceil((n||0)/e)}}}catch(a){throw console.error("Error fetching admin actions:",a),a}})}updateLastLogin(r){return o(this,null,function*(){try{const{error:e}=yield c.from("admin_users").update({last_login_at:new Date().toISOString(),login_count:c.sql`login_count + 1`}).eq("id",r);if(e)throw e}catch(e){throw console.error("Error updating last login:",e),e}})}getDashboardStats(){return o(this,null,function*(){try{return{totalUsers:1250,activeUsers:890,newUsersToday:45,totalContent:3456,pendingReports:23,totalEvents:567,totalPosts:2345,totalReviews:544}}catch(r){throw console.error("Error fetching dashboard stats:",r),r}})}getSystemSettings(){return o(this,null,function*(){try{const{data:r,error:e}=yield c.from("system_settings").select("*").order("setting_key");if(e)throw e;return r||[]}catch(r){throw console.error("Error fetching system settings:",r),r}})}updateSystemSettings(r){return o(this,null,function*(){try{for(const e of r){const{error:s}=yield c.from("system_settings").upsert({setting_key:e.setting_key,setting_value:e.setting_value,setting_type:e.setting_type,description:e.description,is_public:e.is_public});if(s)throw s}}catch(e){throw console.error("Error updating system settings:",e),e}})}getUsers(r){return o(this,null,function*(){try{let e=c.from("profiles").select("*",{count:"exact"});r.search&&(e=e.or(`full_name.ilike.%${r.search}%,email.ilike.%${r.search}%`)),r.role&&(e=e.eq("role",r.role)),r.status&&(e=e.eq("status",r.status));const{data:s,error:a,count:l}=yield e.range((r.page-1)*r.limit,r.page*r.limit-1).order("created_at",{ascending:!1});if(a)throw a;return{data:s||[],total:l||0}}catch(e){throw console.error("Error fetching users:",e),e}})}getContentReports(r){return o(this,null,function*(){try{let e=c.from("content_reports").select(`
          *,
          reporter:profiles!content_reports_reporter_id_fkey(*)
        `,{count:"exact"});r.search&&(e=e.or(`report_reason.ilike.%${r.search}%,report_details.ilike.%${r.search}%`)),r.contentType&&(e=e.eq("content_type",r.contentType)),r.reportStatus&&(e=e.eq("report_status",r.reportStatus)),r.reportReason&&(e=e.eq("report_reason",r.reportReason));const{data:s,error:a,count:l}=yield e.range((r.page-1)*r.limit,r.page*r.limit-1).order("created_at",{ascending:!1});if(a)throw a;return{data:s||[],total:l||0}}catch(e){throw console.error("Error fetching content reports:",e),e}})}resolveContentReport(r,e,s){return o(this,null,function*(){try{const{error:a}=yield c.from("content_reports").update({report_status:e==="approve"?"resolved":e==="reject"?"dismissed":"escalated",resolution_notes:s,reviewed_at:new Date().toISOString()}).eq("id",r);if(a)throw a}catch(a){throw console.error("Error resolving content report:",a),a}})}getUserAnalytics(r){return o(this,null,function*(){try{return{totalUsers:1250,activeUsers:890,newUsers:45,previousPeriodUsers:1205,dailyActiveUsers:234,weeklyActiveUsers:567,monthlyActiveUsers:890,usersWithLocation:78.5,verifiedUsers:92.3,day1Retention:65.2,day7Retention:42.1,day30Retention:28.7}}catch(e){throw console.error("Error fetching user analytics:",e),e}})}getContentAnalytics(r){return o(this,null,function*(){try{return{totalContent:3456,newContent:123,previousPeriodContent:3333,posts:2345,events:567,reviews:544,avgViewsPerPost:45,avgLikesPerPost:12,avgCommentsPerPost:8,reportedContent:23,removedContent:5,contentApprovalRate:98.5}}catch(e){throw console.error("Error fetching content analytics:",e),e}})}getPlatformMetrics(r){return o(this,null,function*(){try{return{engagementRate:67.8,avgSessionDuration:4.5,totalViews:125e3,totalLikes:34500,totalShares:8900,pagesPerSession:3.2,bounceRate:23.4,uptime:99.9,avgResponseTime:150,errorRate:.1}}catch(e){throw console.error("Error fetching platform metrics:",e),e}})}suspendUser(r){return o(this,null,function*(){try{const{error:e}=yield c.from("profiles").update({status:"suspended"}).eq("id",r);if(e)throw e}catch(e){throw console.error("Error suspending user:",e),e}})}activateUser(r){return o(this,null,function*(){try{const{error:e}=yield c.from("profiles").update({status:"active"}).eq("id",r);if(e)throw e}catch(e){throw console.error("Error activating user:",e),e}})}deleteUser(r){return o(this,null,function*(){try{const{error:e}=yield c.rpc("delete_user_account",{user_uuid:r});if(e)throw e}catch(e){throw console.error("Error deleting user:",e),e}})}}const S=()=>{const[i,r]=g.useState(null),[e,s]=g.useState(null),[a,l]=g.useState(!0),[u,d]=g.useState(null),n=g.useMemo(()=>new oe,[]),x=g.useCallback(()=>o(void 0,null,function*(){var h;try{l(!0),d(null);const{data:{user:m}}=yield c.auth.getUser();if(!m){r(null),s(null);return}if(!(yield n.isAdmin())){r(null),s(null);return}const p=yield n.getCurrentAdminUser();p&&(r(p),s(((h=p.role)==null?void 0:h.permissions)||null),yield n.updateLastLogin(p.id))}catch(m){console.error("Error checking admin status:",m),d("Failed to verify admin status"),r(null),s(null)}finally{l(!1)}}),[n]),_=g.useCallback((h,m)=>o(void 0,null,function*(){var f;try{l(!0),d(null);const{data:p,error:k}=yield c.auth.signInWithPassword({email:h,password:m});if(k)throw new Error(k.message);if(!p.user)throw new Error("Login failed");if(!(yield n.isAdmin()))throw new Error("Access denied. Admin privileges required.");const b=yield n.getCurrentAdminUser();if(b)r(b),s(((f=b.role)==null?void 0:f.permissions)||null),yield n.updateLastLogin(b.id);else throw new Error("Failed to load admin data")}catch(p){throw console.error("Admin login error:",p),d(p instanceof Error?p.message:"Login failed"),p}finally{l(!1)}}),[n]),j=g.useCallback(()=>o(void 0,null,function*(){try{l(!0),d(null),i&&(yield n.logAction("logout","admin_session",i.id));const{error:h}=yield c.auth.signOut();h&&console.error("Logout error:",h),r(null),s(null)}catch(h){console.error("Admin logout error:",h),d("Logout failed")}finally{l(!1)}}),[n,i]),y=g.useCallback(h=>{if(!e)return!1;for(const m in e){const f=e[m];if(Array.isArray(f)&&f.includes(h))return!0}return!1},[e]),w=g.useCallback(h=>i!=null&&i.role?i.role.name===h:!1,[i]);return g.useEffect(()=>{const{data:{subscription:h}}=c.auth.onAuthStateChange((m,f)=>o(void 0,null,function*(){m==="SIGNED_IN"&&(f!=null&&f.user)?yield x():m==="SIGNED_OUT"&&(r(null),s(null))}));return()=>h.unsubscribe()},[x]),g.useEffect(()=>{x()},[x]),{adminUser:i,permissions:e,isLoading:a,error:u,login:_,logout:j,checkPermission:y,hasRole:w}},ie=()=>{const[i,r]=g.useState(""),[e,s]=g.useState(""),[a,l]=g.useState(!1),[u,d]=g.useState(!1),[n,x]=g.useState(null),{login:_}=S(),j=y=>o(void 0,null,function*(){if(y.preventDefault(),!i||!e){x("Please fill in all fields");return}try{d(!0),x(null),yield _(i,e)}catch(w){x(w instanceof Error?w.message:"Login failed")}finally{d(!1)}});return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs(B,{className:"shadow-xl",children:[t.jsxs(G,{className:"text-center pb-6",children:[t.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-primary/10",children:t.jsx(E,{className:"h-8 w-8 text-primary"})}),t.jsx(W,{className:"text-2xl font-bold",children:"Admin Access"}),t.jsx(Y,{children:"Sign in to access the admin dashboard"})]}),t.jsxs(H,{children:[t.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n&&t.jsx(K,{variant:"destructive",children:t.jsx(Q,{children:n})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(P,{htmlFor:"email",children:"Email"}),t.jsx(U,{id:"email",type:"email",placeholder:"admin@example.com",value:i,onChange:y=>r(y.target.value),disabled:u,required:!0})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(P,{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(U,{id:"password",type:a?"text":"password",placeholder:"Enter your password",value:e,onChange:y=>s(y.target.value),disabled:u,required:!0}),t.jsx(v,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),disabled:u,children:a?t.jsx(re,{className:"h-4 w-4"}):t.jsx(te,{className:"h-4 w-4"})})]})]}),t.jsx(v,{type:"submit",className:"w-full",disabled:u,children:u?t.jsxs(t.Fragment,{children:[t.jsx(O,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"})]}),t.jsx("div",{className:"mt-6 pt-6 border-t",children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"This area is restricted to authorized administrators only."}),t.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"All access attempts are logged for security purposes."})]})})]})]})})})},je=({children:i,requiredPermission:r,requiredRole:e,fallback:s})=>{const{adminUser:a,isLoading:l,checkPermission:u,hasRole:d}=S();return I(),l?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx(O,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Verifying admin access..."})]})}):a?r&&!u(r)?s||t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have permission to access this page."}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Required permission: ",r]})]})}):e&&!d(e)?s||t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have the required role to access this page."}),t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Required role: ",e]})]})}):t.jsx(t.Fragment,{children:i}):t.jsx(ie,{})},ve=({children:i})=>{var n,x,_,j,y,w,h;const[r,e]=g.useState(!1),s=I(),{adminUser:a,logout:l}=S(),u=[{name:"Dashboard",href:"/admin",icon:ne,permission:"dashboard:view"},{name:"User Management",href:"/admin/users",icon:Z,permission:"users:manage"},{name:"Content Moderation",href:"/admin/moderation",icon:ae,permission:"moderation:manage"},{name:"Analytics",href:"/admin/analytics",icon:se,permission:"analytics:view"},{name:"System Settings",href:"/admin/settings",icon:J,permission:"settings:manage"}],d=()=>o(void 0,null,function*(){try{yield l()}catch(m){console.error("Logout failed:",m)}});return t.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${r?"block":"hidden"}`,children:[t.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>e(!1)}),t.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-64 flex-col bg-white",children:[t.jsxs("div",{className:"flex h-16 items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(E,{className:"h-8 w-8 text-blue-600"}),t.jsx("span",{className:"text-lg font-semibold",children:"Admin Panel"})]}),t.jsx(v,{variant:"ghost",size:"sm",onClick:()=>e(!1),children:t.jsx(X,{className:"h-5 w-5"})})]}),t.jsx(R,{className:"flex-1 px-4",children:t.jsx("nav",{className:"space-y-2",children:u.map(m=>{const f=m.icon;return t.jsxs(q,{to:m.href,className:({isActive:p})=>`flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,onClick:()=>e(!1),children:[t.jsx(f,{className:"h-5 w-5"}),t.jsx("span",{children:m.name})]},m.name)})})}),t.jsxs("div",{className:"border-t p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium text-blue-700",children:((x=(n=a==null?void 0:a.profile)==null?void 0:n.full_name)==null?void 0:x.charAt(0))||"A"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((_=a==null?void 0:a.profile)==null?void 0:_.full_name)||"Admin"}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Administrator"})]})]}),t.jsxs(v,{variant:"outline",size:"sm",className:"w-full",onClick:d,children:[t.jsx(D,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})]}),t.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:t.jsxs("div",{className:"flex flex-col flex-grow bg-white border-r border-gray-200",children:[t.jsx("div",{className:"flex h-16 items-center px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(E,{className:"h-8 w-8 text-blue-600"}),t.jsx("span",{className:"text-lg font-semibold",children:"Admin Panel"})]})}),t.jsx(R,{className:"flex-1 px-4",children:t.jsx("nav",{className:"space-y-2",children:u.map(m=>{const f=m.icon;return t.jsxs(q,{to:m.href,className:({isActive:p})=>`flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${p?"bg-blue-100 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[t.jsx(f,{className:"h-5 w-5"}),t.jsx("span",{children:m.name})]},m.name)})})}),t.jsxs("div",{className:"border-t p-4",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-medium text-blue-700",children:((y=(j=a==null?void 0:a.profile)==null?void 0:j.full_name)==null?void 0:y.charAt(0))||"A"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:((w=a==null?void 0:a.profile)==null?void 0:w.full_name)||"Admin"}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:"Administrator"})]})]}),t.jsxs(v,{variant:"outline",size:"sm",className:"w-full",onClick:d,children:[t.jsx(D,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})}),t.jsxs("div",{className:"lg:pl-64",children:[t.jsxs("div",{className:"sticky top-0 z-40 flex h-16 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm lg:hidden",children:[t.jsx(v,{variant:"ghost",size:"sm",onClick:()=>e(!0),children:t.jsx(ee,{className:"h-5 w-5"})}),t.jsx("div",{className:"flex-1 text-sm font-semibold leading-6 text-gray-900",children:((h=u.find(m=>m.href===s.pathname))==null?void 0:h.name)||"Admin"})]}),t.jsx("main",{className:"py-6",children:i})]})]})};export{oe as A,ae as F,je as a,ve as b,S as u};
